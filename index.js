/*! For license information please see index.b4162b5b848eeddb42b2.js.LICENSE.txt */
(()=>{var e,t,n={4673:e=>{e.exports=[{key:"maxHp",display:e=>`生命值 +${Math.round(e)}`,validPositions:["plastron","gaiter","ornament"],generate:e=>(1*Math.random()+1)*e,range:e=>`${1*e}~${2*e}`,hooks:{maxHpAdd:(e,t)=>t+e}},{key:"hpRecovery",display:e=>"生命值恢复 +"+Math.round(100*e)/100,validPositions:["plastron","gaiter","ornament"],generate:e=>((.05*Math.random()+.025)*e+.1)*(1+.028113*e),range:e=>`${Math.round((.025*e+.1)*(1+.01*e)*100)/100}~${Math.round((.075*e+.1)*(1+.028113*e)*100)/100}`,hooks:{hpRecovery:(e,t)=>t+e}},{key:"mpRecovery",display:e=>"法力值恢复 +"+Math.round(100*e)/100,validClasses:["cloth","wand","ornament"],generate:e=>((.05*Math.random()+.025)*e+.1)*(1+.028113*e),range:e=>`${Math.round((.025*e+.1)*(1+.01*e)*100)/100}~${Math.round((.075*e+.1)*(1+.028113*e)*100)/100}`,hooks:{mpRecovery:(e,t)=>t+e}},{key:"atk_self",display:e=>`攻击力 +${Math.round(e)}`,validClasses:["machete","longsword","sword","swordshield","macheteshield"],generate:e=>(.25*Math.random()+.25)*e,range:e=>`${Math.round(.25*e)}~${Math.round(.5*e)}`,hooks:{atk_self_Add:(e,t)=>t+e}},{key:"critR_level",display:e=>`暴击 +${Math.round(e)}`,generate:e=>(1*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1.5*e)}`,hooks:{critRLAdd:(e,t)=>t+e}},{key:"critB_level",display:e=>`暴伤 +${Math.round(e)}`,generate:e=>(.75*Math.random()+1.5)*e,range:e=>`${Math.round(1.5*e)}~${Math.round(2.25*e)}`,hooks:{critBLAdd:(e,t)=>t+e}},{key:"leech",display:e=>`生命汲取 +${Math.round(e)}`,validPositions:["weapon","ornament"],generate:e=>((.05*Math.random()+.025)*e+.1)*(1+.028113*e),range:e=>`${Math.round((.025*e+.1)*(1+.01*e)*100)/100}~${Math.round((.075*e+.1)*(1+.028113*e)*100)/100}`,hooks:{leech:(e,t)=>t+e}},{key:"def",display:e=>`物理防御 +${Math.round(e)}`,validClasses:["ornament","armor","swordshield","macheteshield"],generate:e=>(2*Math.random()+1)*e,range:e=>`${Math.round(1*e)}~${Math.round(3*e)}`,hooks:{defselfAdd:(e,t)=>t+e}},{key:"str",display:e=>`力量 +${Math.round(e)}`,validClasses:["ornament","machete","longsword","sword","lightArmor","armor","swordshield","macheteshield"],generate:e=>(.5*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1*e)}`,hooks:{str:(e,t)=>t+e}},{key:"dex",display:e=>`敏捷 +${Math.round(e)}`,validClasses:["ornament","machete","longsword","sword","lightArmor"],generate:e=>(.5*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1*e)}`,hooks:{dex:(e,t)=>t+e}},{key:"int",display:e=>`智力 +${Math.round(e)}`,validClasses:["longsword","cloth","ornament","wand"],generate:e=>(.5*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1*e)}`,hooks:{int:(e,t)=>t+e}},{key:"sta",display:e=>`耐力 +${Math.round(e)}`,validPositions:["plastron","gaiter","ornament"],generate:e=>(.5*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1*e)}`,hooks:{sta:(e,t)=>t+e}}]},4786:(e,t,n)=>{e.exports=[...n(4673),...n(2880)]},2880:e=>{e.exports=[{key:"meleeAbsorb",display:e=>`物理吸收 +${Math.round(100*e)}%`,minLevel:200,validPositions:["ornament"],generate:e=>Math.round((5e-4*Math.random()+5e-4)*e*1e3)/1e3,range:e=>`${Math.round(.05*e*100)/100}%~${Math.round(.1*e*100/100)}%`,hooks:{meleeAbsorb:(e,t)=>t+e}},{key:"fireAbsorb",display:e=>`火焰吸收 +${Math.round(1e3*e)/10}%`,minLevel:200,validPositions:["ornament"],generate:e=>Math.round((5e-4*Math.random()+5e-4)*e*1e3)/1e3,range:e=>`${Math.round(.05*e*100)/100}%~${Math.round(.1*e*100/100)}%`,hooks:{fireAbsorb:(e,t)=>t+e}},{key:"coldAbsorb",display:e=>`寒冷吸收 +${Math.round(100*e)}%`,minLevel:200,validPositions:["ornament"],generate:e=>Math.round((5e-4*Math.random()+5e-4)*e*1e3)/1e3,range:e=>`${Math.round(.05*e*100)/100}%~${Math.round(.1*e*100/100)}%`,hooks:{coldAbsorb:(e,t)=>t+e}},{key:"lightningAbsorb",display:e=>`闪电吸收 +${Math.round(100*e)}%`,minLevel:200,validPositions:["ornament"],generate:e=>Math.round((5e-4*Math.random()+5e-4)*e*1e3)/1e3,range:e=>`${Math.round(.05*e*100)/100}%~${Math.round(.1*e*100/100)}%`,hooks:{lightningAbsorb:(e,t)=>t+e}},{key:"lightAbsorb",display:e=>`光吸收 +${Math.round(100*e)}%`,minLevel:200,validPositions:["ornament"],generate:e=>Math.round((5e-4*Math.random()+5e-4)*e*1e3)/1e3,range:e=>`${Math.round(.05*e*100)/100}%~${Math.round(.1*e*100/100)}%`,hooks:{lightAbsorb:(e,t)=>t+e}},{key:"darkAbsorb",display:e=>`暗吸收 +${Math.round(100*e)}%`,minLevel:200,validPositions:["ornament"],generate:e=>Math.round((5e-4*Math.random()+5e-4)*e*1e3)/1e3,range:e=>`${Math.round(.05*e*100)/100}%~${Math.round(.1*e*100/100)}%`,hooks:{darkAbsorb:(e,t)=>t+e}},{key:"allResist",display:e=>`元素抗性 +${Math.round(e)}`,validClasses:["ornament","cloth","swordshield","macheteshield"],generate:e=>(1*Math.random()+1)*e,range:e=>`${Math.round(1*e)}~${Math.round(2*e)}`,hooks:{allResAdd:(e,t)=>t+e}},{key:"lucky",display:e=>"运气 +"+(0|e),validPositions:["ornament"],generate:e=>(1*Math.random()+.5)*e,range:e=>`${Math.round(e)}~${Math.round(1.5*e)}`,hooks:{mf:(e,t)=>t+e/100,gf:(e,t)=>t+e/100}},{key:"dmgLevel",display:e=>`物理伤害 +${Math.round(e)}`,minLevel:100,validPositions:["weapon","ornament"],generate:e=>(1*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1.5*e)}`,hooks:{dmgLAdd:(e,t)=>t+e}},{key:"firedmgLevel",display:e=>`火焰伤害 +${Math.round(e)}`,minLevel:100,validPositions:["weapon","ornament"],generate:e=>(1*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1.5*e)}`,hooks:{firedmgLAdd:(e,t)=>t+e}},{key:"colddmgLevel",display:e=>`寒冷伤害 +${Math.round(e)}`,minLevel:100,validPositions:["weapon","ornament"],generate:e=>(1*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1.5*e)}`,hooks:{colddmgLAdd:(e,t)=>t+e}},{key:"lightningdmgLevel",display:e=>`闪电伤害 +${Math.round(e)}`,minLevel:100,validPositions:["weapon","ornament"],generate:e=>(1*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1.5*e)}`,hooks:{lightningdmgLAdd:(e,t)=>t+e}},{key:"darkdmgLevel",display:e=>`黑暗伤害 +${Math.round(e)}`,minLevel:100,validPositions:["weapon","ornament"],generate:e=>(1*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1.5*e)}`,hooks:{darkdmgLAdd:(e,t)=>t+e}}]},1484:e=>{e.exports={version:"2024.4.18",description:"永夜玩家交流QQ群：614658451，欢迎加入了解最新永夜资讯。\n请各路魔改版本/MOD作者保留上述群号，谢谢。\n\n保命声明：\n此魔改版本的作者为不务正业以及从未正经学过计算机的业余爱好者，烂尾、bug、瞎鸡儿改一切皆有可能，务必要有心理准备。\n根据老白大佬的指导意见，正式更名为“永夜之开局一把剑”。\n\n①网页版\n网页版传送门1（首选）\nhttps://cszwbirbwl.github.io\n网页版传送门2（首选不行再备胎）\nhttps://cszwbirbwl-github-io.pages.dev\n两者同步更新，但存档互相独立\n\n更新说明\n2024.4.18\n1.增加了特殊装备“杰哥的眼镜”，来自大佬“你犯天条了知道吗？”。\n2.增加了特殊装备“兄弟的酒”，来自大佬“缺盐的咸鱼”。\n3.增加了特殊装备“舍友的丝袜”，来自大佬“无关风月”。\n4.“火球术”减少了0.5秒的施法时间。\n5.增加了新职业“水魄”、“冰魂”。\n6.现在每点力量可以为“魔剑”、“焚天”额外增加相应的火焰、寒冷伤害了。\n\n2024.4.16\n1.增加了最最基础的DPS统计功能，日后再优化。\n\n2024.4.12\n1.修复了反伤刺甲、攻速暴击腿甲目标不正确的bug。\n2.增加了新的特殊装备“幽影斗篷”。\n3.真实伤害不会再被护盾所吸收了，血魔警告。\n4.调整了元素法师个别技能的等级要求。\n5.新增了三转“电主”、“雷神”。\n\n2024.4.11\n1.修复了鱼人祭祀伤害过高的bug。\n2.调整了被动技能“坚韧”的效果。\n3.调整了主动技能“元素化”的效果,使其更像是一个爆发技能。\n4.经验圣殿的效果对技能熟练度也能起作用了。\n5.现在各类伤害属性将不会出现在装备品级100以下的装备上。\n6.根据风月无关大佬、无聊大佬的建议，增加了新的特殊装备“方向盘”。\n7.根据秃驴大佬的建议，增加了新的特殊装备“护身戒指”、“麻痹戒指”、“防御戒指”。\n\n2024.4.10\n1.默认的拾取规则更改为：普通-出售、优秀-出售、精良-分解、史诗-分解、传说-拾取。\n2.圣殿增益的持续时间延长到60秒。\n3.新增了三转“赤焰”、“青火”，待集齐法师三转后上传最终安装包。\n\n2024.4.9\n1.上调了通过后副本获得的经验值。\n2.增加了经验值补偿机制，未满级的角色将获得更多的经验值，鲱鱼干的效果将不再显示在面板上。\n\n2024.4.8\n1.降低了因等级差产生的经验值惩罚，获得的经验值将至少保留10%。\n2.提高了刷新圣殿的效率，增加了“经验圣殿”。\n\n2024.4.7\n1.掉落的低级副本钥石将直接转化为副本次数，已经掉落的钥石仍然可以使用，解放可怜的包包。\n2.现在野外的小怪秒刷了，难度明显提高，但掉落也更多了。\n3.加快了个别副本的进度。\n4.隐藏职业“黑暗君主”现在可以兼用“长剑”类武器，且“太刀”不会出现在200品级以下的装备中了。\n5.增加了两件新的特殊装备，详见EXCEL。\n\n2024.4.6\n1.现在通关副本（不包括噩梦、年兽）后将有5次掉落机会，包括武器2次，上衣1次，下装1次，首饰1次，但拆解装备获得的神力也减少了。\n2.重铸消耗再次减半，各类装备可重铸的属性详见EXCEL。\n3.降低了大部分副本的难度。\n4.感恩云轩大佬，现在转职将保留等级和装备了。\n\n2024.4.5\n1.现在可以体验“水之使徒”职业了。\n2.为刀客增加了新的三转职业。\n3.增加了几件新的特殊装备和专属掉落，且特殊装备的掉率×2.5。\n4.新建了“元素法师”三转的文件夹。\n\n2024.4.3\n1.提高了战士系列武器的基础攻击力。\n2.现在每点力量可以为艾尔额外增加1点物理伤害。\n3.削弱了“法力转化”的效果，提高了“和弦”和“魔力激化”的效果。\n4.修正了法师技能等级的错误加成，这一刀法师削大了。\n5.减少了“守护者之魂”的冷却时间，且不需要读条了。\n6.削弱了“昏迷”效果相关的所有技能，且“昏迷”期间可以正常触发技能(包括且不限于被动技能荆棘以及格挡、防御之后触发的技能)。\n7.现在装备上可以重铸出物理、火焰、寒冷、闪电、黑暗伤害的属性了。\n8.现在可以体验“雷之使徒”职业了。\n\n2024.4.2\n1.现在可以体验“火之使徒”职业了。\n\n2024.4.1\n1.守护者喜提加强，至少比以前强。\n2.旋风斩、重斩喜提加强。\n3.现在耐力会为艾尔提供额外的生命恢复了。\n4.修复了旧bug，并更新了新的bug们。\n\n2024.3.30\n1.钥石掉率×1.5，红包掉率×1.5。\n2.可怕的双前缀敌人遭到削弱，但是增加了增益前缀和减益前缀各两个。\n3.现在噩梦副本将掉落随机品质等级的装备了。\n4.添加了部分角色、职业的简介。\n\n2024.3.29\n1.现在可以正常掉落法杖类武器了，并且添加了一款特殊装备。\n2.现在可以体验“元素法师”职业了。\n3.现在角色如果不幸战败，将于20秒后在原地满状态归来。\n4.修复了旧bug，并更新了新的bug们。\n\n2024.3.27\n1.优化了一部分的技能描述。\n2.现在所有单位的物理防御和抗性属性最多只能减少75%的伤害，角色的吸收属性最多吸收75%的伤害。\n3.急速属性的上限调整为300%。\n4.“艾冯十世·普洛·麦克斯”大佬为大家定制了贼强贼强的隐藏职业，提示：庇护所773号的暗影法师奈布最近皮有点痒。\n5.这一波强化的是谁？是魔剑的“炎铠”。\n6.噩梦地图的敌人以及年兽再次遭到削弱。\n7.现在只有200品质以上的防具、首饰才可以重铸出吸收属性了。\n8.“报纸壳壳”一众七兄弟大大加强。\n9.年兽装备的款式增加了。\n\n2024.3.24\n1.现在可以支持负值的防御和抗性了，负值越大则受到的伤害越高；但因为受到了创世神艾尔的庇佑，你的防御和抗性最多减少到0。\n2.现在部分敌人将拥有负值的防御或者抗性，不过苟有所长（短）也必有所短（长），请尽量选择合适的属性伤害。\n3.减少了附魔、重铸的材料、神力消耗。\n4.感谢“云轩”大佬的指导，现在的背包更大了。\n\n2024.3.22\n1.噩梦、年兽的敌人全都惨遭削弱。\n\n2024.3.21\n1.幽暗的货仓、睡美人湖、噩梦巨人国度的敌人惨遭削弱。\n2.因为生存环境遭到破坏，你在副本（洞窟深处-森林深处）中遇到的敌人数量减少了很多。\n3.你被强化了，现在每1点耐力可以提供物理防御及所有抗性各1点，快上！\n4.“守护者”的被动技能“荆棘”效果调整。\n5.感谢“艾冯十世·普洛·麦克斯”大佬的支持，“无敌斩”正式更名为“吴迪斩”，并添加了防打断效果（但并不知道是否有效）。\n\n2024.3.20\n1.混乱元素之塔的敌人惨遭削弱。\n\n2024.3.18\n1.红包现在最高只能开出200品质等级的装备了。\n2.蓝装（优秀）现在不能拆解了，而且“不提示拆解高品质物品”将默认勾选，装备且拆且珍惜。\n3.森林三兄弟也有专属装备了。\n4.长剑和双刀的基础属性调整，相信不再刮痧。\n5.可以体验魔法学徒的部分技能了，但仍然不会掉落任何相关的装备。\n\n2024.3.17\n1.修复了“守护者”技能学习等级错误的bug，但不影响已经携带的技能。\n2.“剑斗士”已经太强了，我们来削弱一下“守护者”吧。\n\n2024.3.16更新说明\n1.意外建立的“亚莲娜”角色可以（必须）删除了，让她再多学一点新技能再加入战斗。\n2.主动、被动技能的携带数量调整，以便于低级角色练级。\n3.武器、首饰的附魔增加“生命汲取”属性。\n4.增加了“刀客”职业，以及相应的武器“双刀”。\n5.技能经验值调整为原版标准，先练技能的兄弟有福了。\n6.现在每一种非boss召唤的小怪都能掉落钥石了，掉率均为0.001。\n7.红包掉率翻倍，小怪为0.0002，BOSS为0.2。\n8.红包可以正常开出年兽巢穴钥石和年兽的心脏了。\n9.附魔属性“生命值”下调为每品质等级1-2点生命值，但不影响已经掉落的装备。\n10.卡卡列夫也有专属装备了。\n11.微调了“重斩”、“炎龙吐息”的技能效果。\n12.修复旧bug，并更新了新的bug们，实在不行就回滚一个版本。\n\n\n2024.3.13 更新说明\n1.为“艾尔”设定了全新的职业、技能：\n  ①当等级达到15级且任意角色完成“迷雾森林”首通时，开启第一次转职；\n  ②当等级达到35级且任意角色完成“庇护所773号”首通时，开启第二次转职；\n  ③部分职业在等级达到80级且任意角色完成“未知暗殿”首通时，开启第三次转职；\n  ④暂时禁用“刺客”、“圣骑士”职业。\n  ⑤在转职时请务必要完整阅读提示，以避免不必要的损失。\n2.暂时禁用角色“亚莲娜”。\n3.角色等级、携带技能数量调整。\n4.拆解装备获得的各种碎片整合为“奇怪的精粹”。\n5.调整附魔功能：新的附魔不会让装备的属性下降，但随数值的提高，附魔的成功率会降低。\n6.暴击几率的上限调整为100%。\n7.基础生命值恢复调整为1/s，再也不会被史莱姆们暴捶了。\n8.所有伤害技能的基础命中率调整为100%。\n9.主动技能的等级上限调整为50级。\n10.装备的基本类型调整：\n  ①武器：长剑、剑盾；\n  ②上衣：锁子甲（重甲）、骨甲（轻甲）；\n  ③下装：锁链靴（重甲）、骨靴（轻甲）；\n  ④首饰：秘银指环。\n11.四维加成调整：\n\t每1点力量增加：物理伤害+1，物理防御+1；\n    每1点敏捷增加：暴击等级+1，暴伤等级+1，闪避值+1；\n\t每1点智力增加：元素伤害+1，元素抗性+1；    \n    每1点耐力增加：生命值+5，物理防御+0.5，元素抗性+0.5；\n\t因为重做了数值，所以睡几天仍然打不过一个BOSS是件很正常的事情。\n12.原“炼金”功能拆分为“厨艺”和“炼金”。\n"}},4130:(e,t,n)=>{function r(e){const t={};for(const n of e)t[n.key]=n;return t}e.exports={careers:r(n(8627)),roles:r(n(1725)),maps:r(n(3663)),enemies:r(n(9580)),skills:r(n(5218)),goods:r(n(4058)),passives:r(n(5034)),enhances:r(n(787)),buffs:r(n(1990)),affixes:r(n(4786)),enemyAffixes:r(n(1862)),stories:r(n(4589)),legends:r(n(118)),producers:n(8531),upgrades:n(9818),medicines:r(n(206)),cookings:r(n(7586))}},7258:e=>{e.exports=[{key:"assassin.cutting",name:"切割",description:"增加攻击速度和能量恢复速度",hooks:{atkSpeed(e){return this.arg*e},epRecoveryMul(e){return this.arg*e}}},{key:"assassin.Ambush",name:"伏击",notRemoveWhenTransform:!0,description:"不能再次被伏击",hooks:{isAmbushed:e=>!0}},{key:"assassin.dodge",name:"闪避",description:"几率闪避所有攻击",hooks:{noDodgeRate(e){return e/this.arg}}},{key:"assassin.prevertDeath",name:"假死",description:"减少所受所有伤害的90%",hooks:{willDamaged:e=>.1*e}},{key:"assassin.prevertDeathCD",name:"假死调息",description:"最近激活过了假死，不能再次激活",hooks:{}}]},4770:e=>{e.exports=[{key:"summoned",name:"召唤生物",hidden:!0,description:"到点就挂",hooks:{getSummonedBuff(e){return this}},willRemove(){"ghost"===this.unit.camp||this.stopped||this.unit.kill()}},{key:"summon.upgraded",name:"升级",description:"升级了",notRemoveWhenTransform:!0,hooks:{atkMul(e){return e*(this.arg/100+1)},maxHpMul(e){return e*(this.arg/100+1)},"summon.upgraded":function(){return!0}}},{key:"legend-wand-1",name:"鞭笞",description:"攻击速度增加100%",hooks:{speedRateAdd:e=>2*e}}]},6986:e=>{e.exports=[{key:"kakarif.mad",name:"狂热",description:"增加卡卡列夫攻击速度",hooks:{atkSpeedMul:e=>4*e}},{key:"shieldReflect",name:"盾牌反射",description:"反射所有法术伤害",hooks:{shieldReflect:(e,t)=>"melee"!==t?.2:void 0}},{key:"ghostShield",name:"幽魂护盾",hooks:{willDamaged:(e,t,n)=>"real"===n?e:1}},{key:"murloc.thumpHead",name:"鱼人大军",effectInterval:500,effect(e){e.addEnemy("chapter3.murloc.army",null,0,this.unit)}},{key:"murloc.waterShield",name:"水泡护盾",description:()=>"吸收伤害",hooks:{absorbed(e){const t=this.arg,n=Math.min(e,t);return this.arg-=n,this.arg<=.001&&this.over(),e-n}}},{key:"fishzilla.focus",name:"奥术射线",hidden:!0,description:()=>"使目标受到的所有伤害提升100%",didAppear(){this.unit.target&&(this.targetBuff=this.unit.target.addBuff("fishzilla.focused"))},willRemove(){this.targetBuff&&(this.targetBuff.unit.removeBuff(this.targetBuff),this.targetBuff=null)}},{key:"fishzilla.focused",name:"奥术射线",notSave:!0,description:()=>"使目标受到的所有伤害提升100%",hooks:{willDamaged:(e,t)=>2*e}},{key:"nynnroth.shield",name:"定海",description:"减少所受的90%冰冷伤害",hooks:{willDamaged:(e,t,n)=>"cold"===n?e/10:e}},{key:"enemy.upgrade",name:"愤怒",description:"增加攻击力",hooks:{atkAdd:e=>e+.1}},{key:"wolf.worry",name:"撕咬",effectInterval:2e3,effect(e){e.sendDamage("melee",null,this.unit,null,this.arg,!1)}},{key:"enemy.evil.reading1",name:"精神鞭笞",effectInterval:500,effect(e){const t=this.unit,{target:n}=t;n?e.sendDamage("dark",t,n,this.skill,.2*t.atk,!1):t.removeBuff(this)}},{key:"enemy.evil.control",name:"精神控制",didAppear(){this.unit.setCamp("enemy")},willRemove(){this.unit.setCamp("alien")}},{key:"shamansa.spew",name:"呕吐",effectInterval:500,effect(e){e.addEnemy("chapter5.woodElf.arms",null,0,this.unit)}},{key:"rosa.angry",name:"狂热",description:"增加卡卡列夫攻击速度",hooks:{atkSpeedMul:e=>4*e}},{key:"mz2skill1_buff",name:"1",hidden:!0,hooks:{willDamaged(e,t,n){return this.arg+=e,e}}}]},1990:(e,t,n)=>{e.exports=[...n(6107),...n(6986),...n(7877),...n(7258),...n(5677),...n(5244),...n(4770),...n(1240),...n(2129),...n(8215)]},5677:e=>{e.exports=[{key:"knight.holySign",name:"圣光圣印",description:"恢复攻击者的气血值",hooks:{damaged(e,t){return t.hp+=e*this.arg,e}}},{key:"knight.damageSign",name:"审判圣印",description:"恢复攻击者的气血值",hooks:{preskill(e,t){const n=this.arg,{playerUnit:r}=t;if(!r)return;const{atk:i}=r,o=t.units.filter((e=>r.willAttack(e)));for(const e of o){if(t.testDodge(r,e,this))return;const o=i*n,a=r.testCrit(),s=r.getCritBonus(a);t.sendDamage("holy",r,e,{name:"审判圣印"},o*s,a)}}}},{key:"knight.shieldReflect",name:"盾牌反射",description:"反射所有法术伤害",hooks:{shieldReflect(e,t){return"melee"!==t&&"real"!==t?this.arg:0}}},{key:"holyShield",name:"圣盾术",hooks:{absorbed:(e,t)=>"melee"===t?0:e}},{key:"knight.pray",name:"祈祷",effectInterval(){return this.arg},effect(e){const{unit:t}=this;t&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=e.runAttrHooks(3,"maxComboPoint");e.runAttrHooks(t,"holyCombo"),e.comboPoint=Math.min(n,e.comboPoint+t)}(t)}},{key:"knight.deserve",name:"奉献",effectInterval:2e3,effect(e){const{unit:t,arg:n}=this;if(!t)return;const r=t.atk*(.2*n+1),i=e.units.filter((e=>t.willAttack(e))),{critRate:o=0,critBonus:a=1.5}=t;i.forEach((n=>{if(e.testDodge(t,n,this))return;const i=r*(.2*Math.random()+.3),o=t.testCrit(),a=t.getCritBonus(o);e.sendDamage("melee",t,n,this.skill,i*a,o),n.runAttrHooks(t,"attacked")}))}}]},2129:e=>{e.exports=[{key:"skill2_buff",name:"力量光环",hidden:!0,description:"",hooks:{dmgAdd(e){const t=this.unit;return e+this.arg+(t.runAttrHooks(!1,"pal_enhance5")?.1:0)+(t.runAttrHooks(!1,"pal_enhance3")?.1:0)},skill2_buff:()=>!0}},{key:"skill3_buff",name:"牺牲×2",hidden:!0,description:""},{key:"skill5_buff1",name:"神圣之火",hidden:!0,description:"",effectInterval:999,effect(e){const t=this.unit,{target:n}=t;if(n){const r=t.int*(.08*this.arg+1)*t.firedmgAdd,i=t.testCrit();e.sendDamage("fire",t,n,"神圣之火",t.getCritBonus(i)*r,i),t.runAttrHooks(!1,"skill16_buff")&&n.addBuff("skill5_buff2",null,t.player.getSkillLevel("paladin_skill16")),t.addBuff("skill5_buff3",1005,null,"skill5_buff3")}}},{key:"skill5_buff2",name:"神圣之火",hidden:!0,description:"",hooks:{fireResist(e){return e-this.arg}}},{key:"skill5_buff3",name:"神圣之火",hidden:!0,description:"",hooks:{fireAbsorb(e){return e+(this.unit.runAttrHooks(!1,"pal_enhance2")?.1:0)},skill5_buff:()=>!0,willDamage(e,t,n){const r=this.unit;return"melee"===n&&r.useExtraSkill("holy_skill"),e}}},{key:"skill8_buff",name:"复仇",hidden:!0,description:"",hooks:{willDamaged(e,t,n){return"fire"===n||"cold"===n||"lightning"===n?e*(1+this.arg):e}}},{key:"skill9_buff1",name:"神圣冰冻",hidden:!0,description:"",effectInterval:999,effect(e){const t=this.unit,{target:n}=t;if(n){const r=t.int*(.08*this.arg+1)*t.colddmgAdd,i=t.testCrit();e.sendDamage("cold",t,n,"神圣冰冻",t.getCritBonus(i)*r,i),t.runAttrHooks(!1,"skill16_buff")&&n.addBuff("skill9_buff2",null,t.player.getSkillLevel("paladin_skill16")),t.addBuff("skill9_buff3",1005,null,"skill9_buff3")}}},{key:"skill9_buff2",name:"神圣冰冻",hidden:!0,description:"",hooks:{coldResist(e){return e-this.arg}}},{key:"skill9_buff3",name:"神圣冰冻",hidden:!0,description:"",hooks:{coldAbsorb(e){return e+(this.unit.runAttrHooks(!1,"pal_enhance6")?.1:0)},skill9_buff:()=>!0,willDamage(e,t,n){const r=this.unit;return"melee"===n&&r.useExtraSkill("holy_skill"),e}}},{key:"skill13_buff1",name:"神圣冲击",hidden:!0,description:"",effectInterval:999,effect(e){const t=this.unit,{target:n}=t;if(n){const r=t.int*(.08*this.arg+1)*t.lightningdmgAdd,i=t.testCrit();e.sendDamage("lightning",t,n,"神圣冲击",t.getCritBonus(i)*r,i),t.runAttrHooks(!1,"skill16_buff")&&n.addBuff("skill13_buff2",null,t.player.getSkillLevel("paladin_skill16")),t.addBuff("skill13_buff3",1005,null,"skill13_buff3")}}},{key:"skill13_buff2",name:"神圣冲击",hidden:!0,description:"",hooks:{lightningResist(e){return e-this.arg}}},{key:"skill13_buff3",name:"神圣冲击",hidden:!0,description:"",hooks:{lightningAbsorb(e){return e+(this.unit.runAttrHooks(!1,"pal_enhance12")?.1:0)},skill13_buff:()=>!0,willDamage(e,t,n){const r=this.unit;return"melee"===n&&r.useExtraSkill("holy_skill"),e}}},{key:"skill14_buff1",name:"庇护之光",hidden:!0,description:"",effectInterval:999,effect(e){const t=this.unit,{target:n}=t;if(n){const r=t.int*(.08*this.arg+1)*t.lightdmgAdd,i=t.testCrit();e.sendDamage("light",t,n,"庇护之光",t.getCritBonus(i)*r,i),t.runAttrHooks(!1,"pal_enhance7")&&n.addBuff("skill14_buff2"),t.addBuff("skill14_buff3",1005,null,"skill14_buff3")}}},{key:"skill14_buff2",name:"庇护之光",hidden:!0,description:"",hooks:{lightResist:e=>e-25}},{key:"skill14_buff3",name:"庇护之光",hidden:!0,description:"",hooks:{skill14_buff:()=>!0,willDamage(e,t,n){const r=this.unit;return"melee"===n&&r.useExtraSkill("holy_skill"),e}}},{key:"skill16_buff1",name:"信念",description:"",hidden:!0,effectInterval:999,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e)))){const e=100+8*this.arg+(t.runAttrHooks(!1,"pal_enhance10")?200:0);n.addBuff("skill16_buff2",1e3,e+(t.runAttrHooks(!1,"pal_enhance2")?300:0),"skill16_buff2"),n.addBuff("skill16_buff3",1e3,e+(t.runAttrHooks(!1,"pal_enhance6")?300:0),"skill16_buff3"),n.addBuff("skill16_buff4",1e3,e+(t.runAttrHooks(!1,"pal_enhance12")?300:0),"skill16_buff4"),n.addBuff("skill16_buff5",1e3,e,"skill16_buff5")}t.addBuff("skill16_buff6",1005,null,"skill16_buff6")}},{key:"skill16_buff2",name:"信念·火",hidden:!0,description:"",hooks:{fireResist(e){return e-this.arg}}},{key:"skill16_buff3",name:"信念·冰",hidden:!0,description:"",hooks:{coldResist(e){return e-this.arg}}},{key:"skill16_buff4",name:"信念·电",hidden:!0,description:"",hooks:{lightningResist(e){return e-this.arg}}},{key:"skill16_buff5",name:"信念·物",hidden:!0,description:"",hooks:{defAdd(e){return e-this.arg}}},{key:"skill16_buff6",name:"信念光环",hidden:!0,description:"",hooks:{skill16_buff:()=>!0}},{key:"skill17_buff",name:"狂热光环",hidden:!0,description:"",hooks:{speedRateAdd:e=>e+.1,atk_Add(e){const t=this.unit;return e+t.atk_self*(this.arg+(t.runAttrHooks(!1,"pal_enhance5")?.1:0)+(t.runAttrHooks(!1,"pal_enhance8")?.1:0))},skill17_buff:()=>!0}}]},8215:e=>{e.exports=[{key:"shrine.energy",name:"能量圣殿",description:"恢复能量速度提高",hooks:{mpRecovery(e){return e+.1*this.unit.maxMp},rpReceiveMul:e=>3*e,epRecoveryMul:e=>3*e}},{key:"shrine.power",name:"威能圣殿",description:"恢复能量速度提高",hooks:{atkMul:e=>1.5*e,dmgMul:e=>1.5*e}},{key:"shrine.experience",name:"经验圣殿",description:"经验值×5",hooks:{expMul:e=>5*e,skillExpMul:e=>5*e}}]},5244:e=>{e.exports=[{key:"simba.comeOnFriends",name:"好兄弟加油",hooks:{speedRate:e=>2*e}},{key:"simba.goodFriends",name:"好兄弟",hooks:{willClean(e,t,n){const r=n.units.filter((e=>e!==t&&e.runAttrHooks(!1,"simba.goodFriends")));let i=!1;for(const e of r)"ghost"!==e.camp&&(e.addBuff("simba.comeOnFriends"),i=!0);if(i)return!1;for(const e of r)e.setCleanTimer();return e}}}]},7877:e=>{function t(e,t){const n=t.buffs.find((e=>"freezed"===e.group)),r=e.runAttrHooks(!1,"lv80_sorceress4_enhance3");n?r?(e.useExtraSkill("ice_plus"),t.removeBuff(n)):n.resetTimer(1500):t.addBuff("freezed",1500,null,"freezed")}e.exports=[{key:"cold",name:"寒冷",description:"所有行动减缓20%。",hooks:{cold:e=>!0,speedRateAdd:e=>.8*e}},{key:"coldAir",name:"冻气",description:"所有行动减缓。",hooks:{cold:e=>!0,speedRateAdd(e){return e*(1-(this.arg||0))}}},{key:"freezed",name:"冻结",description:"不能行动",hooks:{freezed(e){return this}},willRemove(){this.unit.timeline.resume(),this.unit.tryUseSkill(this.unit.canUseSkill())},didAppear(){this.unit.timeline.pause()}},{key:"magicShield",name:"魔法盾",description:()=>"消耗魔法并吸收伤害",hooks:{haveMagicShield:()=>!0,absorbed(e){const{unit:t}=this,n=this.arg[0],r=this.arg[1],i=Math.min(e,r,n*t.mp),o=i/n;return t.mp-=o,t.runAttrHooks(o,"postCostMp"),this.arg[1]-=i,this.arg[1]<=.001&&this.over(),e-i}}},{key:"iceShield",name:"冰霜护盾",description:()=>"冰冻攻击者",hooks:{defAdd(e){return e+this.arg},attacked(e){const{unit:t}=this;return Math.random()<t.runAttrHooks(!1,"soCold")&&e.stun(3,"freezed")||e.addBuff("cold",3e3,null,"cold"),t.runAttrHooks(!1,"coldAir")&&function(e){const t=e.buffs.find((e=>"coldAir"===e.group));t?t.arg=Math.min(t.arg+.01,.99):e.addBuff("coldAir",null,.01,"coldAir")}(e),e}}},{key:"transform",name:"变形术",description:"变形",hooks:{transformed:e=>!0,displayName(e){return`[${this.arg}]${e}`},damaged(e){return e>0&&this.over(),e}},willRemove(){this.unit.timeline.resume(),this.unit.tryUseSkill(this.unit.canUseSkill())},didAppear(){this.unit.timeline.pause()}},{key:"fireShield",name:"烈焰护盾",description:()=>"增加会心和会心效果",hooks:{critRate:e=>e+.1,critBonus(e){return e+this.arg}}},{key:"flaming",name:"燃尽",hidden:!0,description:()=>"造成持续的火焰伤害",effectInterval:1e3,effect(e){e.sendDamage("fire",null,this.unit,null,this.arg,0)}},{key:"awaking",name:"唤醒",hidden:!0,hooks:{mpRecovery(e){return e+this.arg}}},{key:"magicState",name:"法力共鸣",hidden:!0,description:()=>"下一个不同系的法术将使你的攻击力上升10%，持续5秒"},{key:"magicArtist",name:"法力交织",description:"伤害增加百分比",hooks:{dmgAdd(e){return this.arg+e}}},{key:"manaShield",name:"法力护盾",description:()=>"吸收伤害",hooks:{absorbed(e){const{unit:t}=this,n=this.arg,r=Math.min(e,n);return this.arg-=r,this.arg<=.001&&this.over(),e-r}}},{key:"vitalitywater_buff",name:"活力之水",description:"活力之水",effectInterval:1e3,effect(e){const t=this.unit;t.hp+=t.maxHp*this.arg,t.mp+=t.maxMp*this.arg}},{key:"chord_buff",name:"和弦",hidden:!0},{key:"sorceress_overdraft_buff1",name:"透支",description:"透支",hooks:{firedmgAdd(e){return e+.25+.005*this.arg},mpRecovery(e){return e-50-this.arg}}},{key:"sorceress_overdraft_buff2",name:"透支",description:"透支",hooks:{firedmgAdd(e){return e+.25+.005*this.arg}}},{key:"sorceress_hellfire_buff",name:"地狱之火",description:"地狱之火",hidden:!0,effectInterval:999,effect(e){const t=this.unit,{target:n}=t;if(n)for(const n of e.units.filter((e=>t.willAttack(e)))){const r=this.arg*(.5+Math.random()),i=t.testCrit();e.sendDamage("fire",t,n,this.skill,t.getCritBonus(i)*r,i)}else t.removeBuff(this)}},{key:"sorceress_energy_buff",name:"蓄电"},{key:"supernova_buff",name:"麻痹",description:"麻痹",hooks:{atkMulAttr:e=>.5,speedRateAdd:e=>.9*e}},{key:"electrostatic_buff",name:"静电",description:"静电",hooks:{lightningResist(e){return e-this.arg}}},{key:"laoyin_buff",name:"烙印",description:"烙印",hooks:{fireResist:e=>e-30}},{key:"electricity_buff",name:"感电",hooks:{willDamaged(e,t,n){return"lightning"===n?e*(1+this.arg):e}}},{key:"lucky_buff1",name:"幸运A面",description:"幸运A面",hooks:{intAdd(e){return e+this.arg}}},{key:"lucky_buff2",name:"幸运B面",description:"幸运B面",hooks:{colddmgAdd(e){return e+this.arg}}},{key:"lucky_buff3",name:"幸运C面",description:"幸运C面",hooks:{hpRecovery(e){return e+this.arg},mpRecovery(e){return e+this.arg}}},{key:"coldShield",name:"寒冰护甲",description:"",hooks:{willDamaged(e,t,n){if("real"!==n)return e*this.arg}}},{key:"bc_fire_buff2",name:"元素化·烈焰",description:"元素化·烈焰",hidden:!0,effectInterval:499,effect(e){const t=this.unit,n=t.buffs.find((e=>"bc_fire_buff1"===e.group));t.mp/t.maxMp<.2||this.arg>=54?(t.removeBuff(n),t.removeBuff(this),t.addBuff("bc_cd_buff",15e3,null,"bc_cd_buff")):(t.mp-=.015*t.maxMp*this.arg,this.arg+=1)}},{key:"bc_fire_buff1",name:"元素化·烈焰",description:"元素化·烈焰",hooks:{firedmgAdd(e){return e+.01*this.arg+.5},willDamaged(e,t,n){return"cold"===n||"lightning"===n?e*(1+.005*this.arg+.25):"fire"===n?0:e}}},{key:"bc_cold_buff2",name:"元素化·寒冰",description:"元素化·寒冰",hidden:!0,effectInterval:499,effect(e){const t=this.unit,n=t.buffs.find((e=>"bc_cold_buff1"===e.group));t.mp/t.maxMp<.2||this.arg>=54?(t.removeBuff(n),t.removeBuff(this),t.addBuff("bc_cd_buff",15e3,null,"bc_cd_buff")):(t.mp-=.015*t.maxMp*this.arg,this.arg+=1)}},{key:"bc_cold_buff1",name:"元素化·寒冰",description:"元素化·寒冰",hooks:{colddmgAdd(e){return e+.01*this.arg+.5},willDamaged(e,t,n){return"fire"===n||"lightning"===n?e*(1+.005*this.arg+.25):"cold"===n?0:e}}},{key:"bc_lightning_buff2",name:"元素化·雷光",description:"元素化·雷光",hidden:!0,effectInterval:499,effect(e){const t=this.unit,n=t.buffs.find((e=>"bc_lightning_buff1"===e.group));t.mp/t.maxMp<.2||this.arg>=54?(t.removeBuff(n),t.removeBuff(this),t.addBuff("bc_cd_buff",15e3,null,"bc_cd_buff")):(t.mp-=.015*t.maxMp*this.arg,this.arg+=1)}},{key:"bc_lightning_buff1",name:"元素化·雷光",description:"元素化·雷光",hooks:{lightningdmgAdd(e){return e+.01*this.arg+.5},willDamaged(e,t,n){return"cold"===n||"fire"===n?e*(1+.005*this.arg+.25):"lightning"===n?0:e}}},{key:"bc_cd_buff",name:"虚了虚了",description:"虚了虚了"},{key:"sorceress_firewind_buff2",name:"灰烬",description:"灰烬",hidden:!0},{key:"sorceress_firewind_buff1",name:"焚骨",description:"焚骨",hidden:!0,effectInterval:999,effect(e){const t=this.unit,{target:n}=t;if(!n)return void t.removeBuff(this);const r=t.runAttrHooks(!1,"lv80_sorceress1_enhance5"),i=t.testCrit();e.sendDamage("fire",t,n,this.skill,t.getCritBonus(i)*this.arg*(.5+Math.random()),i),r&&(this.arg*=2)}},{key:"sorceress_hellfire_plus_buff",name:"狱炎之门",description:"狱炎之门",hidden:!0,effectInterval:249,effect(e){const t=this.unit,{target:n}=t;if(n)for(const n of e.units.filter((e=>t.willAttack(e)))){const r=this.arg*(.5+Math.random()),i=t.testCrit();e.sendDamage("fire",t,n,this.skill,t.getCritBonus(i)*r,i)}else t.removeBuff(this)}},{key:"sorceress_thunder_buff",name:"雷神降临",description:"雷神降临",hidden:!0,effectInterval:499,effect(e){const t=this.unit,{target:n}=t;if(n)for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.runAttrHooks(!1,"lv80_sorceress6_enhance1");let i=this.arg;i*=r?.3+.7*Math.random():Math.random();const o=t.testCrit();e.sendDamage("lightning",t,n,this.skill,t.getCritBonus(o)*i,o)}else t.removeBuff(this)}},{key:"sorceress_sea_buff",name:"海啸",description:"海啸",hidden:!0,effectInterval:499,effect(e){const t=this.unit,{target:n}=t;if(n)for(const n of e.units.filter((e=>t.willAttack(e)))){const r=this.arg*(.9+.2*Math.random()),i=t.testCrit();t.runAttrHooks(!1,"lv80_sorceress3_enhance5")&&n.addBuff("langshi",1e3,null,"langshi"),e.sendDamage("cold",t,n,this.skill,t.getCritBonus(i)*r,i)}else t.removeBuff(this)}},{key:"sorceress_blz_buff",name:"暴风雪",description:"暴风雪",hidden:!0,effectInterval:999,effect(e){const n=this.unit,{target:r}=n;if(r)for(const r of e.units.filter((e=>n.willAttack(e)))){const i=this.arg*(.9+.2*Math.random()),o=n.testCrit();Math.random()<.5&&t(n,r),e.sendDamage("cold",n,r,this.skill,n.getCritBonus(o)*i,o)}else n.removeBuff(this)}},{key:"langshi",name:"浪蚀",hidden:!0,description:"不能行动",hooks:{freezed(e){return this}},willRemove(){this.unit.timeline.resume(),this.unit.tryUseSkill(this.unit.canUseSkill())},didAppear(){this.unit.timeline.pause()}}]},1240:e=>{function t(e,t,n){const r=t.buffs.find((e=>"poison_buff"===e.group));r?(r.arg+=n,r.resetTimer(3e4)):t.addBuff("poison_buff",12e3,n,"poison_buff")}e.exports=[{key:"summoned",name:"召唤生物",hidden:!0,description:"到点就挂",hooks:{getSummonedBuff(e){return this}},willRemove(){"ghost"===this.unit.camp||this.stopped||this.unit.kill()}},{key:"stop_buff",name:"停滞",description:"不能行动",didRemove(){this.unit.timeline.resume(),this.unit.tryUseSkill(this.unit.canUseSkill())},didAppear(){this.unit.timeline.pause()},hooks:{stunned:e=>!0}},{key:"soul_ice_freezed",name:"冻结",description:"不能行动",hooks:{freezed(e){return this}},willRemove(){this.unit.timeline.resume(),this.unit.tryUseSkill(this.unit.canUseSkill())},didAppear(){this.unit.timeline.pause()}},{key:"soul_ice_cold",name:"冰缓",description:"所有行动减缓20%。",hooks:{speedRateAdd:e=>.8*e}},{key:"soul_power_buff",name:"鬼神·抛瓦",description:"",hooks:{strAdd(e){return 2*this.arg+50+e},intAdd(e){return 2*this.arg+50+e}}},{key:"soul_armor_buff",name:"鬼神·铠甲",description:"",hooks:{defAdd(e,t){return this.unit,e*(15+this.arg/2)/100+e},darkResist(e,t){return this.unit,e*(10+this.arg/2)/100+e}}},{key:"soul_armor_buff2",name:"鬼神·铠甲",hidden:!0,description:"",hooks:{darkdmgAdd(e,t){return.01*this.arg+e}}},{key:"karon_tombstonesummon_buff",name:"天降墓碑",description:"天降墓碑",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;if(n){for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.atk*(.8+.02*this.arg+Math.random()*(.1+.01*this.arg))*t.darkdmgAdd,i=t.testCrit();e.sendDamage("dark",t,n,this.skill,t.getCritBonus(i)*r,i)}e.addEnemy("karon_summon_tombstone",null,0,t,this).addBuff("summoned",t.runAttrHooks(15e3,"summonTime"))}else t.removeBuff(this)}},{key:"tombstonesummon_buff",name:"天降墓碑",description:"天降墓碑",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;if(n){for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.atk*(.8+.02*this.arg+Math.random()*(.1+.01*this.arg))*t.darkdmgAdd,i=t.testCrit();e.sendDamage("dark",t,n,this.skill,t.getCritBonus(i)*r,i)}e.addEnemy("summon_tombstone",null,0,t,this).addBuff("summoned",t.runAttrHooks(15e3,"summonTime"))}else t.removeBuff(this)}},{key:"soul_weak_buff1",name:"鬼神·虚弱",description:"鬼神·虚弱",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e))))n.addBuff("soul_weak_buff3",2e3,this.arg,"soul_weak_buff3")}},{key:"soul_weak_buff2",name:"鬼神·虚弱",description:"鬼神·虚弱",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e))))n.addBuff("soul_weak_buff4",2e3,this.arg,"soul_weak_buff4")}},{key:"soul_weak_buff3",name:"鬼神·虚弱",description:"",hooks:{willDamaged(e,t,n){return e*(1.2+.006*this.arg)}}},{key:"soul_weak_buff4",name:"鬼神·虚弱",description:"",hooks:{darkResist(e){return e-200*this.arg}}},{key:"soul_ice_buff",name:"鬼神·冰霜",description:"鬼神·冰霜",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e)))){const r=(1+t.atk*(.1+.001*this.arg+Math.random()*(.05+.001*this.arg)))*t.colddmgAdd,i=t.testCrit();e.sendDamage("cold",t,n,this.skill,t.getCritBonus(i)*r,i),n.addBuff("soul_ice_cold",2e3,null,"soul_ice_cold"),Math.random()<.1&&n.addBuff("soul_ice_freezed",1500,null,"soul_ice_freezed")}}},{key:"soul_poison_buff",name:"鬼神·瘟疫",description:"鬼神·瘟疫",hidden:!0,effectInterval:1e3,effect(e){const n=this.unit,{target:r}=n;for(const r of e.units.filter((e=>n.willAttack(e)))){const i=n.atk,o=(1+i*(.1+.001*this.arg+Math.random()*(.05+.001*this.arg)))*n.poisondmgAdd,a=n.testCrit();e.sendDamage("poison",n,r,this.skill,n.getCritBonus(a)*o,a),Math.random()<.2&&t(0,r,.2*i*n.poisondmgAdd)}}},{key:"soul_darkfire_buff",name:"鬼神·冥炎",description:"鬼神·冥炎"},{key:"soul_iceplus_buff",name:"鬼神·冰晶",description:"鬼神·冰晶",hidden:!0,effectInterval:500,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e)))){const r=(1+t.atk*(.05+.001*this.arg+Math.random()*(.05+.001*this.arg)))*t.colddmgAdd,i=t.testCrit();e.sendDamage("cold",t,n,this.skill,t.getCritBonus(i)*r,i),n.addBuff("soul_ice_cold",2e3,null,"soul_ice_cold"),Math.random()<.2&&n.addBuff("soul_ice_freezed",1500,null,"soul_ice_freezed")}}},{key:"soulbringer_enhance2_buff",name:"鬼斩·噬魂",description:"",hooks:{strAdd(e){return 10*this.arg+e},intAdd(e){return 10*this.arg+e}}}]},6107:e=>{function t(e,t,n){const r=t.buffs.find((e=>"fire_buff"===e.group));r?(r.arg+=n,r.resetTimer(12e3)):t.addBuff("fire_buff",12e3,n,"fire_buff")}e.exports=[{key:"element_fire_buff",name:"元素附魔",description:"元素附魔·火"},{key:"element_fire2_buff",name:"元素附魔·火",hidden:!0,description:"元素附魔·火"},{key:"fire_buff",name:"灼烧",description:"元素附魔·火",effectInterval:2999,effect(e,t,n){e.sendDamage("fire",null,this.unit,"灼烧",this.arg,0)}},{key:"poison_buff",name:"中毒",description:"中毒",effectInterval:2999,effect(e,t,n){const{hp:r,maxHp:i}=this.unit;let o=1+5*(1-r/i);e.sendDamage("poison",null,this.unit,"中毒",this.arg*o,0)}},{key:"darkfire_buff",name:"冥炎",description:"元素附魔·火",effectInterval:999,effect(e,t,n){e.sendDamage("dark",null,this.unit,"冥炎",this.arg,0)}},{key:"hamstring_buff",name:"断筋",description:"所有行动减缓30%。",hooks:{speedRateAdd(e){return this.arg*e}}},{key:"white_heat_buff",name:"白热化",description:"所有行动减缓30%。",hooks:{speedRateAdd(e){return this.arg+e}}},{key:"warrior_hp_buff",name:"气血激增",description:"生命值上限增加",hooks:{maxHpAdd(e){return this.arg+e}}},{key:"warrior_def_buff",name:"钢铁之躯",description:"物理防御增加",hooks:{defAdd(e){return this.arg+e}}},{key:"warrior_res_buff",name:"钢铁之躯",hidden:!0,description:"元素抗性增加",hooks:{allResAdd(e){return this.arg+e}}},{key:"block_buff",name:"格挡姿态",description:"格挡后减少50%伤害",hooks:{willDamaged:(e,t)=>Math.random()<=.15?e/2:e}},{key:"block2_buff",name:"格挡姿态",description:"格挡后减少50%伤害",hooks:{willDamaged(e,t){const n=this.unit;return Math.random()<=.3?(n.useExtraSkill("whirlwind"),e/2):e}}},{key:"block3_buff",name:"格挡姿态",description:"格挡后减少50%伤害",hooks:{willDamaged(e,t){const n=this.unit;return Math.random()<=.3?(n.useExtraSkill("fury_cutter"),e/2):e}}},{key:"kedi_buff",name:"克敌",hidden:!0,description:"易伤30%",hooks:{willDamaged:(e,t)=>1.3*e}},{key:"flame_armor_buff",name:"炎铠",description:"反射伤害",hooks:{attacked(e){!function(e,t){const n=e.buffs.find((e=>"fire_buff"===e.group));n?(n.arg+=t,n.resetTimer(15e3)):e.addBuff("fire_buff",15e3,t,"fire_buff")}(e,this.arg)}}},{key:"lv80_warrior1_enhance1_buff",name:"火锤",description:"受到的火焰伤害增加50%",hooks:{willDamaged:(e,t,n)=>"fire"===n?1.5*e:e}},{key:"fury_cutter_time_buff",name:"连斩姿态",hidden:!0,description:"物理防御增加",hooks:{dmgLAdd(e){return this.arg+e}}},{key:"omnislash_buff2",name:"减伤",hidden:!0,description:"减伤",hooks:{willDamaged(e){return e*this.arg}}},{key:"omnislash_buff",name:"无敌斩",hidden:!0,effectInterval:500,effect(e){const t=this.unit,{target:n}=t;n?t.useExtraSkill("fury_cutter"):t.removeBuff(this)}},{key:"stunned",name:"昏迷",description:"不能行动",didRemove(){this.unit.timeline.resume()},didAppear(){this.unit.timeline.pause()},hooks:{stunned:e=>!0}},{key:"defensive4_buff",name:"格挡姿态",description:"格挡后减少50%伤害",hooks:{willDamaged:(e,t)=>Math.random()<=.15?e/2:e}},{key:"defensive3_buff",name:"格挡姿态",description:"格挡后减少50%伤害",hooks:{willDamaged(e,t){const n=this.unit;return Math.random()<=.3?(n.useExtraSkill("whirlwind"),e/2):e}}},{key:"defensive2_buff",name:"格挡姿态",description:"格挡后减少50%伤害",hooks:{willDamaged(e,t){const n=this.unit;return Math.random()<=.3?(n.useExtraSkill("fury_cutter"),e/2):e}}},{key:"defensive1_buff",name:"防御姿态",description:"格挡后减少50%伤害",hooks:{willDamaged(e,t){const n=this.unit,r=n.runAttrHooks(!1,"lv35_warrior2_enhance7_time");return Math.random()<=.25?(r&&Math.random()<=.5&&n.useExtraSkill("infinite_justice"),1):e}}},{key:"Blessing_buff",name:"护佑",hidden:!0,description:"生命值上限增加",hooks:{defselfAdd(e){return.02*this.arg*e+e},allResAdd(e){return.02*this.arg*e+e}}},{key:"guardian_buff1",name:"守护者之魂",description:"格挡后减少50%伤害"},{key:"guardian_buff2",name:"守护者之魂",hidden:!0,description:"格挡后减少50%伤害",hooks:{willDamaged(e,t){const n=this.unit,r=n.runAttrHooks(!1,"lv35_warrior2_enhance8_time"),i=n.buffs.find((e=>"guardian_buff1"===e.group)),o=n.buffs.find((e=>"Blessing_buff"===e.group));return i?(o?(o.arg+=1,o.arg=Math.min(o.arg,20)):n.addBuff("Blessing_buff",null,1,"Blessing_buff"),r&&n.useExtraSkill("jingji_skill_pro")):o&&n.removeBuff(o),e}}},{key:"sunder_armor_buff",name:"碎甲",description:"易伤30%",hooks:{willDamaged(e,t){return e*this.arg}}},{key:"shield_wall_buff",name:"护盾",description:()=>"吸收伤害",hooks:{absorbed(e){const t=this.arg,n=Math.min(e,t);return this.arg-=n,this.arg<=.001&&this.over(),e-n}}},{key:"fanatical_buff",name:"狂热",description:"攻击力+20%",hooks:{atk_Add(e){return e+this.arg}}},{key:"flame_armor_buff2",name:"炎铠",description:"炎铠",hidden:!0,effectInterval:999,effect(e){const n=this.unit,{target:r}=n;for(const r of e.units.filter((e=>n.willAttack(e))))t(0,r,this.arg)}},{key:"ghost_shuffle_buff",name:"鬼步",description:"攻击力+20%",hooks:{shanbizhiAdd(e,t){const n=this.unit;return e+(n.maxHp-n.hp)}}},{key:"hacking_time_buff",name:"血魔乱舞",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;n?t.useExtraSkill("hacking_plus_double"):t.removeBuff(this)}},{key:"fanatical_buff2",name:"狂热",hidden:!0,description:"攻击力+20%",hooks:{atk_Add(e){return e+this.arg}}},{key:"energy_fire_buff",name:"酷热",description:"酷热"},{key:"energy_fire_buff",name:"极寒",description:"极寒"},{key:"bingning_buff",name:"冰凝",description:"冰凝",hidden:!0,hooks:{coldResist:e=>e-30}},{key:"yaori_buff",name:"曜日",description:"曜日",hidden:!0,hooks:{fireResist:e=>e-30}},{key:"gsbj_buff",name:"攻速暴击",hidden:!0,description:"所有行动减缓30%。",hooks:{speedRateAdd:e=>2*e,atkMul:e=>.5*e}},{key:"mabijiezhi_buff",name:"麻痹",description:"麻痹",hooks:{speedRateAdd:e=>.01*e}},{key:"swordSkill",name:"狂热",description:"伤害增加百分比",hooks:{atkAdd(e){return this.arg+e}}},{key:"shout",name:"战斗怒吼",description:"护甲增加百分比",hooks:{defAdd(e){return this.arg+e}}},{key:"commandShout",name:"命令怒吼",description:"生命上限增加百分比",hooks:{maxHpAdd(e){return this.arg+e}}},{key:"shoutShake",name:"震慑怒吼",description:"伤害增加百分比",hooks:{atkMul(e){return this.arg*e}}}]},8627:(e,t,n)=>{e.exports=[...n(9414),...n(5727),n(1329),n(4348)]},4348:e=>{e.exports={key:"paladin",name:"圣骑士",description:"圣骑士",requirement:{role:"Ariel"},equipments:{weapon:"SwordShield"},expFormula:[2,10,-4,2,.3],skills:{paladin_skill1:1,paladin_skill2:1,paladin_skill3:1,paladin_skill4:1,paladin_skill5:1,paladin_skill6:1,paladin_skill9:1,paladin_skill16:1,paladin_skill17:1},passives:{pla_passive1:1},enhances:{pal_enhance1:1,pal_enhance2:1,pal_enhance3:1,pal_enhance4:1,pal_enhance5:1,pal_enhance6:1,pal_enhance7:1,pal_enhance8:1,pal_enhance9:1,pal_enhance10:1,pal_enhance11:1},availableClasses:{base:!0,sword:!0,swordshield:!0,lightArmor:!0,armor:!0,ornament:!0},attrGrow:{str:1.5,dex:.5,int:1.5,sta:1}}},5727:(e,t,n)=>{e.exports=[n(6068),n(5607),n(9901),n(2935),n(939),n(5005),n(3156),n(1099),n(594),n(8225),n(8952)]},5607:e=>{e.exports={key:"lv15.sorceress1",name:"元素法师",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"sorceress",level:15,stories:["eyer-stories-10"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{sorceress_atk:1,wind_blade:1,summon_slime:1,sorceress_fireBall:15,sorceress_magicShield:20,sorceress_lightning:25,sorceress_igniting:30,sorceress_vitalitywater:35},passives:{magic:1},enhances:{sorceress_enhance1:1,sorceress_enhance2:1,lv15_sorceress1_enhance1:15,lv15_sorceress1_enhance2:25,lv15_sorceress1_enhance3:35},availableClasses:{base:!0,wand:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:1.5,sta:.5}}},9901:e=>{e.exports={key:"lv35.sorceress1",name:"火之使徒",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv15.sorceress1",level:35,stories:["chapter3-5"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{sorceress_atk:1,wind_blade:1,summon_slime:1,sorceress_fireBall:15,sorceress_magicShield:20,sorceress_lightning:25,sorceress_igniting:30,sorceress_vitalitywater:35,sorceress_fireBall_ex:40,sorceress_overdraft:50,sorceress_hellfire:60,sorceress_fireShield:70},passives:{magic:1},enhances:{sorceress_enhance1:1,sorceress_enhance2:1,lv15_sorceress1_enhance1:1,lv15_sorceress1_enhance2:1,lv15_sorceress1_enhance3:1,lv35_sorceress1_enhance1:45,lv35_sorceress1_enhance2:55,lv35_sorceress1_enhance3:65},availableClasses:{base:!0,wand:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2,sta:.5}}},2935:e=>{e.exports={key:"lv35.sorceress2",name:"水之使徒",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv15.sorceress1",level:35,stories:["chapter3-5"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{sorceress_atk:1,wind_blade:1,summon_slime:1,sorceress_fireBall:15,sorceress_magicShield:20,sorceress_lightning:25,sorceress_igniting:30,sorceress_vitalitywater:35,sorceress_coldBall:40,sorceress_lucky:50,sorceress_torrent:60,sorceress_coldShield:70},passives:{magic:1},enhances:{sorceress_enhance1:1,sorceress_enhance2:1,lv15_sorceress1_enhance1:1,lv15_sorceress1_enhance2:1,lv15_sorceress1_enhance3:1,lv35_sorceress2_enhance1:45,lv35_sorceress2_enhance2:55,lv35_sorceress1_enhance3:65},availableClasses:{base:!0,wand:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2,sta:.5}}},939:e=>{e.exports={key:"lv35.sorceress3",name:"雷之使徒",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv15.sorceress1",level:35,stories:["chapter3-5"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{sorceress_atk:1,wind_blade:1,summon_slime:1,sorceress_fireBall:15,sorceress_magicShield:20,sorceress_lightning:25,sorceress_igniting:30,sorceress_vitalitywater:35,sorceress_chainingLightning:40,sorceress_energy:50,sorceress_supernova:60,sorceress_electrostatic:70},passives:{magic:1},enhances:{sorceress_enhance1:1,sorceress_enhance2:1,lv15_sorceress1_enhance1:1,lv15_sorceress1_enhance2:1,lv15_sorceress1_enhance3:1,lv35_sorceress3_enhance1:45,lv35_sorceress3_enhance2:55,lv35_sorceress1_enhance3:65},availableClasses:{base:!0,wand:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2,sta:.5}}},5005:e=>{e.exports={key:"lv80.sorceress1",name:"赤焰",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv35.sorceress1",level:80,stories:["career-lv80"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{sorceress_atk:1,wind_blade:1,summon_slime:1,sorceress_fireBall:15,sorceress_magicShield:20,sorceress_lightning:25,sorceress_igniting:30,sorceress_vitalitywater:35,sorceress_fireBall_ex:1,sorceress_overdraft:1,sorceress_hellfire:1,sorceress_fireShield:1,sorceress_bc_fire:80,sorceress_fire_wind:90},passives:{magic:1},enhances:{sorceress_enhance1:1,sorceress_enhance2:1,lv15_sorceress1_enhance1:1,lv15_sorceress1_enhance2:1,lv15_sorceress1_enhance3:1,lv35_sorceress1_enhance1:1,lv35_sorceress1_enhance2:1,lv35_sorceress1_enhance3:1,lv80_sorceress1_enhance1:80,lv80_sorceress1_enhance2:85,lv80_sorceress1_enhance3:90,lv80_sorceress1_enhance4:95,lv80_sorceress1_enhance5:100},availableClasses:{base:!0,wand:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2.5,sta:.5}}},3156:e=>{e.exports={key:"lv80.sorceress2",name:"青火",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv35.sorceress1",level:80,stories:["career-lv80"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{sorceress_atk:1,wind_blade:1,summon_slime:1,sorceress_fireBall:15,sorceress_magicShield:20,sorceress_lightning:25,sorceress_igniting:30,sorceress_vitalitywater:35,sorceress_fireBall_ex:1,sorceress_overdraft:1,sorceress_hellfire:1,sorceress_fireShield:1,sorceress_bc_fire:80,sorceress_hellfire_plus:90},passives:{magic:1},enhances:{sorceress_enhance1:1,sorceress_enhance2:1,lv15_sorceress1_enhance1:1,lv15_sorceress1_enhance2:1,lv15_sorceress1_enhance3:1,lv35_sorceress1_enhance1:1,lv35_sorceress1_enhance2:1,lv35_sorceress1_enhance3:1,lv80_sorceress2_enhance1:80,lv80_sorceress1_enhance2:85,lv80_sorceress2_enhance3:90,lv80_sorceress1_enhance4:95,lv80_sorceress2_enhance5:100},availableClasses:{base:!0,wand:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2.5,sta:.5}}},1099:e=>{e.exports={key:"lv80.sorceress3",name:"水魄",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv35.sorceress2",level:80,stories:["career-lv80"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{sorceress_atk:1,wind_blade:1,summon_slime:1,sorceress_fireBall:1,sorceress_magicShield:1,sorceress_lightning:1,sorceress_igniting:1,sorceress_vitalitywater:1,sorceress_coldBall:1,sorceress_lucky:1,sorceress_torrent:1,sorceress_coldShield:1,sorceress_bc_cold:95,sorceress_sea:100},passives:{magic:1},enhances:{sorceress_enhance1:1,sorceress_enhance2:1,lv15_sorceress1_enhance1:1,lv15_sorceress1_enhance2:1,lv15_sorceress1_enhance3:1,lv35_sorceress2_enhance1:1,lv35_sorceress2_enhance2:1,lv35_sorceress1_enhance3:1,lv80_sorceress3_enhance1:80,lv80_sorceress3_enhance2:85,lv80_sorceress3_enhance3:90,lv80_sorceress1_enhance4:95,lv80_sorceress3_enhance5:100},availableClasses:{base:!0,wand:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2.5,sta:.5}}},594:e=>{e.exports={key:"lv80.sorceress4",name:"冰魂",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv35.sorceress2",level:80,stories:["career-lv80"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{sorceress_atk:1,wind_blade:1,summon_slime:1,sorceress_fireBall:1,sorceress_magicShield:1,sorceress_lightning:1,sorceress_igniting:1,sorceress_vitalitywater:1,sorceress_coldBall:1,sorceress_lucky:1,sorceress_torrent:1,sorceress_coldShield:1,sorceress_bc_cold:95,sorceress_blizzard:100},passives:{magic:1},enhances:{sorceress_enhance1:1,sorceress_enhance2:1,lv15_sorceress1_enhance1:1,lv15_sorceress1_enhance2:1,lv15_sorceress1_enhance3:1,lv35_sorceress2_enhance1:1,lv35_sorceress2_enhance2:1,lv35_sorceress1_enhance3:1,lv80_sorceress4_enhance1:80,lv80_sorceress3_enhance2:85,lv80_sorceress4_enhance3:90,lv80_sorceress1_enhance4:95,lv80_sorceress4_enhance5:100},availableClasses:{base:!0,wand:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2.5,sta:.5}}},8225:e=>{e.exports={key:"lv80.sorceress5",name:"电主",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv35.sorceress3",level:80,stories:["career-lv80"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{sorceress_atk:1,wind_blade:1,summon_slime:1,sorceress_fireBall:15,sorceress_magicShield:20,sorceress_lightning:25,sorceress_igniting:30,sorceress_vitalitywater:35,sorceress_chainingLightning:1,sorceress_energy:1,sorceress_supernova:1,sorceress_electrostatic:1,sorceress_bc_lightning:80,sorceress_impulse:90},passives:{magic:1,elect:1},enhances:{sorceress_enhance1:1,sorceress_enhance2:1,lv15_sorceress1_enhance1:1,lv15_sorceress1_enhance2:1,lv15_sorceress1_enhance3:1,lv35_sorceress3_enhance1:1,lv35_sorceress3_enhance2:1,lv35_sorceress1_enhance3:1,lv80_sorceress5_enhance1:80,lv80_sorceress5_enhance2:85,lv80_sorceress5_enhance3:90,lv80_sorceress1_enhance4:95,lv80_sorceress5_enhance5:100},availableClasses:{base:!0,wand:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2.5,sta:.5}}},8952:e=>{e.exports={key:"lv80.sorceress6",name:"雷神",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"lv35.sorceress3",level:80,stories:["career-lv80"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{sorceress_atk:1,wind_blade:1,summon_slime:1,sorceress_fireBall:15,sorceress_magicShield:20,sorceress_lightning:25,sorceress_igniting:30,sorceress_vitalitywater:35,sorceress_chainingLightning:1,sorceress_energy:1,sorceress_supernova:1,sorceress_electrostatic:1,sorceress_bc_lightning:80,sorceress_thunder:90},passives:{magic:1},enhances:{sorceress_enhance1:1,sorceress_enhance2:1,lv15_sorceress1_enhance1:1,lv15_sorceress1_enhance2:1,lv15_sorceress1_enhance3:1,lv35_sorceress3_enhance1:1,lv35_sorceress3_enhance2:1,lv35_sorceress1_enhance3:1,lv80_sorceress6_enhance1:80,lv80_sorceress5_enhance2:85,lv80_sorceress6_enhance3:90,lv80_sorceress1_enhance4:95,lv80_sorceress6_enhance5:100},availableClasses:{base:!0,wand:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:2.5,sta:.5}}},6068:e=>{e.exports={key:"sorceress",name:"魔法学徒",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{role:"Aleanor",level:101},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{sorceress_atk:1,wind_blade:2,summon_slime:5},passives:{magic:1},enhances:{sorceress_enhance1:5,sorceress_enhance2:10},availableClasses:{base:!0,wand:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:1,sta:.5}}},1329:e=>{e.exports={key:"soulbringer",name:"黑暗君主",description:"黑暗君主",requirement:{role:"iPhone14promax"},equipments:{weapon:"LongSword"},expFormula:[2,10,-4,2,.3],skills:{soulbringer_atk:1,onikiri:2,soul_power:5,moonlight_slash:10,ghost_whip:15,soul_armor:15,tombstone:20,soul_weak:20,ghost_fury:25,soul_shadow:30,soul_ice:30,soul_poison:35,ghost_puncture:40,soul_darkfire:45,tombstoneplus:50,ghost_pidi:60,dark_jige:70,soul_iceplus:80,soul_7:90},passives:{soulbringer_passive:1},enhances:{soulbringer_enhance1:5,soulbringer_enhance2:10,soulbringer_enhance3:20,soulbringer_enhance4:40,soulbringer_enhance5:60,soulbringer_enhance6:90},availableClasses:{base:!0,sword:!0,longsword:!0,cloth:!0,ornament:!0},attrGrow:{str:1.5,dex:.5,int:1.5,sta:.5}}},9414:(e,t,n)=>{e.exports=[n(9224),n(5929),n(8528),n(8247),n(2923),n(5822),n(8781),n(3048),n(6975),n(3138),n(1235),n(7766),n(9680),n(983),n(3977),n(6340)]},5929:e=>{e.exports={key:"warrior1.lv15",name:"剑斗士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior",level:15,stories:["eyer-stories-10"]},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:.5,dex:0,int:0,sta:.5},skills:{warrior_atk:1,save_oneself:1,thump:1,fury_cutter:15,warrior_hp:20,whirlwind:25,warrior_def:30,hamstring:35},passives:{atkByStr:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:15,lv15_warrior_enhance2:25,lv15_warrior_enhance3:35},availableClasses:{base:!0,sword:!0,swordshield:!0,lightArmor:!0,armor:!0,ornament:!0}}},8528:e=>{e.exports={key:"warrior2.lv15",name:"枪兵",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior",level:101,stories:["eyer-stories-10"]},equipments:{weapon:"Spear"},expFormula:[2,10,-4,2,.3],attrGrow:{str:.5,dex:0,int:0,sta:.5},skills:{},passives:{atkByStr:1,rage:1},enhances:{},availableClasses:{base:!0,spear:!0,spearshield:!0,lightArmor:!0,armor:!0,ornament:!0}}},8247:e=>{e.exports={key:"warrior3.lv15",name:"刀客",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior",level:15,stories:["eyer-stories-10"]},equipments:{weapon:"Machete"},expFormula:[2,10,-4,2,.3],attrGrow:{str:.5,dex:0,int:0,sta:.5},skills:{warrior_atk:1,save_oneself:1,thump:1,hacking:15,warrior_hp:20,shield_wall:25,warrior_def:30,sunder_armor:35},passives:{atkByStr:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:15,lv15_warrior_enhance2:25,lv15_warrior_enhance3:30},availableClasses:{base:!0,machete:!0,macheteshield:!0,lightArmor:!0,armor:!0,ornament:!0}}},2923:e=>{e.exports={key:"warrior1.lv35",name:"大剑士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior1.lv15",level:35,stories:["chapter3-5"]},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1,dex:.5,int:0,sta:1},skills:{warrior_atk:1,save_oneself:1,thump:1,fury_cutter:1,warrior_hp:1,whirlwind:1,warrior_def:1,hamstring:1,element_fire:40,white_heat:50,fury_cutter_plus:60,block:70},passives:{atkByStr:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior1_enhance1:45,lv35_warrior1_enhance2:55,lv35_warrior1_enhance3:65},availableClasses:{base:!0,sword:!0,lightArmor:!0,ornament:!0}}},5822:e=>{e.exports={key:"warrior2.lv35",name:"守护者",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior1.lv15",level:35,stories:["chapter3-5"]},equipments:{weapon:"SwordShield"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:2},skills:{warrior_atk:1,save_oneself:1,thump:1,fury_cutter:1,warrior_hp:1,whirlwind:1,warrior_def:1,hamstring:1,guardian:40,shield_charge:50,fury_cutter_plus:60,defensive_stance:70,first_aid:80,infinite_justice:90},passives:{atkByhp:1,warriorsurvival:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior2_enhance1:45,lv35_warrior2_enhance2:55,lv35_warrior2_enhance3:65,lv35_warrior2_enhance8:80,lv35_warrior2_enhance5:85,lv35_warrior2_enhance6:90,lv35_warrior2_enhance7:95,lv35_warrior2_enhance4:100},availableClasses:{base:!0,swordshield:!0,armor:!0,ornament:!0}}},8781:e=>{e.exports={key:"warrior3.lv35",name:"枪骑兵",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior2.lv15",level:35,stories:["chapter3-5"]},equipments:{weapon:"Spear"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1,dex:.5,int:0,sta:1},skills:{},passives:{atkByStr:1,rage:1},enhances:{},availableClasses:{base:!0,spear:!0,lightArmor:!0,ornament:!0}}},3048:e=>{e.exports={key:"warrior4.lv35",name:"战神",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior2.lv15",level:35,stories:["chapter3-5"]},equipments:{weapon:"SpearShield"},expFormula:[2,10,-4,2,.3],attrGrow:{str:.5,dex:.5,int:0,sta:2},skills:{},passives:{warriorsurvival:1,rage:1},enhances:{},availableClasses:{base:!0,spearshield:!0,armor:!0,ornament:!0}}},6975:e=>{e.exports={key:"warrior5.lv35",name:"勇士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior3.lv15",level:35,stories:["chapter3-5"]},equipments:{weapon:"Machete"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1,dex:.5,int:0,sta:1},skills:{warrior_atk:1,save_oneself:1,thump:1,hacking:1,warrior_hp:1,shield_wall:1,warrior_def:1,sunder_armor:1,element_cold_fire:40,fanatical:50,hacking_plus_double:60,block:70},passives:{atkByStr:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior2_enhance1:45,lv35_warrior5_enhance2:55,lv35_warrior5_enhance3:65},availableClasses:{base:!0,machete:!0,lightArmor:!0,ornament:!0}}},3138:e=>{e.exports={key:"warrior6.lv35",name:"虎卫",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior3.lv15",level:101,stories:["chapter3-5"]},equipments:{weapon:"MacheteShield"},expFormula:[2,10,-4,2,.3],attrGrow:{str:.5,dex:.5,int:0,sta:2},skills:{},passives:{warriorsurvival:1,rage:1},enhances:{},availableClasses:{base:!0,macheteshield:!0,armor:!0,ornament:!0}}},1235:e=>{e.exports={key:"warrior1.lv80",name:"魔剑士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior1.lv35",level:35,stories:["career-lv80"]},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:0,int:1,sta:1.5},skills:{warrior_atk:1,save_oneself:1,thump:1,fury_cutter:1,warrior_hp:1,whirlwind:1,warrior_def:1,hamstring:1,element_fire:1,white_heat:1,fury_cutter_plus:1,block:1,flame_armor:80,dragon_breath:90},passives:{atkByStr:1,rage:1,warriorfire:1,atkByint:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior1_enhance1:1,lv35_warrior1_enhance2:1,lv35_warrior1_enhance3:1,lv80_warrior1_enhance1:80,lv80_warrior1_enhance2:85,lv80_warrior1_enhance3:90,lv80_warrior1_enhance4:95,lv80_warrior1_enhance5:100},availableClasses:{base:!0,sword:!0,lightArmor:!0,ornament:!0}}},7766:e=>{e.exports={key:"warrior2.lv80",name:"宗师",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior1.lv35",level:80,stories:["career-lv80"]},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:1.5},skills:{warrior_atk:1,save_oneself:1,thump:1,fury_cutter:1,warrior_hp:1,whirlwind:1,warrior_def:1,hamstring:1,element_fire:1,white_heat:1,fury_cutter_plus:1,block:1,fury_cutter_time:80,omnislash:90},passives:{atkByStr:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior1_enhance1:1,lv35_warrior1_enhance2:1,lv35_warrior1_enhance3:1,lv80_warrior2_enhance1:80,lv80_warrior2_enhance2:85,lv80_warrior2_enhance3:90,lv80_warrior2_enhance4:95,lv80_warrior2_enhance5:100},availableClasses:{base:!0,sword:!0,lightArmor:!0,ornament:!0}}},9680:e=>{e.exports={key:"warrior4.lv80",name:"天启",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior3.lv35",level:80,stories:["career-lv80"]},equipments:{weapon:"Spear"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:1.5},skills:{},passives:{atkByStr:1,warriorlightning:1,rage:1},enhances:{},availableClasses:{base:!0,spear:!0,lightArmor:!0,ornament:!0}}},983:e=>{e.exports={key:"warrior5.lv80",name:"龙骑士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior3.lv35",level:80,stories:["career-lv80"]},equipments:{weapon:"Spear"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:1.5},skills:{warrior_atk:1,save_oneself:1,thump:1,hacking:1,warrior_hp:1,shield_wall:1,warrior_def:1,sunder_armor:1,element_cold_fire:1,fanatical:1,hacking_plus_double:1,block:1,ghost_shuffle:80,hacking_time:90},passives:{atkByStr:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior5_enhance1:1,lv35_warrior5_enhance2:1,lv35_warrior5_enhance3:1,lv80_warrior5_enhance1:80,lv80_warrior5_enhance2:85,lv80_warrior5_enhance3:90,lv80_warrior5_enhance4:95,lv80_warrior5_enhance5:100},availableClasses:{base:!0,spear:!0,lightArmor:!0,ornament:!0}}},3977:e=>{e.exports={key:"warrior7.lv80",name:"血魔",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior5.lv35",level:80,stories:["career-lv80"]},equipments:{weapon:"Machete"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:1.5},skills:{warrior_atk:1,save_oneself:1,thump:1,hacking:1,warrior_hp:1,shield_wall:1,warrior_def:1,sunder_armor:1,element_cold_fire:1,fanatical:1,hacking_plus_double:1,block:1,ghost_shuffle:80,hacking_time:90},passives:{atkByStr:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior2_enhance1:1,lv35_warrior5_enhance2:1,lv35_warrior5_enhance3:1,lv80_warrior5_enhance1:80,lv80_warrior5_enhance2:85,lv80_warrior5_enhance3:90,lv80_warrior5_enhance4:95,lv80_warrior5_enhance5:100},availableClasses:{base:!0,machete:!0,lightArmor:!0,ornament:!0}}},6340:e=>{e.exports={key:"warrior8.lv80",name:"焚天",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior5.lv35",level:80,stories:["career-lv80"]},equipments:{weapon:"Machete"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:0,int:1,sta:1.5},skills:{warrior_atk:1,save_oneself:1,thump:1,hacking:1,warrior_hp:1,shield_wall:1,warrior_def:1,sunder_armor:1,element_cold_fire:1,fanatical:1,hacking_plus_double:1,block:1,warrior_deadline:80,warrior_con_energy:90},passives:{atkByStr:1,warriorfirecold:1,rage:1,atkByint:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior2_enhance1:1,lv35_warrior5_enhance2:1,lv35_warrior5_enhance3:1,lv80_warrior1_enhance3:80,lv80_warrior8_enhance1:85,lv80_warrior8_enhance1_2:85,lv80_warrior8_enhance2:90,lv80_warrior8_enhance3:95,lv80_warrior8_enhance3_2:95,lv80_warrior8_enhance4:100},availableClasses:{base:!0,machete:!0,lightArmor:!0,ornament:!0}}},9224:e=>{e.exports={key:"warrior",name:"战士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{role:"Eyer",level:101},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:0,dex:0,int:0,sta:.5},skills:{warrior_atk:1,save_oneself:2,thump:5},passives:{atkByStr:1,rage:1},enhances:{warrior_enhance1:5,warrior_enhance2:10},availableClasses:{base:!0,sword:!0,swordshield:!0,spear:!0,spearshield:!0,machete:!0,macheteshield:!0,lightArmor:!0,armor:!0,ornament:!0}}},7586:e=>{e.exports=[{key:"fotiaoqiang",name:"史莱姆果冻",description:e=>`力量、敏捷、智力、耐力分别增加${1*e}点`,hooks:{str:(e,t)=>t+1*e,dex:(e,t)=>t+1*e,int:(e,t)=>t+1*e,sta:(e,t)=>t+1*e}},{key:"sanxianzhou",name:"碳烤牛排",description:e=>`力量增加${5*e}点`,hooks:{str:(e,t)=>t+5*e}},{key:"zajinyuqiuzhou",name:"星光玉米卷",description:e=>`敏捷增加${5*e}点`,hooks:{dex:(e,t)=>t+5*e}},{key:"xianguzhou",name:"蓝莓鸡尾酒",description:e=>`智力增加${5*e}点`,hooks:{int:(e,t)=>t+5*e}},{key:"pidanshourouzhou",name:"梦境蘑菇汤",description:e=>`耐力增加${5*e}点`,hooks:{sta:(e,t)=>t+5*e}},{key:"huangguajianzirou",name:"艾尔秘制面包",description:e=>`物理防御增加${25*e}点`,hooks:{defAdd:(e,t)=>t+25*e}},{key:"cuigualijisi",name:"酒心巧克力",description:e=>`元素抗性增加${25*e}点`,hooks:{allResAdd:(e,t)=>t+25*e}},{key:"tangcupaigu",name:"小饼干",description:e=>`闪避增加${30*e}点`,hooks:{shanbizhiAdd:(e,t)=>t+30*e}},{key:"suanxiangbairou",name:"幻想森林果派",description:e=>`生命值恢复增加${e}点`,hooks:{hpRecovery:(e,t)=>t+e}},{key:"jintangsuancaiyu",name:"金汤酸菜鱼",description:e=>`法力值恢复增加${e}点`,hooks:{mpRecovery:(e,t)=>t+e}},{key:"lianyushuizhuyu",name:"炼狱海鲜烩",description:e=>`生命值上限${40*e}点`,hooks:{maxHpAdd:(e,t)=>t+40*e}},{key:"bingzhenxiaolongxia",name:"冰镇小龙虾",description:e=>`法力值上限${40*e}点`,hooks:{maxMpAdd:(e,t)=>t+40*e}}]},5353:e=>{e.exports=[{key:"chapter3.beast.wildpig",name:"豪猪",camp:"enemy",race:"unknown",career:"melee",maxHp:1800,def:100,atk:40,exp:65,atkSpeed:.4,level:84,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,35],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.shelter773":2,"chapter3.wood1":1}}]},{key:"chapter3.beast.lion",name:"雄狮",camp:"enemy",race:"unknown",career:"melee",exp:85,maxHp:900,def:50,atk:60,atkSpeed:.7,level:86,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,35],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.shelter773":2,"chapter3.wood1":1}}]},{key:"chapter3.beast.pengpeng",name:"彭彭",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:6e4,exp:800,def:100,allResist:-500,atk:80,atkSpeed:.4,level:90,skills:[{key:"simba.thumpHead",level:0},{key:"melee",level:0}],hooks:{"simba.goodFriends":e=>!0},buffs:[{type:"simba.goodFriends"}],loots:[{type:"equip",rate:1,mfRate:2}]},{key:"chapter3.beast.simba",name:"辛巴",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:25e3,def:50,allResist:-500,exp:800,atk:120,atkSpeed:.7,level:90,skills:[{key:"melee",level:0}],hooks:{"simba.goodFriends":e=>!0},buffs:[{type:"simba.goodFriends"}],loots:[]},{key:"chapter3.beast.dingman",name:"丁满",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:2e4,atk:60,def:-500,exp:800,atkSpeed:.6,level:90,skills:[{key:"simba.heal",level:0},{key:"melee",level:0}],hooks:{"simba.goodFriends":e=>!0},buffs:[{type:"simba.goodFriends"}],loots:[{key:"gold",count:[150,250],rate:1}]}]},3973:e=>{e.exports=[{key:"chapter3.element.fire",name:"火焰精灵",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"fireElement.fireball",level:0}],maxHp:15e3,def:150,atk:120,fireResist:2e4,coldResist:-2e4,atkSpeed:.4,exp:180,level:114,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.auran1":4,"chapter3.auran2":2,"chapter3.tower2":1}}]},{key:"chapter3.element.water",name:"水元素",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"waterElement.waterArrow",level:0},{key:"iceNova",level:0}],maxHp:15e3,def:150,atk:120,coldResist:2e4,fireResist:-2e4,atkSpeed:.4,exp:180,level:116,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.auran1":4,"chapter3.auran2":2,"chapter3.tower2":1}}]},{key:"chapter3.element.earth",name:"岩石傀儡",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"melee",level:0}],maxHp:15e3,def:2e3,allResist:-2e4,atk:150,atkSpeed:.4,exp:180,level:118,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.auran1":4,"chapter3.auran2":2,"chapter3.tower2":1}}]},{key:"chapter3.element.azathoth.fire",name:"阿撒托斯[火]",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"fireElement.fireball",level:0},{key:"azathoth.transformIce",level:0}],stunResist:3e3,boss:!0,maxHp:3e5,coldResist:-2e3,fireResist:2e4,def:-500,atk:450,atkSpeed:.4,exp:7e3,level:120,loots:[{key:"gold",count:[250,500],rate:1}]},{key:"chapter3.element.azathoth.ice",name:"阿撒托斯[冰]",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"waterElement.waterArrow",level:0},{key:"iceNova",level:0},{key:"azathoth.transformEarth",level:0}],stunResist:3e3,boss:!0,maxHp:3e5,def:-500,atk:450,atkSpeed:.4,coldResist:2e4,fireResist:-2e3,exp:8e3,level:120,loots:[{key:"gold",count:[250,500],rate:1}]},{key:"chapter3.element.azathoth.earth",name:"阿撒托斯[土]",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"azathoth.transformDark",level:0},{key:"melee",level:0}],boss:!0,maxHp:3e5,def:2e3,allResist:-2e4,atk:450,atkSpeed:.4,exp:8e3,level:120,stunResist:3e3,loots:[{key:"gold",count:[250,500],rate:1}]},{key:"chapter3.element.azathoth.dark",name:"阿撒托斯[混乱]",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"azathoth.explode",level:0}],boss:!0,maxHp:3e5,def:-2e3,allResist:-2e3,atk:450,atkSpeed:.4,exp:8e3,level:120,stunResist:3e3,loots:[{key:"gold",count:[250,500],rate:1}]},{key:"chapter3.element.azathoth.none",name:"阿撒托斯的灰烬",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[],boss:!0,maxHp:1e3,def:-500,allResist:-500,atk:450,atkSpeed:.4,exp:5e3,level:120,buffs:[],loots:[{key:"gold",count:[250,500],rate:1}]}]},6720:e=>{e.exports=[{key:"chapter3.fishzilla.magician",name:"湖畔镇魔法师",camp:"alien",race:"unknown",career:"melee",maxHp:3e3,atk:150,atkSpeed:.4,level:110,skills:[{key:"fishzilla.focus",level:0}],affixes:{stronger:2,faster:1,recover:1}},{key:"chapter3.murloc.slaves",name:"鱼人奴隶",camp:"enemy",race:"unknown",career:"melee",maxHp:5e3,atk:200,exp:100,atkSpeed:.5,level:110,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[10,40],rate:.1}]},{key:"chapter3.fishzilla",name:"鱼斯拉",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:35e5,hpRecovery:250,exp:5e3,atk:500,def:400,allResist:-800,coldResist:1300,level:110,atkSpeed:.6,skills:[{key:"fishzilla.summonSlaves",level:0},{key:"fishzilla.bomb",level:12},{key:"melee",level:0}],stunResist:3e3,affixes:{stronger:2,faster:1,recover:.5},loots:[{key:"gold",count:[200,400],rate:1},{type:"equip",rate:1,mfRate:2}]}]},8110:e=>{e.exports=[{key:"chapter3.murloc.minions",name:"鱼人战士",camp:"enemy",race:"unknown",career:"melee",maxHp:3e3,atk:65,exp:150,atkSpeed:.4,level:94,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[10,40],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.wood1":4,"chapter3.auran1":2,"chapter3.auran2":1}}]},{key:"chapter3.murloc.shaman",name:"鱼人祭祀",camp:"enemy",race:"unknown",career:"melee",exp:125,maxHp:2e3,def:50,atk:80,atkSpeed:.7,level:96,skills:[{key:"shaman.iceball",level:0},{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,40],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.wood1":4,"chapter3.auran1":2,"chapter3.auran2":1}}]},{key:"chapter3.murloc.army",name:"鱼人大军",camp:"neutral",race:"unknown",career:"melee",maxHp:1e3,def:50,atk:50,atkSpeed:.4,level:1,skills:[{key:"murloc.army.thumpHead",level:0}]},{key:"chapter3.murloc.warlord",name:"鱼人督军",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:15e4,hpRecovery:50,exp:3e3,atk:250,level:100,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"murloc.thumpHead",level:0},{key:"murloc.shieldShout",level:0}],loots:[{key:"gold",count:[180,300],rate:1}]}]},5e3:e=>{e.exports=[{key:"chapter3.undead.ghost",name:"不安的冤魂",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:800,atk:35,atkSpeed:.4,exp:50,level:74,skills:[{key:"shaman.darkball",level:0},{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,15],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.mine.2":2,"town.mine.3":1,"town.neighbourTown.2":2,"town.neighbourTown.3":1,"chapter3.shelter773":1}}]},{key:"chapter3.undead.zombie",name:"行尸",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:1500,exp:50,atk:45,level:76,atkSpeed:.4,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,20],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.mine.2":2,"town.mine.3":1,"town.neighbourTown.2":2,"town.neighbourTown.3":1,"chapter3.shelter773":1}}]},{key:"chapter3.undead.ghostShield",name:"幽魂护卫",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:400,atkSpeed:.4,level:64,skills:[{key:"ghostShield",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[]},{key:"chapter3.necromancer",name:"暗影法师奈布",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:3e4,hpRecovery:5,exp:1800,atk:100,def:-500,allResist:200,darkResist:1e3,lightResist:-2e3,level:80,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0},{key:"necromancer.ghostShield",level:0}],loots:[{key:"gold",count:[100,200],rate:1}]}]},7072:e=>{e.exports=[{key:"chapter3.waterElement.nagaHero",name:"娜迦勇士",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"melee",level:0}],maxHp:2e4,def:150,atk:180,atkSpeed:.4,exp:220,level:124,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.tower2":2,"chapter3.auran4":1}}]},{key:"chapter3.waterElement",name:"水元素",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"waterElement.waterArrow",level:0},{key:"iceNova",level:0}],maxHp:2e4,def:150,atk:150,coldResist:2e4,fireResist:-2e4,atkSpeed:.4,exp:220,level:126,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.tower2":2,"chapter3.auran4":1}}]},{key:"chapter3.waterElement.giants",name:"深海巨人",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"cleave",level:0}],maxHp:3e4,def:250,atk:200,atkSpeed:.4,exp:450,level:128,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.tower2":2,"chapter3.auran4":1}}]},{key:"chapter3.waterElement.Nynnroth",name:"奈因洛斯的分身",description:"一团跳动的水元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"waterElement.waterArrow",level:0},{key:"waterElement.waterFlow",level:0},{key:"enemy.upgrade",level:0}],stunResist:3e3,boss:!0,maxHp:45e4,coldResist:8e3,fireResist:-2e3,atk:500,atkSpeed:.4,exp:1e4,level:130,loots:[{key:"gold",count:[400,600],rate:1}]},{key:"shrine.nynnroth.shield",name:"定海圣殿",description:"增加怒气、能量、法力恢复速度3秒。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units.filter((e=>"player"===e.camp||"alien"===e.camp)))t.addBuff("nynnroth.shield",5e3);return this.kill(),!1}}]},329:e=>{e.exports=[{key:"chapter4.humans.thief",name:"小偷",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:45e3,atk:350,atkSpeed:.6,exp:450,level:140,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1}]},{key:"chapter4.humans.rogue",name:"流氓",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:45e3,exp:450,atk:350,level:140,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.fireball",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1}]},{key:"chapter4.humans.monster",name:"虚空行者",description:"",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:4e5,atk:700,darkResist:2e3,lightResist:-2e3,atkSpeed:.4,level:145,skills:[{key:"darkElement.darkball",level:0},{key:"summon.earth.comeToMe",level:0}],loots:[]},{key:"chapter4.humans.seck",name:"罗兰·赛克",description:"手黑党的领袖",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:8e5,maxMp:1e3,mpRecovery:20,hpRecovery:2e3,exp:1500,atk:800,darkResist:2e3,lightResist:-2e3,def:500,level:150,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0},{key:"chapter4.humans.seck.summonDarkSoul",level:0},{key:"enemy.upgrade",level:0}],loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.women",name:"魅魔",description:"",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:4e5,atk:700,darkResist:2e3,lightResist:-2e3,atkSpeed:.4,level:145,skills:[{key:"melee",level:0},{key:"chapter4.humans.women.thumpHead",level:0}],loots:[]},{key:"chapter4.humans.seck1",name:"罗兰·赛克",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:8e5,maxMp:1e3,mpRecovery:20,hpRecovery:2e3,exp:1500,atk:800,darkResist:2e3,lightResist:-2e3,def:500,level:150,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0},{key:"chapter4.humans.seck.summonWomen",level:0},{key:"chapter4.humans.seck.healthDrill",level:0},{key:"enemy.upgrade",level:0}],loots:[{key:"gold",count:[500,1e3],rate:1}]}]},3526:e=>{e.exports=[{key:"chapter4.humans.soldier",name:"士兵",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:8e4,atk:500,atkSpeed:.6,exp:450,level:154,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter4.westRolan1":4,"chapter4.westRolan2":2,"chapter4.sanAnthony1":2,"chapter4.sanAnthony2":1}}]},{key:"chapter4.humans.musketeer",name:"火枪手",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:7e4,atk:500,atkSpeed:.8,critRate:.3,critBonus:2.5,exp:450,level:156,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter4.westRolan1":4,"chapter4.westRolan2":2,"chapter4.sanAnthony1":2,"chapter4.sanAnthony2":1}}]},{key:"chapter4.humans.mortar",name:"迫击炮",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:9e4,exp:450,atk:550,level:158,atkSpeed:.2,skills:[{key:"melee.aoe",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter4.westRolan1":4,"chapter4.westRolan2":2,"chapter4.sanAnthony1":2,"chapter4.sanAnthony2":1}}]},{key:"chapter4.humans.knights.dare",name:"英勇骑士达尔",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:9e5,maxRp:100,rpOnAttack:10,rpOnAttacked:1,exp:1500,atk:800,def:500,allResist:500,level:160,atkSpeed:.4,skills:[{key:"meleeForRage",level:4},{key:"thump",level:2},{key:"mortalStrike",level:5},{key:"enemy.upgrade",level:0}],stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.knights.light",name:"光明骑士莱特",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:9e5,exp:1500,atk:600,def:500,allResist:500,level:160,atkSpeed:.4,skills:[{key:"knight.melee",level:4},{key:"knight.glory.enemy",level:0},{key:"enemy.upgrade",level:0}],hooks:{displayCpBar:(e,t)=>!0},stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.knights.blood",name:"鲜血骑士布莱德",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:9e5,exp:1500,atk:600,def:500,allResist:500,level:160,atkSpeed:.4,skills:[{key:"knight.sacrifice",level:4},{key:"knight.thump",level:2},{key:"enemy.upgrade",level:0}],stunResist:4e3,hooks:{displayCpBar:(e,t)=>!0},loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.knights.sanction",name:"制裁骑士山新",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:9e5,exp:1500,atk:800,def:500,allResist:500,level:160,atkSpeed:.4,skills:[{key:"swordSkill",level:4},{key:"knight.kick",level:0},{key:"knight.thumpHead.enemy",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.knights.rage",name:"全能骑士雷格",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:9e5,maxRp:100,rpRecovery:1,rpOnAttack:10,rpOnAttacked:3,exp:1500,atk:800,def:500,allResist:500,level:160,atkSpeed:.4,skills:[{key:"cleave",level:4},{key:"thump",level:2},{key:"shockWave",level:0},{key:"commandShout",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]}]},7347:e=>{e.exports=[{key:"chapter4.humans.trigger.1",name:"神秘的把手",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("机关被触动了。一阵令人牙酸的声音之后，下水道的入口显现了出来。"),!1}},{key:"chapter4.humans.trigger.2",name:"下水道",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),!1}},{key:"chapter4.humans.trigger.3.1",name:"未知的机关",description:"真正通过的机关。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units)t.type&&t.type.indexOf("chapter4.humans.trigger.3")>=0&&t.kill(!1);return e.sendGeneralMsg("你触发了一个看起来很危险的机关，所有其它的机关都消失了。"),!1}},{key:"chapter4.humans.trigger.3.2",name:"未知的机关",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(),e.sendGeneralMsg("这个机关看起来没有任何作用。"),!1}},{key:"chapter4.humans.trigger.3.3",name:"未知的机关",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){this.kill();for(const t of e.units)t.type&&t.type.indexOf("chapter4.humans.trigger")>=0||e.sendDamage("real",this,t,{name:"爆炸"},.4*t.maxHp);return!1}},{key:"chapter4.humans.trigger.3.4",name:"未知的机关",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",maxHp:4e5,onPress(e){return this.transformType("chapter4.humans.trigger.4"),!1}},{key:"chapter4.humans.trigger.4",name:"活动的机关",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:4e5,atk:1e3,atkSpeed:1.5,level:156,skills:[{key:"melee",level:0}]},{key:"chapter4.humans.boss.fearas",name:"菲尔斯男爵",description:"地精刺客",camp:"enemy",race:"unknown",career:"melee",maxHp:15e5,exp:1800,atk:600,level:170,atkSpeed:1,skills:[{key:"melee",level:0},{key:"enemy.fearas.summonTrigger",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.trigger.5.1",name:"安全牌地雷",description:"将在3秒后爆炸。",camp:"neutral",race:"unknown",career:"melee",atk:1e3,skills:[{key:"enemy.fearas.bomb",level:0}],onPress(e){for(const t of e.units)this.canAttack(t)&&e.sendDamage("fire",this,t,{name:"爆炸"},1e4);return this.kill(!1),e.sendGeneralMsg("你试图解除安全牌地雷的时候，地雷反而爆炸的更厉害了。"),!1}},{key:"chapter4.humans.trigger.5.2",name:"哑炮牌地雷",description:"将在3秒后爆炸。",camp:"neutral",race:"unknown",career:"melee",atk:1e3,skills:[{key:"enemy.fearas.bomb1",level:0}],onPress(e){for(const t of e.units)this.canAttack(t)&&(t.breakCasting(),t.stun(1,"stunned"));return this.kill(!1),e.sendGeneralMsg("哑炮牌地雷释放了一阵烟雾，你一时动弹不得。"),!1}},{key:"chapter4.humans.trigger.5.3",name:"科学牌地雷",description:"将在3秒后爆炸。",camp:"neutral",race:"unknown",career:"melee",atk:1e3,skills:[{key:"enemy.fearas.bomb",level:0}],onPress(e){return this.kill(!1),e.sendGeneralMsg("科学牌地雷被解除后，很科学的停止了工作。"),!1}},{key:"chapter4.humans.trigger.5.4",name:"机械松鼠",description:"额，拿错了。",camp:"alien",race:"unknown",career:"melee",skills:[{key:"enemy.fearas.bomb2",level:0}]},{key:"chapter4.humans.trigger.6",name:"牢笼控制台",description:"真正通过的机关。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),!1}},{key:"chapter4.humans.boss.milhous",name:"米尔豪斯·法力风暴",description:"侏儒法师",camp:"alien",race:"unknown",career:"melee",boss:!0,maxHp:1e6,exp:1800,atk:750,level:170,maxMp:5e3,mpRecovery:100,atkSpeed:1,skills:[{key:"fireBall",level:0},{key:"iceArrow",level:0},{key:"windBlade",level:10},{key:"burning",level:0},{key:"iceNova",level:0},{key:"iceLance",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1}],onPress(e){const t=this.buffs.find((e=>"enemy.evil.control"===e.type));t&&this.removeBuff(t)}},{key:"chapter4.humans.boss.evil",name:"上古邪恶",description:"地精刺客",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:15e5,exp:1800,atk:1e3,def:-1e3,allResist:-1e3,darkResist:8e3,lightResist:-8e3,level:170,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0},{key:"enemy.evil.reading1",level:0},{key:"enemy.evil.control",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]}]},1088:e=>{e.exports=[{key:"chapter4.orcs.warrior",name:"兽人战士",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:3e4,atk:240,atkSpeed:.4,exp:300,level:134,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[30,80],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.auran4":4,"chapter4.westRolan1":2,"chapter4.westRolan2":1}}]},{key:"chapter4.orcs.hunter",name:"兽人驯狼师",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:35e3,maxEp:50,epRecovery:2,exp:450,atk:200,level:136,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"orcs.summonWolf",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[30,80],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter3.auran4":4,"chapter4.westRolan1":2,"chapter4.westRolan2":1}}]},{key:"chapter3.orcs.wolf",name:"野狼",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:1e4,atk:150,atkSpeed:.6,level:130,skills:[{key:"melee",level:0},{key:"wolf.worry",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[]},{key:"chapter3.orcs.totem",name:"治疗图腾",description:"",camp:"neutral",race:"unknown",career:"melee",maxHp:5e3,atk:1200,atkSpeed:.6,level:126,skills:[{key:"totem.heal",level:0}],affixes:{stronger:2,faster:1,recover:.5},loots:[]},{key:"chapter3.orcs.shaman",name:"萨布罗·霜狼",description:"兽人霜狼氏族领袖",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:6e5,hpRecovery:1500,exp:1800,atk:600,level:140,lightningResist:1e3,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.chainingLightning",level:0},{key:"orcs.summonHealToken",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]}]},6242:e=>{e.exports=[{key:"chapter5.daughter.monster1",name:"黑暗之灵",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:25e4,atk:600,atkSpeed:.4,def:50,allResist:50,exp:700,level:194,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster2",name:"孤独之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:25e4,def:50,allResist:50,exp:700,atk:1500,level:194,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"chapter5.daughter.monster2",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster3",name:"疼痛之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:25e4,def:50,allResist:50,exp:700,atk:1500,level:196,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"enemy.evil.reading1",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster4",name:"惊悸之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:25e4,def:50,allResist:50,exp:700,atk:1500,level:196,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"chapter5.daughter.monster4",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster5",name:"寒冷之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:25e4,def:50,allResist:50,exp:700,atk:1500,level:198,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.iceball",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster6",name:"饥饿之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:25e4,def:50,allResist:50,exp:700,atk:1500,level:198,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"chapter4.humans.seck.healthDrill",level:20}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.badGiant",name:"吃小孩的巨人",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:2e6,def:50,allResist:50,exp:3e3,atk:2500,level:200,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"slime.swallow",level:0},{key:"shockWave",level:0},{key:"enemy.upgrade",level:0}],stunResist:5e3,loots:[{key:"gold",count:[850,1800],rate:1}]},{key:"chapter5.daughter.amira",name:"艾米拉",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:3e6,def:200,allResist:200,darkResist:1e3,lightResist:-1e3,exp:3e3,atk:2500,level:200,atkSpeed:.4,speedRate:1.5,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0},{key:"chapter5.daughter.monster2",level:0},{key:"enemy.evil.reading1",level:0},{key:"chapter5.daughter.monster4",level:0},{key:"shaman.iceball",level:0},{key:"chapter4.humans.seck.healthDrill",level:0},{key:"enemy.upgrade",level:0}],stunResist:5e3,loots:[{key:"gold",count:[850,1800],rate:1}]}]},8002:e=>{e.exports=[{key:"chapter5.undead.ghost",name:"受折磨的灵魂",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:125e3,atk:400,atkSpeed:.4,allResist:50,exp:500,level:174,skills:[{key:"shaman.darkball",level:0},{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[75,200],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer2":1}}]},{key:"chapter5.undead.zombie",name:"不安份的尸体",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:15e4,def:50,exp:550,atk:1e3,level:176,atkSpeed:.4,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,20],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer2":1}}]},{key:"chapter5.necromancer",name:"邪恶法师奈布",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:2e6,hpRecovery:500,exp:1800,atk:1500,darkResist:2e3,lightResist:-5e3,level:180,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0},{key:"chapter4.humans.seck.healthDrill",level:0},{key:"enemy.upgrade",level:0},{key:"zombie.hide",level:0}],stunResist:5e3,affixes:{stronger:2,faster:1,recover:.5},loots:[{key:"gold",count:[700,1500],rate:1}]}]},4102:e=>{e.exports=[{key:"chapter5.woodElf.crazy",name:"发疯的木灵",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:175e3,atk:1200,atkSpeed:.4,allResist:50,exp:550,level:184,skills:[{key:"melee",level:0},{key:"simba.thumpHead",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[150,200],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer4":1}}]},{key:"chapter5.woodElf.sad",name:"悲痛过度的木灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:25e4,def:50,exp:650,atk:1500,level:186,atkSpeed:.4,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[150,300],rate:1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer4":1}}]},{key:"chapter5.woodElf.shamansa",name:"暴食的萨曼莎",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:2e6,hpRecovery:2500,exp:2400,atk:2e3,level:190,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"slime.swallow",level:0},{key:"shamansa.spew",level:0},{key:"enemy.upgrade",level:0}],stunResist:5e3,loots:[{key:"gold",count:[700,1500],rate:1}]},{key:"chapter5.woodElf.arms",name:"恐怖的残肢",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:75e3,atk:1200,atkSpeed:.4,allResist:50,level:180,skills:[{key:"melee",level:0}]},{key:"chapter5.woodElf.rosa",name:"懒惰的罗莎",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:25e5,hpRecovery:2500,exp:2400,atk:2e3,level:190,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"rosa.sleepy",level:0},{key:"rosa.angry",level:0},{key:"enemy.upgrade",level:0}],stunResist:5e3,loots:[{key:"gold",count:[700,1500],rate:1}]}]},7635:e=>{e.exports=[{key:"kakarif.generations",name:"卡卡列夫的后代",description:"一团燃烧着的火元素",camp:"enemy",race:"unknown",career:"melee",maxHp:600,exp:30,atk:20,fireResist:2e3,coldResist:-2e3,level:45,atkSpeed:.4,skills:[{key:"fireElement.fireball",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,25],rate:.1}]},{key:"kakarif.servants",name:"卡卡列夫的仆从",description:"一种来自火元素位面的蛇形生物",camp:"enemy",race:"unknown",career:"melee",fireResist:2e3,coldResist:-2e3,maxHp:750,exp:30,atk:25,level:45,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"fireElement.fireball",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,35],rate:.1}]},{key:"kakarif.illusion",name:"卡卡列夫的幻象",description:"一人高的元素生物，灼热的气浪迎面而来",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:7500,fireResist:6e3,coldResist:-3e3,hpRecovery:20,exp:1200,atk:40,level:50,atkSpeed:.5,skills:[{key:"kakarif.melee",level:0},{key:"kakarif.mad",level:0}],affixes:{stronger:2,faster:1,recover:.5},loots:[{key:"gold",count:[50,150],rate:.25}]}]},9580:(e,t,n)=>{e.exports=[...n(7964),...n(2245),...n(1926),...n(7635),...n(1320),...n(2282),...n(1011),...n(5e3),...n(5353),...n(8110),...n(6720),...n(3973),...n(7072),...n(1088),...n(329),...n(3526),...n(7347),...n(9431),...n(8497),...n(4697),...n(8002),...n(4102),...n(6242),...n(3023)]},2282:e=>{e.exports=[{key:"knight.normal",name:"圣殿骑士",description:"一团燃烧着的火元素",camp:"enemy",race:"unknown",career:"melee",maxHp:600,exp:30,atk:20,def:200,level:65,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shieldShock",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,25],rate:.1},{type:"equip",rate:.05,mfRate:1}]},{key:"knight.prayer",name:"圣殿牧师",description:"一种来自火元素位面的蛇形生物",camp:"enemy",race:"unknown",career:"melee",maxHp:750,exp:30,atk:10,level:65,def:100,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"knight.heal",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,35],rate:.1},{type:"equip",rate:.05,mfRate:1}]},{key:"knight.leader",name:"骑士队长卡罗",description:"一人高的元素生物，灼热的气浪迎面而来",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:1e4,def:300,exp:1200,atk:50,level:70,atkSpeed:.5,skills:[{key:"melee",level:0},{key:"knight.shout",level:0},{key:"knight.reflect",level:0}],loots:[{key:"gold",count:[50,150],rate:.25}]}]},1926:e=>{e.exports=[{key:"kobold.miner",name:"狗头人矿工",description:"狗头人居然长这么多的胡子，有点萌。😊",camp:"enemy",race:"unknown",career:"melee",maxHp:350,atk:10,atkSpeed:.4,exp:20,level:34,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,10],rate:.2},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.woods":4,"town.mine.2":2,"town.mine.3":1}}]},{key:"kobold.shaman",name:"狗头人萨满",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:500,exp:40,atk:10,level:36,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.fireball",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,10],rate:.2},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.woods":4,"town.mine.2":2,"town.mine.3":1}}]},{key:"kobold.candle",name:"安全牌蜡烛",description:"一根蜡烛。",camp:"neutral",race:"unknown",career:"melee",maxHp:10,exp:0,atk:80,level:1,atkSpeed:.4,skills:[{key:"bomb",level:0}],onPress(e){return this.kill(),!1},affixes:{stronger:2},loots:[]},{key:"kobold.goldteeth",name:"金牙",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:3e3,hpRecovery:15,exp:800,atk:50,level:40,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"candle.call",level:0}],loots:[{key:"gold",count:[5,100],rate:1}]}]},1011:e=>{e.exports=[{key:"muzhuang1",name:"训练木桩",description:"   ",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:1e17,atk:1,atkSpeed:.2,exp:1,level:250,skills:[],loots:[{key:"gold",count:[999999,999999],rate:1},{key:"diamonds",rate:1,count:[1,1]}]},{key:"muzhuang2",name:"凶狠的训练木桩",description:"   ",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:9999999999,atk:1,atkSpeed:.2,exp:1,level:300,skills:[{key:"melee",level:0},{key:"mz2skill2",level:0}],hooks:{speed_nochange:(e,t,n)=>1,loots:[]}}]},4697:e=>{e.exports=[{key:"shrine.heal",name:"生命圣殿",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units.filter((e=>"player"===e.camp||"alien"===e.camp)))t.hp+=1*t.maxHp;return this.kill(),!1}},{key:"shrine.energy",name:"能量圣殿",description:"增加怒气、能量、法力恢复速度30秒。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units.filter((e=>"player"===e.camp||"alien"===e.camp)))t.addBuff("shrine.energy",6e4);return this.kill(),!1}},{key:"shrine.power",name:"威能圣殿",description:"增加所有造成的伤害30秒。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units.filter((e=>"player"===e.camp||"alien"===e.camp)))t.addBuff("shrine.power",6e4);return this.kill(),!1}},{key:"shrine.experience",name:"经验圣殿",description:"增加所有造成的伤害30秒。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units.filter((e=>"player"===e.camp||"alien"===e.camp)))t.addBuff("shrine.experience",6e4);return this.kill(),!1}}]},7964:e=>{e.exports=[{key:"slime.minimal",name:"小史莱姆",description:"黏糊糊的一团，是被黑暗之力操控的最原始的生物，不断吞噬周遭的物体。",camp:"enemy",race:"unknown",career:"melee",maxHp:15,atk:.5,atkSpeed:.2,exp:2,level:8,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,5],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.cave2":1}}]},{key:"slime.giant",name:"大史莱姆",description:"黏糊糊的一大团，缓慢的蠕动着，透过身体还能看到未消化的东西。",camp:"neutral",race:"unknown",career:"melee",maxHp:30,exp:3,atk:2,level:12,atkSpeed:.25,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,20],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.cave2":1}}]},{key:"slime.giant.enemy",name:"大史莱姆",description:"黏糊糊的一大团，缓慢的蠕动着，透过身体还能看到未消化的杂物。",camp:"enemy",race:"unknown",career:"melee",maxHp:30,exp:3,atk:1,level:16,atkSpeed:.25,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,20],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.cave2":1}}]},{key:"slime.queen",name:"母体史莱姆",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:500,def:100,exp:50,atk:5,level:20,atkSpeed:.1,skills:[{key:"melee",level:0},{key:"slime.swallow",level:0}],loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}]},3023:e=>{e.exports=[{key:"soul_karon",name:"百鬼之王·卡隆",description:"百鬼之王·卡隆",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:8e6,hpRecovery:8e4,maxMp:9999999999,mpRecovery:9999999999,def:2e3,allResist:2e3,darkResist:99999,lightResist:-99999,exp:1,atk:5e3,level:300,atkSpeed:1,stunResist:4e4,skills:[{key:"soul_7",level:50},{key:"soul_iceplus",level:50},{key:"karon_dark_jige",level:50},{key:"karon_tombstoneplus",level:50},{key:"soul_darkfire",level:50},{key:"ghost_puncture",level:50},{key:"soul_poison",level:50},{key:"soul_ice",level:50},{key:"soul_shadow",level:50},{key:"ghost_fury",level:50},{key:"soul_weak",level:50},{key:"karon_tombstone",level:50},{key:"soul_armor",level:50},{key:"ghost_whip",level:50},{key:"moonlight_slash",level:50},{key:"soul_power",level:50},{key:"onikiri",level:50},{key:"jige_atk",level:50}],loots:[{key:"gold",count:[1,1],rate:1}]}]},9431:e=>{function t(e){return e<=60?.3*e+1:e<=70?.5*e+1-6:void 0}const n=[{key:"summon.element.slime",name:"~史莱姆~",description:"一团跳动的火焰",camp:"player",race:"unknown",career:"melee",maxHp:10,def:2e3,fireResist:-2e3,meleeAbsorb:.5,skills:[{key:"melee",level:0}],v2Skills:[{key:"melee",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willAttack:(e,t,n)=>t&&n.meleeAbsorb<1,willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"melee",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summon_slime");return this.summoner.maxHp**(1+r/10)},atk(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summon_slime");return Math.round(this.summoner.int/2+r)}}},{key:"summon.element.fire",name:"火焰精灵",description:"一团跳动的火焰",camp:"player",race:"unknown",career:"melee",maxHp:10,fireAbsorb:1.2,skills:[{key:"fireElement.fireball",level:0}],v2Skills:[{key:"fireElement.flameStrike",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willAttack:(e,t,n)=>t&&n.fireAbsorb<1,willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"fire",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summonFire");return.2*this.summoner.maxHp*(1+r/10)},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},atk(e,n){if(!this.summoner)return 0;const{player:r}=this.summoner,i=r.getSkillLevel("summonFire");return 5*t(r.level)*(.01*this.summoner.int+1)*(.3*i+1)*this.summoner.dmgAdd},def(e,t){return this.summoner.def}}},{key:"summon.element.water",name:"水元素",description:"一团滚动的水元素",camp:"player",race:"unknown",career:"melee",maxHp:10,iceAbsorb:1.2,skills:[{key:"waterElement.waterArrow",level:0},{key:"iceNova",level:0}],v2Skills:[{key:"fishzilla.bomb",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willAttack:(e,t,n)=>t&&n.coldAbsorb<1,willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"water",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summonWater");return.2*this.summoner.maxHp*(1+r/10)},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},atk(e,n){if(!this.summoner)return 0;const{player:r}=this.summoner,i=r.getSkillLevel("summonWater");return 4*t(r.level)*(.01*this.summoner.int+1)*(.3*i+1)*this.summoner.dmgAdd},def(e,t){return this.summoner?2*this.summoner.def:0}}},{key:"summon.element.earth",name:"岩石傀儡",description:"坚固的岩石傀儡",camp:"player",race:"unknown",career:"melee",maxHp:10,atkSpeed:.666,def:100,skills:[{key:"melee",level:0},{key:"summon.earth.comeToMe",level:0}],v2Skills:[{key:"earthElement.recovery",level:0},{key:"summon.puppet.comeToMe",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"melee",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summonEarth");return.4*this.summoner.maxHp*(1+r/10)},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},atk(e,n){if(!this.summoner)return 0;const{player:r}=this.summoner,i=r.getSkillLevel("summonEarth");return 6*t(r.level)*(.01*this.summoner.int+1)*(.3*i+1)*this.summoner.dmgAdd},def(e,t){return this.summoner?5*this.summoner.def:0}}},{key:"summon.element.lightning",name:"闪电风暴",description:"一团跳动的闪电",camp:"player",race:"unknown",career:"melee",maxHp:10,lightningAbsorb:1.2,skills:[{key:"lightningElement.chainingLightning",level:0}],v2Skills:[{key:"lightningElement.stunAll",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willAttack:(e,t,n)=>t&&n.lightningAbsorb<.5,willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"lightning",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summonLightning");return.2*this.summoner.maxHp*(1+r/10)},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},atk(e,n){if(!this.summoner)return 0;const{player:r}=this.summoner,i=r.getSkillLevel("summonLightning");return 5*t(r.level)*(.01*this.summoner.int+1)*(.3*i+1)*this.summoner.dmgAdd},def(e,t){return 2*this.summoner.def}}}],r=n.map((e=>({...e,key:e.key+".2",name:"II型"+e.name,skills:[...e.skills,...e.v2Skills]})));e.exports=[...n,...r]},8497:e=>{e.exports=[{key:"summon_tombstone",name:"墓碑",description:"哈哈哈哈，来打我啊",camp:"alien",race:"unknown",career:"melee",maxHp:10,skills:[{key:"tombstone_boom",level:0}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},def(e,t){if(!this.summoner)return 1;const{player:n}=this.summoner;return n.getSkillLevel("tombstone")},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkdmgAdd(e,t){return this.summoner?this.summoner.darkdmgAdd:0},maxHp(e,t){return this.summoner?.05*this.summoner.maxHp:1}}},{key:"summon_tombstoneplus",name:"坟头",description:"哈哈哈哈，来打我啊",camp:"alien",race:"unknown",career:"melee",maxHp:10,allResist:2e3,poisonResist:99999,darkResist:99999,lightResist:-99999,skills:[{key:"tombstoneplus_skill1",level:0},{key:"tombstoneplus_skill2",level:0}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},def(e,t){if(!this.summoner)return 1;const{player:n}=this.summoner;return n.getSkillLevel("tombstoneplus")},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkdmgAdd(e,t){return this.summoner?this.summoner.darkdmgAdd:0},maxHp(e,t){return this.summoner?.1*this.summoner.maxHp:1}}},{key:"summon_jige",name:"神官吉哥",description:"哈哈哈哈，来打我啊",camp:"alien",race:"unknown",career:"melee",maxHp:10,maxMp:9999999,mpRecovery:99999,poisonResist:99999,darkResist:99999,lightResist:-99999,skills:[{key:"jige_atk",level:25},{key:"onikiri",level:25},{key:"tombstone",level:25},{key:"tombstoneplus_skill2",level:0}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},def(e,t){if(!this.summoner)return 1;const{player:n}=this.summoner;return n.getSkillLevel("dark_jige")},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkdmgAdd(e,t){return this.summoner?this.summoner.darkdmgAdd:0},maxHp(e,t){return this.summoner?this.summoner.maxHp:1}}},{key:"karon_summon_tombstone",name:"墓碑",description:"哈哈哈哈，来打我啊",camp:"enemy",race:"unknown",career:"melee",maxHp:10,def:50,skills:[{key:"tombstone_boom",level:50}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkdmgAdd(e,t){return this.summoner?this.summoner.darkdmgAdd:0},maxHp(e,t){return this.summoner?.05*this.summoner.maxHp:1}}},{key:"karon_summon_tombstoneplus",name:"坟头",description:"哈哈哈哈，来打我啊",camp:"enemy",race:"unknown",career:"melee",maxHp:10,def:50,allResist:2e3,poisonResist:99999,darkResist:99999,lightResist:-99999,skills:[{key:"tombstoneplus_skill1",level:50},{key:"tombstoneplus_skill2",level:50}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkdmgAdd(e,t){return this.summoner?this.summoner.darkdmgAdd:0},maxHp(e,t){return this.summoner?.1*this.summoner.maxHp:1}}},{key:"karon_summon_jige",name:"神官吉哥",description:"哈哈哈哈，来打我啊",camp:"enemy",race:"unknown",career:"melee",maxHp:10,def:50,maxMp:9999999,mpRecovery:99999,poisonResist:99999,darkResist:99999,lightResist:-99999,skills:[{key:"jige_atk",level:50},{key:"onikiri",level:50},{key:"karon_tombstone",level:50},{key:"tombstoneplus_skill2",level:50}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkdmgAdd(e,t){return this.summoner?this.summoner.darkdmgAdd:0},maxHp(e,t){return this.summoner?this.summoner.maxHp:1}}}]},2245:e=>{e.exports=[{key:"wolf.minimal",name:"幼狼",description:"山里的狼有这么多？看来大人们真的没有骗人。",camp:"enemy",race:"unknown",career:"melee",maxHp:100,atk:1.5,atkSpeed:.4,exp:5,level:24,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,10],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.cave2":2,"town.woods":1}}]},{key:"wolf.giant",name:"母狼",description:"你问我怎么分清是公是母的？小孩子不要问太多……",camp:"enemy",race:"unknown",career:"melee",maxHp:200,exp:10,atk:6,level:26,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"wolf.heal",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,20],rate:.1},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.cave2":2,"town.woods":1}}]},{key:"wolf.king",name:"狼王",description:"头顶有一撮白毛。据说这是最好的品种的象征",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:4e3,def:50,exp:200,atk:12,level:30,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"wolf.call",level:0}],loots:[{key:"gold",count:[1,200],rate:.25}]}]},1320:e=>{e.exports=[{key:"zombies.farmer",name:"农夫发狂",description:"两眼发红，口水流了一嘴，看起来极其可怕",camp:"enemy",race:"unknown",career:"melee",maxHp:450,atk:10,atkSpeed:.4,exp:20,level:54,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,10],rate:.2},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.woods":4,"town.neighbourTown.2":3,"town.neighbourTown.3":1}}]},{key:"zombies.hammersmith",name:"铁匠发狂",description:"大哥，放下你手里的锤子！有话好好说！",camp:"enemy",race:"unknown",career:"melee",maxHp:600,exp:40,atk:30,level:56,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"zombie.thumpHead",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,10],rate:.2},{type:"equip",rate:.05,mfRate:1},{type:"ticket",rate:.001,dungeons:{"town.woods":4,"town.neighbourTown.2":3,"town.neighbourTown.3":1}}]},{key:"zombie.necromancer",name:"死灵法师奈布",description:"死灵法师头目",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:5e3,hpRecovery:15,exp:800,atk:0,level:60,atkSpeed:.4,skills:[{key:"zombie.heal",level:0},{key:"zombie.hide",level:0}],loots:[{key:"gold",count:[5,100],rate:1}]}]},77:e=>{e.exports=[{key:"stronger",name:"强壮的",hooks:{maxHpMul:(e,t)=>1.5*t}},{key:"faster",name:"快速的",hooks:{atkSpeedMul:(e,t)=>2*t}},{key:"recover",name:"自愈的",hooks:{hpRecovery(e,t){return t+.005*this.maxHp}}},{key:"yingpi",name:"硬皮的",hooks:{defAdd:(e,t)=>t+99999}},{key:"dead",name:"快嘎的",hooks:{maxHpMul:(e,t)=>.1*t}},{key:"magic",name:"抗魔的",hooks:{fireResist:(e,t)=>t+99999,coldResist:(e,t)=>t+99999,lightningResist:(e,t)=>t+99999,darkResist:(e,t)=>t+99999,lightResist:(e,t)=>t+99999}},{key:"old",name:"年迈的",hooks:{atkSpeedMul:(e,t)=>.1*t}}]},1862:(e,t,n)=>{e.exports=[...n(77)]},787:(e,t,n)=>{e.exports=[...n(6413),...n(5928),...n(7985),...n(7196)]},7196:e=>{e.exports=[{key:"pal_enhance1",name:"祈祷",description:"每角色等级+1生命值恢复，每秒消耗1法力。",hooks:{hpRecovery(e,t){return t+this.level},mpRecovery:(e,t)=>t-1,pal_enhance1:()=>!0}},{key:"pal_enhance2",name:"火焰抵抗",description:"火焰吸收+10%，火焰吸收上限+5%。",hooks:{fireAbsorb:(e,t)=>t+.1,fireAbsorbmax:(e,t)=>t+.05,pal_enhance2:()=>!0}},{key:"pal_enhance3",name:"反抗",description:"自身受到的物理伤害减少15%，每角色等级+0.25%物理防御。",hooks:{willDamaged:(e,t,n,r)=>"melee"===r?.85*t:t,defAdd(e,t){return t+this.level*this.def_self*.0025},pal_enhance3:()=>!0}},{key:"pal_enhance4",name:"荆棘",description:"受到物理伤害时，对攻击你的目标反弹（实际受到伤害×角色等级×10%）点物理伤害。",hooks:{pla_jingji(e,t,n,r){return"melee"===n&&r*this.level*.1},pal_enhance4:()=>!0}},{key:"pal_enhance5",name:"祝福瞄准",description:"每角色等级+1%暴击伤害。",hooks:{critBonusAdd(e,t){return t+.01*this.level},pal_enhance5:()=>!0}},{key:"pal_enhance6",name:"寒冷抵抗",description:"寒冷吸收+10%，寒冷吸收上限+5%。",hooks:{coldAbsorb:(e,t)=>t+.1,coldAbsorbmax:(e,t)=>t+.05,pal_enhance6:()=>!0}},{key:"pal_enhance7",name:"净化",description:"暗、毒素吸收+20%，暗、毒素吸收上限+5%。",hooks:{darkAbsorb:(e,t)=>t+.2,dakrAbsorbmax:(e,t)=>t+.05,poisonAbsorb:(e,t)=>t+.2,poisonAbsorbmax:(e,t)=>t+.05,pal_enhance7:()=>!0}},{key:"pal_enhance8",name:"精力",description:"每角色等级+2耐力。",hooks:{staAdd(e,t){return t+2*this.level},pal_enhance8:()=>!0}},{key:"pal_enhance9",name:"冥思",description:"每秒恢复1%的法力值。",hooks:{mpRecovery(e,t){return t+.01*this.maxMp},pal_enhance9:()=>!0}},{key:"pal_enhance10",name:"救助",description:"自身受到的火焰、寒冷、闪电伤害减少15%。",hooks:{willDamaged:(e,t,n,r)=>"fire"===r||"cold"===r||"lightning"===r?.85*t:t,pal_enhance10:()=>!0}},{key:"pal_enhance11",name:"救赎",description:"每次完成击杀，恢复自身5%的生命值和法力值。",hooks:{hpFromKill(e,t){return t+.05*this.maxHp},mpFromKill(e,t){return t+.05*this.maxMp},pal_enhance11:()=>!0}},{key:"pal_enhance12",name:"闪电抵抗",description:"闪电吸收+10%，闪电吸收上限+5%。",hooks:{lightningAbsorb:(e,t)=>t+.1,lightningAbsorbmax:(e,t)=>t+.05,pal_enhance12:()=>!0}}]},5928:e=>{e.exports=[{key:"sorceress_enhance1",name:"能量亲和",description:"每秒恢复0.5%的法力值。",hooks:{mpRecovery(e,t){return t+.005*this.maxMp}}},{key:"sorceress_enhance2",name:"魔法铠甲",description:"每秒消耗（智力/5）点法力值，同时增加（智力）点物理防御和元素抗性。",hooks:{mpRecovery(e,t){return t-.2*this.int},defAdd(e,t){return t+this.int},allResAdd(e,t){return t+this.int}}},{key:"lv15_sorceress1_enhance1",name:"和弦",description:"释放“魔法连弹”将使你下一个元素法术的伤害提高30%，但任何类型的持续伤害不受影响。",hooks:{lv15_sorceress1_enhance1:()=>!0}},{key:"lv15_sorceress1_enhance2",name:"法力转化",description:"以减少50%法力值上限为代价，按照1:0.5的比例将减少的法力值上限转化为元素伤害。",hooks:{maxMpMul:(e,t)=>.5,firedmgLAdd(e,t){return t+.5*this.maxMp},colddmgLAdd(e,t){return t+.5*this.maxMp},lightningdmgLAdd(e,t){return t+.5*this.maxMp}}},{key:"lv15_sorceress1_enhance3",name:"魔力激化",description:"每次释放伤害类的法术将额外消耗法力值上限2%的法力值，每额外消耗10点法力则造成的伤害提高2%，该效果在法力值低于20%时无法生效。",hooks:{lv15_sorceress1_enhance3:()=>!0}},{key:"lv35_sorceress1_enhance1",name:"元素重置",description:"火焰伤害+30%，寒冷、闪电伤害-30%。",hooks:{firedmgAdd:(e,t)=>t+.3,colddmgAdd:(e,t)=>t-.3,lightningdmgAdd:(e,t)=>t-.3}},{key:"lv35_sorceress1_enhance2",name:"连珠火球",description:"释放“火球术”有50%几率额外生成第二颗火球，25%几率额外生成第三颗火球，10%几率额外生成第四颗火球，1%几率额外生成第五颗火球。",hooks:{lv35_sorceress1_enhance2:()=>!0}},{key:"lv35_sorceress1_enhance3",name:"咒语改良",description:"急速+15%。",hooks:{speedRateAdd:(e,t)=>.15+t}},{key:"lv35_sorceress3_enhance1",name:"元素重置",description:"闪电伤害+30%，火焰、寒冷伤害-30%。",hooks:{firedmgAdd:(e,t)=>t-.3,colddmgAdd:(e,t)=>t-.3,lightningdmgAdd:(e,t)=>t+.3}},{key:"lv35_sorceress3_enhance2",name:"击穿电压",description:"每次造成闪电伤害都有30%几率使目标获得一层“感电”效果。感电：受到的闪电伤害增加1%，持续10秒，每次触发将叠加效果并刷新持续时间。",hooks:{lv35_sorceress3_enhance2:()=>!0}},{key:"lv35_sorceress2_enhance1",name:"元素重置",description:"寒冷伤害+30%，火焰、闪电伤害-30%。",hooks:{firedmgAdd:(e,t)=>t-.3,colddmgAdd:(e,t)=>t+.3,lightningdmgAdd:(e,t)=>t-.3}},{key:"lv35_sorceress2_enhance2",name:"入微",description:"“活力之水”的效果+150%。",hooks:{lv35_sorceress2_enhance2:()=>2.5}},{key:"lv80_sorceress1_enhance1",name:"殉爆",description:"对受到“灼烧”效果影响的目标造成火焰伤害时，有50%几率触发“殉爆”效果。殉爆：对所有目标造成（智力×2）点火焰伤害，无法再次触发“殉爆”。",hooks:{willDamage(e,t,n,r){const{target:i}=this,o=i.buffs.find((e=>"fire_buff"===e.group));return"fire"===r&&o&&Math.random()<.5&&this.useExtraSkill("xunbao_skill"),t}}},{key:"lv80_sorceress1_enhance2",name:"汇源",description:"释放“透支”将不再获得法力值恢复减少的负面效果。",hooks:{lv80_sorceress1_enhance1:()=>!0}},{key:"lv80_sorceress1_enhance3",name:"毁灭之握",description:"“爆炎术”只对主目标造成伤害，但伤害提高400%。",hooks:{lv80_sorceress1_enhance3:()=>4}},{key:"lv80_sorceress1_enhance4",name:"咒语进阶",description:"急速+30%。",hooks:{speedRateAdd:(e,t)=>.3+t}},{key:"lv80_sorceress1_enhance5",name:"灰烬",description:"“焚骨”每段伤害递增100%。",hooks:{lv80_sorceress1_enhance5:()=>!0}},{key:"lv80_sorceress2_enhance1",name:"燃尽",description:"造成火焰伤害时有20%几率对目标释放一次额外的“点燃”，但“点燃”的伤害减少50%，持续伤害无法触发。",hooks:{willDamage(e,t,n,r){const{target:i}=this;return"fire"===r&&Math.random()<.3&&this.useExtraSkill("sorceress_igniting"),t},lv80_sorceress2_enhance1:()=>.5}},{key:"lv80_sorceress2_enhance3",name:"烙印",description:"每次为目标添加“灼烧”效果将使其火焰抗性永久减少30点。",hooks:{lv80_sorceress2_enhance3:()=>!0}},{key:"lv80_sorceress2_enhance5",name:"传火者",description:"每次释放“点燃”时，有60%的几率使目标额外获得一次“灼烧”效果；触发效果后将再次判定，直至未触发为止。",hooks:{lv80_sorceress2_enhance5:()=>!0}},{key:"lv80_sorceress5_enhance1",name:"电压波动",description:"闪电法术的伤害上限提高30%。",hooks:{lv80_sorceress5_enhance1:()=>1.3}},{key:"lv80_sorceress5_enhance2",name:"快充",description:"“蓄电”的冷却时间减少3秒。",hooks:{lv80_sorceress5_enhance2:()=>3e3}},{key:"lv80_sorceress5_enhance3",name:"磁暴",description:"“闪电”的冷却时间提高至1.5秒，但每次必定造成最大值伤害。",hooks:{lv80_sorceress5_enhance3:()=>1500,lv80_sorceress5_enhance33:()=>!0}},{key:"lv80_sorceress5_enhance5",name:"电能回收",description:"释放“雷蛇”时将额外获得一格电能。",hooks:{lv80_sorceress5_enhance5:()=>!0}},{key:"lv80_sorceress6_enhance1",name:"稳定电压",description:"闪电法术的伤害下限提高至上限的30%。",hooks:{lv80_sorceress6_enhance1:()=>!0}},{key:"lv80_sorceress6_enhance3",name:"回流",description:"释放“静电力场”将为目标额外添加一层感电。",hooks:{lv80_sorceress6_enhance3:()=>!0}},{key:"lv80_sorceress6_enhance5",name:"电击流",description:"造成闪电伤害时，有30%几率再次对所有目标造成（智力×0.5）点闪电伤害。",hooks:{willDamage(e,t,n,r){const{target:i}=this;return"lightning"===r&&Math.random()<.3&&this.useExtraSkill("dianjiliu_skill"),t}}},{key:"lv80_sorceress3_enhance1",name:"水射流",description:"“水箭术”伤害+30%，目标数+5。",hooks:{lv80_sorceress3_enhance1:()=>!0}},{key:"lv80_sorceress3_enhance2",name:"坚冰",description:"释放“寒冰护甲”时将额外释放一次“魔法盾”。",hooks:{lv80_sorceress3_enhance2:()=>!0}},{key:"lv80_sorceress3_enhance3",name:"狂澜",description:"“湍流”每命中一个目标，则额外释放一次“水箭术”。",hooks:{lv80_sorceress3_enhance3:()=>!0}},{key:"lv80_sorceress3_enhance5",name:"浪涌",description:"“海啸”命中后使目标停止行动1秒，每次命中刷新持续时间。",hooks:{lv80_sorceress3_enhance5:()=>!0}},{key:"lv80_sorceress4_enhance1",name:"冰刺",description:"“水箭术”伤害+150%，15%几率冻结目标1.5秒。",hooks:{lv80_sorceress4_enhance1:()=>!0}},{key:"lv80_sorceress4_enhance3",name:"冻伤",description:"受“冻结”效果影响的目标再次触发“冻结”效果时，立即移除“冻结”效果并额外造成其生命值20%的寒冷伤害，该伤害最大不超过自身智力的50倍。",hooks:{lv80_sorceress4_enhance3:()=>!0}},{key:"lv80_sorceress4_enhance5",name:"绝对零度",description:"对boss单位造成的寒冷伤害提高25%；对非boss单位造成的寒冷伤害提高50%，且有5%几率触发即死效果。",hooks:{willDamage:(e,t,n,r)=>("cold"===r&&(n.boss&&(t*=1.25),!n.boss&&Math.random()<.05?n.kill():t*=1.5),t)}},{key:"thinking",name:"冥思",description:"每5秒恢复2.5%的气血值和法力值。",hooks:{hpRecovery(e,t){return t+.005*this.maxHp},mpRecovery(e,t){return t+.005*this.maxMp}}},{key:"soCold",name:"急冻",description:"你造成的寒冷效果有20%几率变为冻结效果。",hooks:{soCold:()=>.2}},{key:"flaming",name:"燃尽",description:"你的火焰法术造成的会心效果可以在接下来10秒内造成同等的持续伤害。新的燃尽效果会刷新旧效果的持续时间。",hooks:{flaming:()=>!0}},{key:"magicArtist",name:"法力交织",description:"每释放一个和上次技能不同系的技能，就增加10%的伤害，持续5秒",hooks:{magicArtist:()=>!0}},{key:"coldWeaken",name:"寒冷弱点",description:"对冰冷目标造成的伤害增加20%，对冻结目标造成的伤害增加40%。",hooks:{willDamage:(e,t,n)=>n.runAttrHooks(!1,"freezed")?1.4*t:n.runAttrHooks(!1,"cold")?1.2*t:t}},{key:"fireFrenzy",name:"烈焰狂热",description:"火球术可使你所有火焰法术的技能调息减少1秒",hooks:{fireFrenzy:()=>!0}},{key:"manaExchange",name:"法力转化",description:"每当你消耗法力值，就为你创建一个可吸收相同数值伤害的护盾。护盾的总数额不会超过你的气血值上限。",hooks:{postCostMp(e,t){const n=this.buffs.find((e=>"manaShield"===e.group)),r=t;return n?n.arg=Math.min(n.arg+r,this.maxHp):this.addBuff("manaShield",null,r,"manaShield"),t}}},{key:"coldAir",name:"冻气",description:"你的冰冷法术和效果将使敌人永久减速1%，最多叠加90层。",hooks:{coldAir:()=>!0}},{key:"fireRunner",name:"烈焰行者",description:"遇敌速度增加100%。"},{key:"lifeExchange",name:"气血值转化",description:"每损失1%气血值，就为你恢复1%法力值。"}]},7985:e=>{e.exports=[{key:"soulbringer_enhance1",name:"黑暗君王·布甲精通",description:"根据穿戴的布甲品质等级提升属性。每级提升0.5智力、4闪避值、0.05法力值恢复、3暗抗性，但自身的光抗性同时减少2。",hooks:{intAdd(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),t+.5*n},shanbizhiAdd(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),t+4*n},mpRecovery(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),t+.05*n},darkResist(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),t+3*n},lightResist(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),Math.max(t-2*n,0)}}},{key:"soulbringer_enhance2",name:"鬼斩·噬魂",description:"“鬼斩”的伤害+30%，造成伤害后提高（技能等级×10）力量、智力，持续4秒。",hooks:{soulbringer_enhance2:(e,t)=>1.3}},{key:"soulbringer_enhance3",name:"凭依",description:"普通攻击转变为暗属性伤害，且伤害提高50%，攻击目标数+2。",hooks:{soulbringer_enhance3:(e,t)=>!0}},{key:"soulbringer_enhance4",name:"黑暗降临",description:"鬼神·虚弱的力量将使所有目标额外减少（技能等级×200）暗抗性。",hooks:{soulbringer_enhance4:(e,t)=>!0}},{key:"soulbringer_enhance5",name:"黑暗光环",description:"鬼神·铠甲的力量将使自身暗伤害+（技能等级×1%）。",hooks:{soulbringer_enhance5:(e,t)=>!0}},{key:"soulbringer_enhance6",name:"封印解除",description:"鬼神系列技能的技能效果提高10级，可突破等级上限的限制。",hooks:{soulbringer_enhance6:(e,t)=>10}}]},6413:e=>{e.exports=[{key:"warrior_enhance1",name:"坚韧",description:"每角色等级使自身受到的伤害减少0.35%",hooks:{willDamaged(e,t,n,r){return"real"!==r?t*(1-Math.min(.0035*this.level,.35)):t}}},{key:"warrior_enhance2",name:"奋勇",description:"攻击力+20",hooks:{atk_self_Add:(e,t)=>t+20}},{key:"lv15_warrior_enhance1",name:"生存技巧",description:"“伤口包扎”恢复的生命值×2",hooks:{lv15_warrior_enhance1_time:(e,t)=>2}},{key:"lv15_warrior_enhance2",name:"武器掌握",description:"攻击力+20%",hooks:{atk_Add(e,t){return t+.2*this.atk_self}}},{key:"lv15_warrior_enhance3",name:"联防",description:"释放“钢铁之躯”时，额外增加等量的元素抗性",hooks:{lv15_warrior_enhance3_time:(e,t)=>!0}},{key:"lv35_warrior1_enhance1",name:"剑花",description:"释放“斩击”有20%几率触发“剑花”效果，对目标额外造成80%的物理伤害",hooks:{lv35_warrior1_enhance1_time:(e,t)=>!0}},{key:"lv35_warrior1_enhance2",name:"克敌",description:"对受“断筋”效果影响的目标造成的伤害提高30%",hooks:{lv35_warrior1_enhance2_time:(e,t)=>!0}},{key:"lv35_warrior1_enhance3",name:"火焰之舞",description:"释放“元素附魔·火”额外使下一个“旋风斩”变为火焰伤害，并对目标添加一层“灼烧”效果。灼烧：每3秒受到20%攻击力的火焰伤害，持续15秒，可叠加。",hooks:{lv35_warrior1_enhance3_time:(e,t)=>!0}},{key:"lv80_warrior1_enhance1",name:"火锤",description:"释放“重斩”将使目标受到的火焰伤害+50%，持续12秒。",hooks:{lv80_warrior1_enhance1_time:(e,t)=>!0}},{key:"lv80_warrior1_enhance2",name:"借力打力",description:"格挡概率提高至30%，成功格挡后将释放一次“旋风斩”。",hooks:{lv80_warrior1_enhance2_time:(e,t)=>!0}},{key:"lv80_warrior1_enhance3",name:"元素掌控",description:"“元素附魔·火”的效果不再因为释放技能而被消耗，且可以维持10秒。",hooks:{lv80_warrior1_enhance3_time:(e,t)=>!0}},{key:"lv80_warrior1_enhance4",name:"越战越勇",description:"每点怒气使“重斩”、“炎龙吐息”造成的伤害增加0.5%。",hooks:{lv80_warrior1_enhance4_time:(e,t)=>!0}},{key:"lv80_warrior1_enhance5",name:"星火",description:"每次释放“斩击”造成火焰伤害，可以额外获得2点怒气，并使“炎龙吐息”的冷却时间减少1秒。",hooks:{lv80_warrior1_enhance5_time:(e,t)=>!0}},{key:"lv80_warrior2_enhance1",name:"追击",description:"“重斩”命中目标后，有50%立即对目标释放一次额外的“斩击”。",hooks:{lv80_warrior2_enhance1_time:(e,t)=>!0}},{key:"lv80_warrior2_enhance2",name:"借力打力",description:"格挡概率提高至30%，成功格挡后将立即释放一次额外的“斩击”。",hooks:{lv80_warrior2_enhance2_time:(e,t)=>!0}},{key:"lv80_warrior2_enhance3",name:"剑术专精",description:"触发“剑花”效果后不再造成额外伤害，而是对目标再释放一次额外的“斩击”，可重复触发。",hooks:{lv80_warrior2_enhance3_time:(e,t)=>!0}},{key:"lv80_warrior2_enhance4",name:"冷静",description:"当怒气小于50点时，攻击力+30%",hooks:{atk_Add(e,t){return this.rp<50?t+1.3*this.atk_self:t}}},{key:"lv80_warrior2_enhance5",name:"蓄剑势",description:"释放“连斩姿态”将立即重置“无敌斩”的冷却时间。",hooks:{lv80_warrior2_enhance5_time:(e,t)=>!0}},{key:"lv35_warrior2_enhance1",name:"生生不息",description:"“气血激增”的效果提高100%。",hooks:{lv35_warrior2_enhance1_time:(e,t)=>2}},{key:"lv35_warrior2_enhance2",name:"金石之躯",description:"“钢铁之躯”的效果提高100%。",hooks:{lv35_warrior2_enhance2_time:(e,t)=>2}},{key:"lv35_warrior2_enhance3",name:"以攻代守",description:"“断筋”的减速效果提高至50%。",hooks:{lv35_warrior2_enhance3_time:(e,t)=>.5}},{key:"lv35_warrior2_enhance4",name:"不屈意志",description:"每损失1点气血值，增加1点物理防御、1点元素（火焰、寒冷、闪电）抗性。",hooks:{defselfAdd(e,t){return t+(this.maxHp-this.hp)},allResselfAdd(e,t){return t+(this.maxHp-this.hp)}}},{key:"lv35_warrior2_enhance5",name:"创世神的守护",description:"吸收上限+5%。",hooks:{meleeAbsorbmax:(e,t)=>t+.05,fireAbsorbmax:(e,t)=>t+.05,coldAbsorbmax:(e,t)=>t+.05,lightningAbsorbmax:(e,t)=>t+.05,darkAbsorbmax:(e,t)=>t+.05,lightAbsorbmax:(e,t)=>t+.05,poisonAbsorbmax:(e,t)=>t+.05}},{key:"lv35_warrior2_enhance6",name:"猪突猛进",description:"“盾冲”造成的昏迷效果延长2秒。",hooks:{lv35_warrior2_enhance6_time:(e,t)=>5e3}},{key:"lv35_warrior2_enhance7",name:"以守待攻",description:"成功防御后有50%的几率立即释放一次额外的“无限正义之剑”。",hooks:{lv35_warrior2_enhance7_time:(e,t)=>!0}},{key:"lv35_warrior2_enhance8",name:"荆棘",description:"受到攻击时“守护者之魂”会反击所有敌人，造成（物理防御×10%）点真实伤害。",hooks:{lv35_warrior2_enhance8_time:(e,t)=>!0}},{key:"lv35_warrior5_enhance2",name:"浴血奋战",description:"每损失1%生命值，提高0.5%物理伤害。",hooks:{dmgAdd(e,t){return t+(this.maxHp-this.hp)/this.maxHp*.5}}},{key:"lv35_warrior5_enhance3",name:"瓦解",description:"“碎甲”效果从30%提升至45%。",hooks:{lv35_warrior5_enhance3_time:(e,t)=>.15}},{key:"lv80_warrior5_enhance1",name:"力量训练",description:"“劈砍”和“致命劈砍”的伤害提高30%，但每次释放“劈砍”和“致命劈砍”都会损失当前5%/10%的生命值。",hooks:{lv80_warrior5_enhance1_time:(e,t)=>1.3}},{key:"lv80_warrior5_enhance2",name:"血沸",description:"释放“狂热”时，每损失100点生命值将额外提高1点攻击力，持续10秒。",hooks:{lv80_warrior5_enhance2_time:(e,t)=>!0}},{key:"lv80_warrior5_enhance3",name:"双刀专精",description:"暴击几率+10%，暴击伤害+20%。",hooks:{critRateAdd:(e,t)=>t+.1,critBonusAdd:(e,t)=>t+.2}},{key:"lv80_warrior5_enhance4",name:"挣扎",description:"每损失1%生命值，提高0.25%急速。",hooks:{speedRateAdd(e,t){return t+(this.maxHp-this.hp)/this.maxHp*.25}}},{key:"lv80_warrior5_enhance5",name:"破釜沉舟",description:"释放“血甲缚”获得的护盾以及护盾上限+100%，但释放后仅保留1点生命值。",hooks:{lv80_warrior5_enhance5_time:(e,t)=>2}},{key:"lv80_warrior8_enhance1",name:"曜日",description:"“劈砍”造成火焰伤害时，将使目标的火焰抗性永久减少30点。",hooks:{lv80_warrior8_enhance1_time:(e,t)=>!0}},{key:"lv80_warrior8_enhance1_2",name:"冰凝",description:"“劈砍”造成寒冷伤害时，将使目标的寒冷抗性永久减少30点。",hooks:{lv80_warrior8_enhance1_2_time:(e,t)=>!0}},{key:"lv80_warrior8_enhance2",name:"共舞",description:"“劈砍”的伤害减少70%，但同时造成火焰伤害和寒冷伤害。",hooks:{lv80_warrior8_enhance2_time:(e,t)=>!0}},{key:"lv80_warrior8_enhance3",name:"余热",description:"“劈砍”获得的火能提高至5点。",hooks:{lv80_warrior8_enhance3_time:(e,t)=>5}},{key:"lv80_warrior8_enhance3_2",name:"余寒",description:"“劈砍”获得的冰能提高至5点。",hooks:{lv80_warrior8_enhance3_2_time:(e,t)=>5}},{key:"lv80_warrior8_enhance4",name:"交相辉映",description:"释放“末日”将同时触发两种效果，但消耗的能量不会因此而增加。",hooks:{lv80_warrior8_enhance4_time:(e,t)=>!0}}]},6304:e=>{e.exports=[{key:"copperArmor",type:"equip",position:"plastron",class:"armor",name:"锁子甲",description:"铜环串联而成的胸甲，远远看去像身上挂满了铜钱，很是炫富。"},{key:"copperShinGuard",type:"equip",position:"gaiter",class:"armor",name:"锁链靴",minLevel:99999999999,description:"木质的鞋底，铜环串联而成鞋面，防御力很不错。"},{key:"copperShinGuard1",type:"equip",position:"gaiter",class:"armor",name:"锁链靴",description:"木质的鞋底，铜环串联而成鞋面，防御力很不错。"},{key:"boneArmor",type:"equip",position:"plastron",class:"lightArmor",name:"骨甲",description:"烧焦的人骨紧密排列，不但防御良好而且轻便，但是敢穿的人真不多……"},{key:"boneShinGuard",type:"equip",position:"gaiter",class:"lightArmor",name:"骨靴",description:"用骨片雕琢而成的靴子，已经看不出骨头来自哪个部位了。"},{key:"boneArmor1",type:"equip",position:"plastron",class:"lightArmor",name:"骨甲",description:"烧焦的人骨紧密排列，不但防御良好而且轻便，但是敢穿的人真不多……",minLevel:99999999999},{key:"mithrilDress",type:"equip",position:"plastron",class:"cloth",name:"秘银衬衫",description:"布料掺杂秘银制造的衬衫，不过到处是镂空，不知道是为了美观还是为了节约成本。"},{key:"mithrilSkirt",type:"equip",position:"gaiter",class:"cloth",name:"秘银短裙",description:"一层布料一层秘银叠加而成的褶裙，自带防走光被动。"}]},4058:(e,t,n)=>{e.exports=[...n(6928),...n(8479),...n(6304),...n(7868)]},7868:e=>{e.exports=[{key:"ornament",type:"equip",class:"ornament",position:"ornament",name:"首饰",description:"就是普通的首饰。",item:"sta",minLevel:999999999999},{key:"mithrilStannumRing",type:"equip",class:"ornament",position:"ornament",name:"秘银指环",description:"按当前的市场价，铜其实也不便宜。",item:"sta"}]},6928:e=>{e.exports=[{key:"wuxingshi",type:"material",name:"奇怪的精粹",quality:2,stack:999999,price:1,energy:1,description:"拆解装备留下的不明物，闪耀着奇怪的光彩。"}]},8479:e=>{e.exports=[{key:"stickSword",type:"equip",class:"sword",position:"weapon",name:"长剑",description:"朴素的长剑。"},{key:"SwordShield",type:"equip",class:"swordshield",position:"weapon",name:"剑盾",description:"外加朴素的圆盾。"},{key:"LongSword",type:"equip",class:"longsword",position:"weapon",name:"太刀",description:"用木头制作的长刀，有传言说这是萨菲罗斯小时候使用过的。",minLevel:200},{key:"Machete",type:"equip",class:"machete",position:"weapon",name:"双刀",description:"左手一把菜刀，右手还是一把菜刀。"},{key:"MacheteShield",type:"equip",class:"macheteshield",position:"weapon",name:"刀盾",description:"左手是朴素的圆盾。",minLevel:999999999999},{key:"stickWand",type:"equip",class:"wand",position:"weapon",name:"铁木长杖",description:"搬不动，真的搬不动，不是开玩笑的。"}]},7615:(e,t,n)=>{e.exports=n(4130),n(5403),n(1448)},118:(e,t,n)=>{e.exports=[...n(5836),...n(2789)]},5836:e=>{e.exports=[{key:"ornament-1",type:"ornament",itemName:"沉思的鲱鱼干",itemDescription:"作为一条鱼干，人生的大部分就是找个地方挂着……",display:e=>"获得的经验值×1.5",generate:e=>.5,range:e=>"无法附魔",hooks:{expMul:(e,t)=>1.5}},{key:"ornament-fxp",type:"ornament",itemName:"方向盘",itemDescription:"双马尾，才是老司机的方向盘。\n\t\t      ————风月无关",display:e=>"获得的技能熟练度×2",generate:e=>.5,range:e=>"无法附魔",hooks:{skillExpMul:(e,t)=>2}},{key:"ornament-melee",type:"ornament",itemName:"报纸壳壳",itemDescription:"Vehicle ready...奇怪的东西，对物理伤害似乎有很好的防御效果。",display:e=>"物理吸收+15%，物理吸收上限+15%",generate:e=>.5,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.15,meleeAbsorbmax:(e,t)=>.9}},{key:"ornament-fire",type:"ornament",itemName:"凉宝宝",itemDescription:"奇怪的东西，对火焰伤害似乎有很好的防御效果。",display:e=>"火焰吸收+15%，火焰吸收上限+15%",generate:e=>.5,range:e=>"无法附魔",hooks:{fireAbsorb:(e,t)=>t+.15,fireAbsorbmax:(e,t)=>.9}},{key:"ornament-cold",type:"ornament",itemName:"暖宝宝",itemDescription:"奇怪的东西，对寒冷伤害似乎有很好的防御效果。",display:e=>"寒冷吸收+15%，寒冷吸收上限+15%",generate:e=>.5,range:e=>"无法附魔",hooks:{coldAbsorb:(e,t)=>t+.15,coldAbsorbmax:(e,t)=>.9}},{key:"ornament-lightning",type:"ornament",itemName:"绝缘楔子",itemDescription:"奇怪的东西，对闪电伤害似乎有很好的防御效果。",display:e=>"闪电吸收+15%，闪电吸收上限+15%",generate:e=>.5,range:e=>"无法附魔",hooks:{lightningAbsorb:(e,t)=>t+.15,lightningAbsorbmax:(e,t)=>.9}},{key:"ornament-dark",type:"ornament",itemName:"黑暗守护",itemDescription:"一团五彩斑斓的黑色，对暗属性伤害似乎有很好的防御效果。",display:e=>"暗吸收+15%，暗吸收上限+15%",generate:e=>.5,range:e=>"无法附魔",hooks:{darkAbsorb:(e,t)=>t+.15,darkAbsorbmax:(e,t)=>.9}},{key:"ornament-light",type:"ornament",itemName:"光明守护",itemDescription:"一团耀眼的光芒，对光属性伤害似乎有很好的防御效果。",display:e=>"光吸收+15%，光吸收上限+15%",generate:e=>.5,range:e=>"无法附魔",hooks:{lightAbsorb:(e,t)=>t+.15,lightAbsorbmax:(e,t)=>.9}},{key:"ornament-poison",type:"ornament",itemName:"腐肉之风",itemDescription:"一枚奇怪的戒指，但对毒素伤害有很好的防御效果。",display:e=>"毒素吸收+15%，毒素吸收上限+15%",generate:e=>.5,range:e=>"无法附魔",hooks:{poisonAbsorb:(e,t)=>t+.15,poisonAbsorbmax:(e,t)=>.9}},{key:"stickWand-1",type:"stickWand",itemName:"锟斤拷",itemDescription:"手持两把锟斤拷。",display:e=>"火球术的伤害提高100%",generate:e=>2,range:e=>"无法附魔",hooks:{two_kjk:(e,t)=>2}},{key:"stickWand-2",type:"stickWand",itemName:"避雷针",itemDescription:"对游离的闪电元素有着莫大的吸引力，一点都不“避”。",display:e=>"“雷蛇”伤害不再衰减，而是每次递增5%",generate:e=>1.05,range:e=>"无法附魔",hooks:{blz_buff:(e,t)=>1.05}},{key:"ornament-goldapple",type:"ornament",itemName:"金苹果",itemDescription:"我全都要.jpg。",display:e=>"释放“幸运祝福”将额外获得一种祝福效果",generate:e=>1,range:e=>"无法附魔",hooks:{goldapple_buff:(e,t)=>!0}},{key:"copperArmor-sscj",type:"copperArmor",itemName:"反伤刺甲",itemDescription:"点子扎手，风紧扯呼。\n\t\t人称“小荆棘”。",display:e=>"对攻击你的目标造成（物理防御×20%）点真实伤害,无法暴击。",generate:e=>1,range:e=>"无法附魔",hooks:{jingji_small(e){return.2*this.def}}},{key:"copperShinGuard1-gsbj",type:"copperShinGuard1",itemName:"攻速暴击腿甲",itemDescription:"前身叫“攻速暴击裙”，是为了照顾重甲职业特地改造而成的，有着特殊的效果。",display:e=>"攻击你的目标急速×2，但攻击力×0.5",generate:e=>1,range:e=>"无法附魔",hooks:{attacked:(e,t)=>(t.addBuff("gsbj_buff",5e3,null,"gsbj_buff"),t)}},{key:"ornament-hsjz",type:"ornament",itemName:"护身戒指",itemDescription:"Mana，is power。\n\t\t除非.....你不是法爷。",display:e=>"消耗1点法力来抵挡3点伤害",generate:e=>1,range:e=>"无法附魔",hooks:{hsjz_hook(e,t,n,r){const{unit:i}=this;return"real"!==r&&this.mp>0&&(t/3>=this.mp?(this.mp=0,t-=3*this.mp):(this.mp-=t/3,t=0)),t}}},{key:"ornament-mabi",type:"ornament",itemName:"麻痹戒指",itemDescription:"代表战士，击痹你。",display:e=>"造成物理伤害时，有5%几率时目标获得“麻痹”效果，1秒内无法行动",generate:e=>1,range:e=>"无法附魔",hooks:{willDamage(e,t,n,r){return"melee"===r&&Math.random()<.05&&this.useExtraSkill("mabi_skill"),t}}},{key:"ornament-def",type:"ornament",itemName:"防御戒指",itemDescription:"防御，是最好的进攻。",display:e=>"受到的伤害减少10%，包扎伤口、急救、活力之水的冷却时间减少20%",generate:e=>1,range:e=>"无法附魔",hooks:{willDamaged:(e,t,n,r)=>("real"!==r&&(t*=.9),t),defring:(e,t)=>.8}},{key:"mithrilDress-yydt",type:"mithrilDress",itemName:"幽影斗篷",itemDescription:"墨丘利在临嘎之前，留了一件斗篷给你。",display:e=>"有20%的几率将对你的攻击折射给你的当前目标，折射伤害无法暴击。",generate:e=>1,range:e=>"无法附魔",hooks:{zhesheReflect:(e,t,n,r)=>Math.random()<.2&&"real"!==n&&r}},{key:"ornament-jg",type:"ornament",itemName:"杰哥的眼镜",itemDescription:"鬼知道这是啥，戴上就完事了。",display:e=>"每角色等级+3点力量",generate:e=>1,range:e=>"无法附魔",hooks:{strAdd(e,t){return t+3*this.level}}},{key:"ornament-xddj",type:"ornament",itemName:"兄弟的酒",itemDescription:"这一刀有亿点痛。",display:e=>"造成的物理伤害+50%，受到的物理伤害+50%",generate:e=>1,range:e=>"无法附魔",hooks:{willDamage:(e,t,n,r)=>"melee"===r?1.5*t:t,willDamaged:(e,t,n,r)=>"melee"===r?1.5*t:t}},{key:"mithrilSkirt-sydsw",type:"mithrilSkirt",itemName:"舍友的丝袜",itemDescription:"长驱直入。\n\t        ————风月无关",display:e=>"造成的火焰、寒冷、闪电伤害+25%",generate:e=>1,range:e=>"无法附魔",hooks:{willDamage:(e,t,n,r)=>"fire"===r||"cold"===r||"lightning"===r?1.25*t:t}}]},2789:e=>{e.exports=[{key:"ornament-2",type:"ornament",itemName:"史莱姆之心",itemDescription:"用史莱姆核心制作的挂坠，似乎有着不太一样的效果。",special:!0,display:e=>"生命值恢复+5，法力值恢复+2",generate(e){},range:e=>"无法附魔",hooks:{hpRecovery:(e,t)=>t+5,mpRecovery:(e,t)=>t+2}},{key:"stickSword-1",type:"stickSword",itemName:"狼牙剑",itemDescription:"虽然叫做狼牙剑，但很显然并不是用狼牙做的。",special:!0,display:e=>"攻击力+15",generate:e=>.5,range:e=>"无法附魔",hooks:{atk_self_Add:(e,t)=>t+15}},{key:"ornament-3",type:"ornament",itemName:"大“金”牙",itemDescription:"金牙之所以是叫金牙......",special:!0,display:e=>"火焰抗性+500",generate:e=>.5,range:e=>"无法附魔",hooks:{fireResist:(e,t)=>t+500}},{key:"Machete-1",type:"Machete",itemName:"卡卡列夫的爱抚",itemDescription:"在卡卡列夫看来，你和狗头人好像没有很大的区别。",special:!0,display:e=>"“重击”有40%的几率造成50%的额外火焰伤害",generate:e=>3,range:e=>"无法附魔",hooks:{kklf_love:(e,t)=>!0}},{key:"boneArmor-1",type:"boneArmor",itemName:"吉祥三宝",itemDescription:"你最喜欢的歌词——哎，对啦，在天上，他回家啦。",special:!0,display:e=>"每秒获得2点怒气",generate:e=>2,range:e=>"无法附魔",hooks:{rpRecovery:(e,t)=>t+2}},{key:"mithrilDress-yulin",type:"mithrilDress",itemName:"鱼鳞衣",itemDescription:"利用鱼人身上的鳞片制作的内甲，这可比秘银便宜多啦。",special:!0,display:e=>"智力+200，耐力+100",generate:e=>1,range:e=>"无法附魔",hooks:{intAdd:(e,t)=>t+200,staAdd:(e,t)=>t+100}},{key:"ornament-yusila",type:"ornament",itemName:"黑色鳞片",itemDescription:"鱼斯拉身上的一块鳞片，带着一股奇怪的海鲜味儿。",special:!0,display:e=>"物理伤害+1000，元素伤害+1000",generate:e=>1,range:e=>"无法附魔",hooks:{dmgLAdd:(e,t)=>t+1e3,firedmgLAdd:(e,t)=>t+1e3,colddmgLAdd:(e,t)=>t+1e3,lightningdmgLAdd:(e,t)=>t+1e3}},{key:"ornament-ceshi",type:"ornament",itemName:"测试首饰",itemDescription:"穿上之后会有奇怪的效果。\n\t\t但是，如果你看到了这件装备，反倒是你比较奇怪。",special:!0,display:e=>"穿上之后会有奇怪的效果",generate:e=>1,range:e=>"无法附魔",hooks:{willDamage:(e,t,n,r)=>"melee"===r?1.5*t:t,willDamaged:(e,t,n,r)=>"melee"===r?1.5*t:t}},{key:"copperShinGuard1-ceshi",type:"copperShinGuard1",itemName:"测试重甲下装",itemDescription:"穿上之后会有奇怪的效果。\n\t\t但是，如果你看到了这件装备，反倒是你比较奇怪。",special:!0,display:e=>"穿上之后会有奇怪的效果",generate:e=>1,range:e=>"无法附魔",hooks:{attacked:(e,t)=>(t.addBuff("gsbj_buff",5e3,null,"gsbj_buff"),t)}}]},7443:(e,t,n)=>{e.exports=[n(6897)]},6897:e=>{e.exports={key:"soulbringer_map",name:"庇护所深处",hint:"庇护所深处",isDungeon:!0,outside:"home",requirement:{stories:["soulbringer-1"]},phases:[{description:"击败百鬼之王·卡隆",monsters:[{type:"soul_karon",max:1,delay:5e3,total:1}]}],monsters:[],resetPrice:1,level:300,exp:1,loots:[]}},4877:e=>{e.exports={key:"chapter3.auran",name:"奥兰境内",hint:"抵达奥兰帝国的必经之路。",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter3.murloc.minions",warmup:1e3,delay:3e3,max:5,quality:[49,7,1]},{type:"chapter3.murloc.shaman",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},8850:e=>{e.exports={key:"chapter3.auran1",name:"湖畔镇",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter3.auran",requirement:{stories:["chapter3-7"]},phases:[{description:"击败鱼人督军，拯救被鱼人袭击的当地村民。",monsters:[{type:"chapter3.murloc.warlord",total:1}]}],monsters:[{type:"chapter3.murloc.minions",warmup:1e3,delay:1e4,max:3,quality:[25,5,1]},{type:"chapter3.murloc.minions",warmup:1e3,delay:1e4,max:3,quality:[25,5,1]},{type:"chapter3.murloc.shaman",warmup:6e3,delay:2e4,max:2,quality:[25,5,1]},{type:"chapter3.murloc.shaman",warmup:14e3,delay:2e4,max:2,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:100,level:100,exp:4e5,loots:[{key:"gold",rate:1,count:[18e3,3e4]},{type:"specialEquip",rate:.1,items:["mithrilDress-yulin"]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},9391:e=>{e.exports={key:"chapter3.auran2",name:"闪光湖",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter3.auran",requirement:{stories:["chapter3-7"]},phases:[{description:"击败巨型海怪鱼斯拉。",monsters:[{type:"chapter3.fishzilla",warmup:25e3,total:1}]}],monsters:[{type:"chapter3.fishzilla.magician",warmup:5e3,delay:1e4,max:5}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:110,level:110,exp:5e5,loots:[{key:"gold",rate:1,count:[2e4,4e4]},{type:"specialEquip",rate:.1,items:["ornament-yusila"]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},6232:e=>{e.exports={key:"chapter3.auran3",name:"卡格西城",hint:"小湖边的镇子，到处都是鱼人。",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter3.waterElement.nagaHero",warmup:1e3,delay:3e3,max:3,quality:[25,5,1]},{type:"chapter3.waterElement",warmup:1e3,delay:3e3,max:2,quality:[25,5,1]},{type:"chapter3.waterElement.giants",warmup:1e3,delay:3e3,max:1},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},5021:e=>{e.exports={key:"chapter3.auran4",name:"雨之都卡格西",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter3.auran3",requirement:{stories:["chapter3-7"]},phases:[{description:"击败奈因洛斯降临的分身",monsters:[{type:"chapter3.waterElement.Nynnroth",total:1},{type:"shrine.nynnroth.shield",max:1,warmup:15e3,delay:3e4}]}],monsters:[{type:"chapter3.waterElement.nagaHero",warmup:1e3,delay:15e3,max:3,quality:[25,5,1]},{type:"chapter3.waterElement",warmup:6e3,delay:25e3,max:2,quality:[25,5,1]},{type:"chapter3.waterElement.giants",warmup:3e4,delay:5e4,max:1}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:130,level:130,exp:1e6,loots:[{key:"gold",rate:1,count:[4e4,6e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},3578:(e,t,n)=>{e.exports=[n(9362),n(4088),n(2717),n(386),n(4877),n(8850),n(9391),n(4968),n(1313),n(6232),n(5021)]},9362:e=>{e.exports={key:"chapter3.road",name:"大路",hint:"很宽的马路。",requirement:{stories:["chapter3-1"]},monsters:[{type:"chapter3.undead.ghost",warmup:1e3,delay:3e3,max:5,quality:[49,7,1]},{type:"chapter3.undead.zombie",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},4088:e=>{e.exports={key:"chapter3.shelter773",name:"庇护所773号",hint:"一个被亡灵化了的庇护所",isDungeon:!0,outside:"chapter3.road",requirement:{stories:["chapter3-3"]},phases:[{description:"击败暗影法师奈布。",monsters:[{type:"chapter3.necromancer",total:1}]}],monsters:[{type:"chapter3.undead.ghost",warmup:1e3,delay:1e4,max:2,quality:[25,5,1]},{type:"chapter3.undead.ghost",warmup:1e3,delay:1e4,max:2,quality:[25,5,1]},{type:"chapter3.undead.zombie",warmup:6e3,delay:2e4,max:1,quality:[25,5,1]},{type:"chapter3.undead.zombie",warmup:14e3,delay:2e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:80,level:80,exp:18e4,loots:[{key:"gold",rate:1,count:[1e4,2e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},4968:e=>{e.exports={key:"chapter3.tower1",name:"混乱元素之塔",hint:"小湖边的镇子，到处都是鱼人。",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter3.element.fire",warmup:1e3,delay:3e3,max:2,quality:[25,5,1]},{type:"chapter3.element.water",warmup:1e3,delay:3e3,max:2,quality:[25,5,1]},{type:"chapter3.element.earth",warmup:1e3,delay:3e3,max:2,quality:[25,5,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},1313:e=>{e.exports={key:"chapter3.tower2",name:"混乱元素王座",isDungeon:!0,outside:"chapter3.tower1",hint:"小湖边的镇子，到处都是鱼人。",requirement:{stories:["chapter3-7"]},phases:[{description:"击败失去控制的阿撒托斯的分身",monsters:[{type:"chapter3.element.azathoth.fire",total:1}]}],monsters:[{type:"chapter3.element.fire",warmup:5e3,delay:6e4,max:1,quality:[25,2]},{type:"chapter3.element.water",warmup:25e3,delay:6e4,max:1,quality:[25,2]},{type:"chapter3.element.earth",warmup:45e3,delay:6e4,max:1,quality:[25,2]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:120,level:120,exp:75e4,loots:[{key:"gold",rate:1,count:[25e3,5e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},2717:e=>{e.exports={key:"chapter3.wood",name:"边界森林",hint:"抵达奥兰帝国的必经之路。",requirement:{stories:["chapter3-5"]},monsters:[{type:"chapter3.beast.wildpig",warmup:1e3,delay:3e3,max:5,quality:[49,7,1]},{type:"chapter3.beast.lion",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},386:e=>{e.exports={key:"chapter3.wood1",name:"森林深处",hint:"抵达奥兰帝国的必经之路。",isDungeon:!0,outside:"chapter3.wood",requirement:{stories:["chapter3-6"]},phases:[{description:"击败辛巴、彭彭和丁满。",monsters:[{type:"chapter3.beast.pengpeng",total:1},{type:"chapter3.beast.simba",total:1},{type:"chapter3.beast.dingman",total:1}]}],monsters:[{type:"chapter3.beast.wildpig",warmup:1e3,delay:1e4,max:3,quality:[49,7,1]},{type:"chapter3.beast.lion",warmup:6e3,delay:15e3,max:1,quality:[49,7,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:90,level:90,exp:3e5,loots:[{key:"gold",rate:1,count:[15e3,25e3]},{type:"specialEquip",rate:.1,items:["boneArmor-1"]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},7707:(e,t,n)=>{e.exports=[n(8488),n(4505),n(7872),n(4396),n(7157),n(204)]},4396:e=>{e.exports={key:"chapter4.sanAnthony",name:"圣安东尼帝国",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter4.humans.soldier",warmup:1e3,delay:3e3,max:5,quality:[49,7,1]},{type:"chapter4.humans.musketeer",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{type:"chapter4.humans.mortar",warmup:1e3,delay:3e3,max:1,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},7157:e=>{e.exports={key:"chapter4.sanAnthony1",name:"四骑士圣殿",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.sanAnthony",requirement:{stories:["chapter3-7"]},phases:[{description:"抵挡迫击炮的齐射。",monsters:[{type:"chapter4.humans.mortar",max:1,warmup:1e3,delay:1e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:1e3,delay:1e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:1e3,delay:1e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:1e3,delay:1e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:1e3,delay:1e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:1e3,delay:1e3,total:2}]},{description:"击败英勇骑士达尔。",monsters:[{type:"chapter4.humans.knights.dare",max:1,warmup:8e3,delay:8e3,total:1}]},{description:"击败光明骑士莱特和鲜血骑士布莱德。",monsters:[{type:"chapter4.humans.knights.blood",max:1,warmup:8e3,delay:8e3,total:1},{type:"chapter4.humans.knights.light",max:1,warmup:8e3,delay:8e3,total:1}]},{description:"击败制裁骑士山新和全能骑士雷格。没错，四骑士组合有五个人。",monsters:[{type:"chapter4.humans.knights.sanction",max:1,warmup:8e3,delay:8e3,total:1},{type:"chapter4.humans.knights.rage",max:1,warmup:8e3,delay:8e3,total:1}]}],monsters:[{type:"chapter4.humans.soldier",warmup:1e3,delay:2e4,max:3,quality:[25,5,1]},{type:"chapter4.humans.musketeer",warmup:1e3,delay:3e4,max:3,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:160,level:160,exp:4e6,loots:[{key:"gold",rate:1,count:[75e3,15e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},204:e=>{e.exports={key:"chapter4.sanAnthony2",name:"未知暗殿",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.sanAnthony",requirement:{stories:["chapter3-7"]},phases:[{description:"触动把手，打开秘密的通道。",monsters:[{type:"chapter4.humans.trigger.1",max:1,delay:5e3,total:1}]},{description:"进入下水道，揭开未知暗殿的奥秘。",monsters:[{type:"chapter4.humans.trigger.2",max:1,delay:5e3,total:1}]},{description:"通过陷阱阵。",monsters:[{type:"chapter4.humans.trigger.3.1",max:1,randomPosition:!0,delay:10,total:1},{type:"chapter4.humans.trigger.3.2",max:3,randomPosition:!0,delay:10,total:3},{type:"chapter4.humans.trigger.3.3",max:3,randomPosition:!0,delay:10,total:3},{type:"chapter4.humans.trigger.3.4",max:3,randomPosition:!0,delay:10,total:3}]},{description:"击败守门人菲尔斯男爵",monsters:[{type:"chapter4.humans.boss.fearas",max:1,delay:10,total:1}]},{description:"打开监狱的牢笼，释放强大的邪恶",monsters:[{type:"chapter4.humans.trigger.6",max:1,warmup:1e3,delay:10,total:1}]},{description:"击败……哈？",monsters:[{type:"chapter4.humans.boss.milhous",max:1,delay:10},{type:"chapter4.humans.trigger.6",max:1,warmup:2e3,delay:10,total:1}]},{description:"击败解除封印的上古邪恶。",monsters:[{type:"chapter4.humans.boss.evil",max:1,delay:10,total:1}]}],monsters:[],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:170,level:170,exp:5e6,loots:[{key:"gold",rate:1,count:[1e5,15e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},8488:e=>{e.exports={key:"chapter4.westRolan",name:"东罗兰帝国",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter4.orcs.warrior",warmup:1e3,delay:3e3,max:5,quality:[49,7,1]},{type:"chapter4.orcs.hunter",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},4505:e=>{e.exports={key:"chapter4.westRolan1",name:"卡尔要塞",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.westRolan",requirement:{stories:["chapter3-7"]},phases:[{description:"击败汹涌的狼群。",monsters:[{type:"chapter3.orcs.wolf",max:2,delay:1e3,total:4},{type:"chapter3.orcs.wolf",max:2,delay:1e3,total:4},{type:"chapter3.orcs.wolf",max:2,delay:1e3,total:4},{type:"chapter3.orcs.wolf",max:2,delay:1e3,total:4}]},{description:"击败兽人酋长萨布罗·霜狼。",monsters:[{type:"chapter3.orcs.shaman",max:1,delay:8e3,total:1}]}],monsters:[{type:"chapter4.orcs.warrior",warmup:1e3,delay:1e3,max:3,quality:[25,5,1]},{type:"chapter4.orcs.warrior",warmup:1e3,delay:1e3,max:3,quality:[25,5,1]},{type:"chapter4.orcs.hunter",warmup:1e3,delay:1e3,max:2,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:140,level:140,exp:15e5,loots:[{key:"gold",rate:1,count:[5e4,1e5]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},7872:e=>{e.exports={key:"chapter4.westRolan2",name:"司璐登监狱",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.westRolan",requirement:{stories:["chapter3-7"]},phases:[{description:"击败流氓和小偷的偷袭。",monsters:[{type:"chapter4.humans.thief",max:2,delay:1e3,total:4},{type:"chapter4.humans.thief",max:2,warmup:1e3,delay:1e3,total:4},{type:"chapter4.humans.rogue",max:2,warmup:1e3,delay:1e3,total:4},{type:"chapter4.humans.rogue",max:2,warmup:1e3,delay:1e3,total:4}]},{description:"击败手黑党的领袖罗兰·赛克。",monsters:[{type:"chapter4.humans.seck",max:1,delay:8e3,total:1}]},{description:"再次击败手黑党的领袖罗兰·赛克。这货绑了灵魂石。",monsters:[{type:"chapter4.humans.seck1",max:1,delay:8e3,total:1}]}],monsters:[],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:150,level:150,exp:3e6,loots:[{key:"gold",rate:1,count:[75e3,1e5]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},4933:e=>{e.exports={key:"chapter5.byer1",name:"西拜尔港",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},monsters:[{type:"chapter5.undead.ghost",warmup:1e3,delay:1e3,max:5,quality:[49,7,1]},{type:"chapter5.undead.zombie",warmup:1e3,delay:1e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},7468:e=>{e.exports={key:"chapter5.byer2",name:"幽暗的货仓",hint:"一个亡灵法师在这里布置了一个招魂阵法。",isDungeon:!0,outside:"chapter5.byer1",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},phases:[{description:"击败亡灵法师，阻止他的邪恶魔法。",monsters:[{type:"chapter5.necromancer",total:1}]}],monsters:[{type:"chapter5.undead.ghost",warmup:1e3,delay:8e3,max:3,quality:[25,5,1]},{type:"chapter5.undead.zombie",warmup:1e3,delay:8e3,max:3,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:180,level:180,exp:6e6,loots:[{key:"gold",rate:1,count:[5e4,1e5]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},6339:e=>{e.exports={key:"chapter5.byer3",name:"梦境之森",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},monsters:[{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e3,max:5,quality:[49,7,1]},{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e3,max:5,quality:[49,7,1]},{type:"chapter5.woodElf.sad",warmup:1e3,delay:1e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},8826:e=>{e.exports={key:"chapter5.byer4",name:"睡美人湖",hint:"一个亡灵法师在这里布置了一个招魂阵法。",isDungeon:!0,outside:"chapter5.byer1",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},phases:[{description:"击败并安抚节制的萨曼莎。",monsters:[{type:"chapter5.woodElf.shamansa",warmup:1e3,total:1}]},{description:"击败并安抚勤勉的罗莎。",monsters:[{type:"chapter5.woodElf.rosa",warmup:1e3,total:1}]}],monsters:[{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e3,max:3,quality:[49,7,1]},{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e3,max:3,quality:[49,7,1]},{type:"chapter5.woodElf.sad",warmup:1e3,delay:1e3,max:2,quality:[49,7,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:190,level:190,exp:7e6,loots:[{key:"gold",rate:1,count:[75e3,12e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},9081:e=>{e.exports={key:"chapter5.byer5",name:"噩梦边境",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},monsters:[{types:{"chapter5.daughter.monster1":1,"chapter5.daughter.monster2":1,"chapter5.daughter.monster3":1,"chapter5.daughter.monster4":1,"chapter5.daughter.monster5":1,"chapter5.daughter.monster6":1},warmup:1e3,delay:1e3,max:5,quality:[49,7,1]},{types:{"chapter5.daughter.monster1":1,"chapter5.daughter.monster2":1,"chapter5.daughter.monster3":1,"chapter5.daughter.monster4":1,"chapter5.daughter.monster5":1,"chapter5.daughter.monster6":1},warmup:1e3,delay:1e3,max:5,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},4784:e=>{e.exports={key:"chapter5.byer6",name:"噩梦巨人国度",hint:"一个亡灵法师在这里布置了一个招魂阵法。",isDungeon:!0,outside:"chapter5.byer1",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},phases:[{description:"击败拦路的噩梦之灵，找到好心的巨人",monsters:[{types:{"chapter5.daughter.monster1":1,"chapter5.daughter.monster2":1,"chapter5.daughter.monster3":1,"chapter5.daughter.monster4":1,"chapter5.daughter.monster5":1,"chapter5.daughter.monster6":1},warmup:1e3,delay:1e3,max:5,total:10}]},{description:"击败吃小孩的巨人",monsters:[{type:"chapter5.daughter.badGiant",warmup:1e3,total:1},{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e3,max:3,quality:[49,7,1]},{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e3,max:3,quality:[49,7,1]},{type:"chapter5.woodElf.sad",warmup:1e3,delay:1e3,max:2,quality:[49,7,1]}]},{description:"唤醒不安的艾米拉",monsters:[{type:"chapter5.daughter.amira",warmup:1e3,total:1}]}],monsters:[],resetPrice:200,level:200,exp:8e6,loots:[{key:"gold",rate:1,count:[95e3,15e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"},{type:"ticket",rate:1,dungeons:{"nightmare.1":1}}]}},5652:(e,t,n)=>{e.exports=[n(4933),n(7468),n(6339),n(8826),n(9081),n(4784)]},9520:e=>{e.exports={key:"home",name:"自宅",hint:"安全的避难所。休息够了就可以再度出发。"}},3663:(e,t,n)=>{e.exports=[n(2986),n(247),n(9520),...n(6328),...n(3578),...n(7707),...n(5652),...n(7443)]},7759:e=>{e.exports={key:"town.cave",name:"洞窟一层",hint:"边境之村通往邻村的一条小路旁的洞窟，里面阴森且潮湿。",requirement:{stories:["eyer-stories-4"]},monsters:[{type:"slime.minimal",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{type:"slime.minimal",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{type:"slime.giant.enemy",warmup:1e3,delay:3e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},1433:e=>{e.exports={key:"town.cave2",name:"洞窟深处",hint:"洞穴的底层，让人隐隐赶到不安。",isDungeon:!0,outside:"town.cave",requirement:{stories:["eyer-stories-4"]},phases:[{description:"击败母体史莱姆，拯救亚莲娜。",monsters:[{type:"slime.queen",total:1}]}],monsters:[{type:"slime.minimal",warmup:1e3,delay:1e4,max:1},{type:"slime.minimal",warmup:6e3,delay:1e4,max:1},{type:"slime.giant.enemy",warmup:1e4,delay:3e4,max:1}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:20,level:20,exp:5e3,loots:[{key:"gold",rate:1,count:[1e3,2e3]},{type:"specialEquip",rate:.1,items:["ornament-2"]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},6328:(e,t,n)=>{e.exports=[n(9073),n(7759),n(1433),n(9469),n(9530),n(9079),n(7626),n(409),n(8835),n(137),n(4656)]},9079:e=>{e.exports={key:"town.mine.1",name:"矿洞入口",hint:"一个看似废弃已久的矿洞，被附近的狗头人霸占了。",requirement:{stories:["eyer-stories-10"]},monsters:[{type:"kobold.miner",warmup:1e3,delay:3e3,max:4,quality:[49,7,1]},{type:"kobold.shaman",warmup:1e3,delay:3e3,max:1,quality:[100,10]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},7626:e=>{e.exports={key:"town.mine.2",name:"矿洞深处",hint:"金牙居住之处。",isDungeon:!0,outside:"town.mine.1",requirement:{stories:["eyer-grow-2"]},phases:[{description:"击败金牙，探听村长的情报。",monsters:[{type:"kobold.goldteeth",total:1}]}],monsters:[{type:"kobold.miner",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"kobold.miner",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"kobold.shaman",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:40,level:40,exp:8e4,loots:[{key:"gold",rate:1,count:[4e3,7e3]},{type:"specialEquip",rate:.1,items:["ornament-3"]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},409:e=>{e.exports={key:"town.mine.3",name:"神秘祭坛",hint:"矿洞深处的祭坛，通往下位面的传送门。",isDungeon:!0,outside:"town.mine.1",requirement:{stories:["eyer-grow-4"]},phases:[{description:"击败卡卡列夫的幻象，找回村长",monsters:[{type:"kakarif.illusion",total:1}]}],monsters:[{type:"kakarif.generations",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"kakarif.generations",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"kakarif.servants",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:50,level:50,exp:12e4,loots:[{key:"gold",rate:1,count:[5e3,1e4]},{type:"specialEquip",rate:.1,items:["Machete-1"]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},137:e=>{e.exports={key:"town.neighbourTown.2",name:"幽暗的地窖",hint:"一个亡灵法师在这里布置了一个招魂阵法。",isDungeon:!0,outside:"town.neighbourTown",requirement:{stories:["aleanor-stories-4"]},phases:[{description:"击败亡灵法师，阻止他的邪恶魔法。",monsters:[{type:"zombie.necromancer",total:1}]}],monsters:[{type:"zombies.farmer",warmup:1e3,delay:1e4,max:2,quality:[25,5,1]},{type:"zombies.farmer",warmup:1e3,delay:1e4,max:2,quality:[25,5,1]},{type:"zombies.hammersmith",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:60,level:60,exp:8e4,loots:[{key:"gold",rate:1,count:[4e3,7e3]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},4656:e=>{e.exports={key:"town.neighbourTown.3",name:"邻村村口",hint:"闻讯赶来的圣殿骑士团保卫了整个村子。",isDungeon:!0,outside:"town.neighbourTown",requirement:{stories:["aleanor-stories-5"]},phases:[{description:"阻止骑士团对村民的屠杀。",monsters:[{type:"knight.leader",total:1}]}],monsters:[{type:"knight.normal",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"knight.normal",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"knight.prayer",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:70,level:70,exp:18e4,loots:[{key:"gold",rate:1,count:[5e3,1e4]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},8835:e=>{e.exports={key:"town.neighbourTown",name:"邻村",hint:"隔壁的村子。当亚莲娜赶到时，所有的村民都发狂了。",requirement:{stories:["aleanor-stories-2"]},monsters:[{type:"zombies.farmer",warmup:1e3,delay:3e3,max:4,quality:[49,7,1]},{type:"zombies.hammersmith",warmup:1e3,delay:3e3,max:1,quality:[100,10]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},9073:e=>{e.exports={key:"town.street",name:"村间小路",hint:"边境之村通往邻村的一条小路。",requirement:{stories:["eyer-stories-1"]},monsters:[{type:"slime.minimal",warmup:1e3,delay:3e3,max:2,quality:[81,9,1]},{type:"slime.giant",warmup:12e4,delay:12e4,max:1,quality:[49,7,1]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},9469:e=>{e.exports={key:"town.valley",name:"山谷",hint:"靠近邻村的山谷，有各种各样的野兽。",requirement:{stories:["eyer-stories-6"]},monsters:[{type:"wolf.minimal",warmup:1e3,delay:3e3,max:4,quality:[49,7,1]},{type:"wolf.giant",warmup:1e3,delay:3e3,max:1,quality:[100,10]},{types:{"shrine.heal":1,"shrine.energy":1,"shrine.power":1,"shrine.experience":1},warmup:6e4,delay:3e4,max:1}]}},9530:e=>{e.exports={key:"town.woods",name:"迷雾森林",hint:"山谷底部的森林，笼罩在雾气之中。",isDungeon:!0,outside:"town.valley",requirement:{stories:["eyer-stories-8"]},phases:[{description:"击败狼王。",monsters:[{type:"wolf.king",total:1}]}],monsters:[{type:"wolf.minimal",warmup:1e3,delay:3e4,max:1,quality:[49,7,1]},{type:"wolf.minimal",warmup:6e3,delay:3e4,max:1,quality:[49,7,1]},{type:"wolf.giant",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:30,level:30,exp:2e4,loots:[{key:"gold",rate:1,count:[25,5e3]},{type:"specialEquip",rate:.1,items:["stickSword-1"]},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"weapon"},{type:"equip",rate:1,mfRate:200,position:"plastron"},{type:"equip",rate:1,mfRate:200,position:"gaiter"},{type:"equip",rate:1,mfRate:200,position:"ornament"}]}},2986:e=>{e.exports={key:"training_ground1",name:"1号训练场",hint:"这里有你的挚爱——训练木桩。",monsters:[{type:"muzhuang1",warmup:1e3,delay:1e3,max:3}]}},247:e=>{e.exports={key:"training_ground2",name:"2号训练场",hint:"这里有你的挚爱——凶狠的训练木桩。",monsters:[{type:"muzhuang2",warmup:1e3,delay:3e4,max:1}]}},206:e=>{e.exports=[{key:"zhengqiwan",name:"幸运药剂",description:e=>`运气增加${5*e}点`,hooks:{gf:(e,t)=>t+.05*e,mf:(e,t)=>t+.05*e}},{key:"nayuandan",name:"知识药剂",description:e=>`经验获得增加${5*e}%`,hooks:{expInc:(e,t)=>t+.05*e}},{key:" xiaoyaosan",name:"训练药剂",description:e=>`熟练度获得增加${5*e}%`,hooks:{skillExpInc:(e,t)=>t+.05*e}},{key:"fengshenlu",name:"急速药剂",description:e=>`急速+${e}%`,Max_level:100,hooks:{speedRateAdd:(e,t)=>t+.01*e}}]},8230:(e,t,n)=>{const{define:r,extend:i}=n(6637);r("buffs","bossState",{name:"BOSS阶段",hidden:!0,description:"BOSS阶段",hooks:{bossState(e){return this.arg}}}),r("skills","bossState",{name:"转换阶段",group:"boss",description:"BOSS转换阶段",coolDown:1,maxExp:e=>0,canUse:(e,t,n)=>!(t.runAttrHooks(100,"bossState")<=n)&&t.hp/t.maxHp*100<=n,effect(e,t,n){t.addBuff("bossState",null,n,"bossState")}})},3459:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("skills","nightmare.fire.kakarif.1",{name:"地震",coolDown:15e3,castTime:1e3,notBreakable:!0,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("melee",t,n,this,t.atk,!0)}}),r("skills","nightmare.fire.kakarif.2",{name:"火狱之楔",coolDown:3e4,castTime:1e3,notBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>75),effect(e,t,n){let r=t.atk;for(const n of e.units.filter((e=>"nightmare.fire.minimal"===e.type)))n.kill(),r+=t.atk;for(let n=0;n<8;n++)e.addEnemy("nightmare.fire.minimal",null,0,t);for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("fire",t,n,this,r/2,!0)}}),r("buffs","nightmare.fire.kakarif.3",{name:"烈焰之子",effectInterval:500,effect(e){e.addEnemy("nightmare.fire.minimal1",null,0,this.unit)}}),r("skills","nightmare.fire.kakarif.3",{name:"烈焰之子",coolDown:3e4,notBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>50),effect(e,t,n){t.startRead("nightmare.fire.kakarif.3",1e4,null,this)}}),r("buffs","nightmare.fire.kakarif.4",{name:"元素怒火",effectInterval:1e3,effect(e){e.sendDamage("fire",null,this.unit,null,this.arg,!1)}}),r("skills","nightmare.fire.kakarif.4",{name:"元素怒火",coolDown:3e4,castTime:1e3,notBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>50||!t.target),effect(e,t,n){const{target:r}=t;e.sendSkillUsage(t,[r],this),r.addBuff("nightmare.fire.kakarif.4",1e4,t.atk,null)}}),r("skills","nightmare.fire.kakarif.5",{name:"卡卡列夫之怒",description:"增加300%攻击速度，持续6秒。",targetType:"target",castTime:2e3,coolDown:3e4,nonBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>25||!t.target),effect(e,t,n){t.addBuff("kakarif.mad",6e3,null,"kakarif.mad")}}),r("enemies","nightmare.fire.minimal",{name:"火狱之楔",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:75e5,exp:2400,atk:1500,level:300,atkSpeed:.6,skills:[]}),r("enemies","nightmare.fire.minimal1",{name:"卡卡列夫之子",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:75e5,exp:2400,atk:1500,level:300,atkSpeed:.6,skills:[{key:"fireElement.fireball",level:0}]}),r("enemies","nightmare.fire.kakarif",{name:"烈焰领主卡卡列夫",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:2e7,def:100,fireResist:2e3,coldResist:-8e3,exp:2400,atk:6e3,level:300,atkSpeed:.4,skills:[{key:"kakarif.melee",level:0},{key:"nightmare.fire.kakarif.1",level:0},{key:"nightmare.fire.kakarif.2",level:0},{key:"nightmare.fire.kakarif.3",level:0},{key:"nightmare.fire.kakarif.4",level:0},{key:"nightmare.fire.kakarif.5",level:0},{key:"enemy.upgrade",level:0},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:4e4,loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}),r("maps","nightmare.fire",{name:"噩梦-卡卡列夫",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare.2",requirement:{},phases:[{description:"击败噩梦中再次出现的烈焰领主卡卡列夫。",monsters:[{type:"nightmare.fire.kakarif",total:1}]}],stunResist:1e4,resetPrice:300,level:300,exp:1e7,loots:[{key:"gold",rate:1,count:[25e4,5e5]},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:750},{type:"equip",rate:1,mfRate:1250},{key:"year2018.redbag",count:[1,1],rate:.02}]})},5403:(e,t,n)=>{n(5404),n(3991),n(5670),n(7958),n(3459),n(4142)},4142:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);i("buffs","nightmare.knight.buff.1","manaShield",{name:"盾墙",hooks:{hasShield:()=>function(e){return!0}}}),r("buffs","nightmare.knight.buff.2",{name:"盾姿",hooks:{hasShield:()=>!0,willDamaged:(e,t,n)=>"melee"===n?e/4:e}}),r("buffs","nightmare.knight.buff.3",{name:"盾反",hooks:{hasShield:()=>!0,willDamaged:(e,t,n)=>"fire"===n||"cold"===n||"lightning"===n||"dark"===n||"light"===n?0:e}});const o=["盾墙","盾姿","盾反"];for(let e=1;e<=3;e++)r("skills",`nightmare.knight.${e}`,{name:o[e],castTime:300,coolDown:3e4,antiBreak:.5,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>75||t.runAttrHooks(!1,"hasShield")),effect(t,n,r){n.addBuff(`nightmare.knight.buff.${e}`,1e4,n.hp/8)}});i("skills","nightmare.knight.4","knight.melee1",{canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e(t,n)}}),i("skills","nightmare.knight.5","knight.deserve",{canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e(t,n)}}),i("skills","nightmare.knight.6","knight.heal",{antiBreak:.5,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e(t,n)},effect:()=>function(e,t,n){e.sendSkillUsage(t,[t],this),t.hp+=t.maxHp/16}}),i("skills","nightmare.knight.7","knight.thumpHead.enemy",{canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>25)&&e(t,n)}}),i("skills","nightmare.knight.8","shockWave",{name:"神圣愤怒",castTime:3e3,antiBreak:.5,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>25)&&e(t,n)}}),r("enemies","nightmare.knight.boss",{name:"皇家骑士队长卡罗",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:2e7,def:2e3,allResist:-5e3,darkResist:-5e3,lightResist:-2e3,exp:2400,atk:6e3,level:300,atkSpeed:.8,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0},{key:"nightmare.knight.1",level:0},{key:"nightmare.knight.2",level:0},{key:"nightmare.knight.3",level:0},{key:"nightmare.knight.4",level:0},{key:"nightmare.knight.5",level:0},{key:"nightmare.knight.6",level:0},{key:"nightmare.knight.7",level:0},{key:"nightmare.knight.8",level:6},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:4e4,loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}),r("maps","nightmare.knight",{name:"噩梦-卡罗",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare.2",requirement:{},phases:[{description:"击败噩梦中再次出现的皇家骑士队长卡罗。",monsters:[{type:"nightmare.knight.boss",total:1}]}],stunResist:1e4,resetPrice:300,level:300,exp:1e7,loots:[{key:"gold",rate:1,count:[25e4,5e5]},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:750},{type:"equip",rate:1,mfRate:1250},{key:"year2018.redbag",count:[1,1],rate:.02}]})},5670:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("enemies","nightmare.kobold.candle",{name:"安全牌蜡烛",description:"一根蜡烛。",camp:"enemy",race:"unknown",career:"melee",maxHp:25e5,exp:0,atk:8e3,level:1,atkSpeed:.4,skills:[{key:"nightmare.kobold.bomb",level:0}]}),i("skills","nightmare.kobold.bomb","bomb",{notBreakable:!0}),i("skills","nightmare.kobold.bomb1","bomb",{notBreakable:!0,effect:e=>function(e,t,n){e.units.filter((e=>t.canAttack(e))).forEach((n=>{e.testDodge(t,n,this)||(e.sendDamage("fire",t,n,this,t.atk,!1),n.stun(5))})),t.kill()}}),r("enemies","nightmare.kobold.candle.1",{name:"安全牌大蜡烛",description:"一根蜡烛。",camp:"enemy",race:"unknown",career:"melee",maxHp:25e5,exp:0,atk:8e3,level:1,atkSpeed:.4,skills:[{key:"nightmare.kobold.bomb1",level:0}]}),i("skills","nightmare.kobold.1","candle.call",{coolDown:3e4,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")<=50)&&e.call(this,t,n)},effect:e=>function(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("nightmare.kobold.candle",null,0,t)}}),i("skills","nightmare.kobold.3","candle.call",{name:"驱散更多暗影",coolDown:3e4,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e.call(this,t,n)},effect:e=>function(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("nightmare.kobold.candle.1",null,0,t)}}),r("enemies","nightmare.kobold.altar",{name:"火焰祭坛",camp:"shrine",race:"unknown",career:"melee",atk:8e3,onPress(e){for(const t of e.units)"player"!==t.camp&&"alien"!==t.camp||e.sendDamage("fire",this,t,null,this.atk);this.kill()}}),r("buffs","nightmare.kobold.2.1",{name:"火焰献祭"}),r("buffs","nightmare.kobold.2.3",{name:"更多火焰献祭"}),r("buffs","nightmare.kobold.2.2",{name:"火焰献祭",didRemove(e){for(const t of e.units)"player"!==t.camp&&"alien"!==t.camp||e.sendDamage("fire",this.unit,t,null,5*this.unit.atk);this.unit.kill()}}),r("skills","nightmare.kobold.2",{name:"火焰献祭",coolDown:15e3,notBreakable:!0,canUse(e,t){const n=t.runAttrHooks(100,"bossState");return!(n<=20||n>75||!e.units.find((e=>"nightmare.kobold.altar"===e.key)))},effect(e,t,n){e.units.find((e=>"nightmare.kobold.altar"===e.type)).startRead("nightmare.kobold.2.2",5e3,null,this),t.startRead("nightmare.kobold.2.1",5e3,null,this)}}),r("skills","nightmare.kobold.4",{name:"更多火焰献祭",coolDown:15e3,notBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>20||!e.units.find((e=>"nightmare.kobold.altar"===e.type))),effect(e,t,n){for(const t of e.units.filter((e=>"nightmare.kobold.altar"===e.type)))t.startRead("nightmare.kobold.2.2",5e3,null,this);t.startRead("nightmare.kobold.2.3",5e3,null,this)}}),r("enemies","nightmare.kobold.king",{name:"金牙大王",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:1e7,def:500,fireResist:1e3,coldResist:-5e3,exp:2400,atk:4e3,level:250,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"nightmare.kobold.1",level:0},{key:"nightmare.kobold.2",level:0},{key:"nightmare.kobold.3",level:0},{key:"nightmare.kobold.4",level:0},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:2e4,loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}),r("maps","nightmare.kobold",{name:"噩梦-金牙",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare.1",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},phases:[{description:"击败噩梦中再次出现的狗头人金牙。",monsters:[{type:"nightmare.kobold.altar",max:5,delay:3e3},{type:"nightmare.kobold.king",total:1}]}],stunResist:1e4,resetPrice:250,level:250,exp:1e7,loots:[{key:"gold",rate:1,count:[15e4,25e4]},{type:"equip",rate:1,mfRate:500,position:"ornament"},{type:"equip",rate:1,mfRate:750,position:"ornament"},{type:"equip",rate:1,mfRate:1250,position:"ornament"},{key:"year2018.redbag",count:[1,1],rate:.02}]})},5404:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("buffs","nightmare.slime.queen.debuff.1",{name:"粘液",description:"所有行动减缓20%。",hooks:{speedRateAdd:e=>.8*e}}),i("buffs","nightmare.slime.queen.buff.1","manaShield",{name:"黏性外壳",hooks:{hasShield:()=>function(e){return!0}}}),r("skills","nightmare.slime.queue.1",{name:"粘液",coolDown:1e4,castTime:300,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("melee",t,n,this,5e3,!0),n.addBuff("nightmare.slime.queen.debuff.1",5e3)}}),r("buffs","nightmare.slime.queue.2",{name:"组合",hooks:{},willRemove(e){let t=1e6;for(const n of e.units)"nightmare.slime.minium"===n.type&&(n.kill(),t+=15e5);this.unit.addBuff("nightmare.slime.queen.buff.1",null,t)}}),r("skills","nightmare.slime.queue.2",{name:"分裂",castTime:300,notBreakable:!0,canUse:(e,t)=>!t.runAttrHooks(!1,"hasShield"),effect(e,t,n){for(let n=0;n<10;n++)e.addEnemy("nightmare.slime.minium",null,0,t);t.startRead("nightmare.slime.queue.2",15e3)}}),r("skills","nightmare.slime.queue.3",{name:"召唤组合体",castTime:300,coolDown:15e3,notBreakable:!0,canUse:(e,t)=>t.runAttrHooks(100,"bossState")<=50,effect(e,t,n){e.addEnemy("nightmare.slime.minium1",null,0,t)}}),r("skills","nightmare.slime.queue.3.1",{name:"组合",castTime:1e4,notBreakable:!0,effect(e,t,n){for(const t of e.units)"nightmare.slime.queen"===t.type&&(t.hp+=t.maxHp/4);t.kill()}}),r("skills","nightmare.slime.queue.4",{name:"召唤不稳定的组合体",castTime:300,coolDown:15e3,notBreakable:!0,canUse:(e,t)=>20===t.runAttrHooks(100,"bossState"),effect(e,t,n){e.addEnemy("nightmare.slime.minium2",null,0,t)}}),r("skills","nightmare.slime.queue.4.1",{name:"不稳定的组合",castTime:1e4,notBreakable:!0,effect(e,t,n){for(const n of e.units)"nightmare.slime.queen"===n.type&&(n.hp+=n.maxHp/4,t.addBuff("enemy.upgrade"),t.addBuff("enemy.upgrade"));t.kill()}}),r("enemies","nightmare.slime.minium",{name:"巨型史莱姆",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e4,exp:2400,atk:1500,level:250,atkSpeed:.6,skills:[{key:"melee",level:0}]}),r("enemies","nightmare.slime.minium1",{name:"史莱姆组合体",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:8e6,exp:2400,atk:1e3,level:250,atkSpeed:.6,skills:[{key:"nightmare.slime.queue.3.1",level:0}]}),r("enemies","nightmare.slime.minium2",{name:"史莱姆组合体",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:8e6,exp:2400,atk:1e3,level:250,atkSpeed:.6,skills:[{key:"nightmare.slime.queue.4.1",level:0}]}),r("enemies","nightmare.slime.queen",{name:"史莱姆王后",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:15e6,def:1e3,allResist:-5e3,darkResist:-2e3,lightResist:-2e3,exp:2400,atk:4e3,level:250,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0},{key:"nightmare.slime.queue.1",level:0},{key:"nightmare.slime.queue.2",level:0},{key:"nightmare.slime.queue.3",level:0},{key:"nightmare.slime.queue.4",level:0},{key:"bossState",level:50},{key:"bossState",level:20}],hooks:{appeared(e,t){this.addBuff("nightmare.slime.queen.buff.1",null,3e6)}},stunResist:2e4,loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}),r("maps","nightmare.slime",{name:"噩梦-母体史莱姆",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare.1",requirement:{},phases:[{description:"击败噩梦中再次出现的母体史莱姆。",monsters:[{type:"nightmare.slime.queen",total:1}]}],stunResist:1e4,resetPrice:250,level:250,exp:1e7,loots:[{key:"gold",rate:1,count:[15e4,25e4]},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:750},{type:"equip",rate:1,mfRate:1250},{key:"year2018.redbag",count:[1,1],rate:.02}]})},7958:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("enemies","nightmare.undead.minimal",{name:"重生的僵尸",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:25e5,exp:2400,atk:1500,level:250,atkSpeed:.6,skills:[{key:"melee",level:0}]}),r("skills","nightmare.undead.1",{name:"毒爆",coolDown:15e3,castTime:5e3,antiBreak:.8,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>75||!e.units.find((e=>"nightmare.undead.minimal"===e.type))),effect(e,t,n){const r=e.units.find((e=>"nightmare.undead.minimal"===e.type));if(!r)return;const i=r.hp/100;r.kill();for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("dark",t,n,this,i,!1)}}),r("skills","nightmare.undead.2",{name:"暗影治疗",coolDown:15e3,castTime:5e3,antiBreak:.8,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>50||!e.units.find((e=>"nightmare.undead.minimal"===e.type))),effect(e,t,n){for(const n of e.units.filter((e=>"nightmare.undead.minimal"===e.type)))e.sendHeal(t,n,this,n.maxHp/10)}}),r("skills","nightmare.undead.3",{name:"死亡一指",coolDown:4e4,castTime:25e3,antiBreak:.8,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>20),effect(e,t,n){const r=e.playerUnit;"ghost"!==r.camp&&r.kill()}}),r("enemies","nightmare.undead.king",{name:"亡者统帅奈布",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:1e7,def:100,allResist:50,def:-2e3,allResist:500,darkResist:2e3,lightResist:-5e3,exp:2400,atk:4e3,level:250,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0},{key:"nightmare.undead.1",level:0},{key:"nightmare.undead.2",level:0},{key:"nightmare.undead.3",level:0},{key:"enemy.upgrade",level:0},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:2e4,loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}),r("maps","nightmare.undead",{name:"噩梦-奈布",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare.1",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},phases:[{description:"击败噩梦中再次出现的死灵法师奈布。",monsters:[{type:"nightmare.undead.minimal",max:10,delay:5e3},{type:"nightmare.undead.king",total:1}]}],stunResist:1e4,resetPrice:250,level:250,exp:1e7,loots:[{key:"gold",rate:1,count:[15e4,25e4]},{type:"equip",rate:1,mfRate:500,position:"gaiter"},{type:"equip",rate:1,mfRate:750,position:"gaiter"},{type:"equip",rate:1,mfRate:1250,position:"gaiter"},{key:"year2018.redbag",count:[1,1],rate:.02}]})},3991:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("skills","nightmare.wolf.hunter",{name:"召唤陷阱",castTime:25e3,canUse:(e,t)=>!e.units.find((e=>"nightmare.wolf.hunter.trigger"===e.type)),effect(e,t,n){e.addEnemy("nightmare.wolf.hunter.trigger",null,0,t)}}),r("enemies","nightmare.wolf.hunter",{name:"老练的猎人",description:"的",camp:"shrine",race:"unknown",career:"melee",skills:[{key:"nightmare.wolf.hunter",level:0}]}),r("enemies","nightmare.wolf.hunter.trigger",{name:"陷阱",description:"的",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units)"nightmare.wolf.king"===t.type&&t.stun(5,"stunned",!0);this.kill()}}),r("enemies","nightmare.wolf.healer",{name:"母狼",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e4,exp:2400,atk:1e3,level:250,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"wolf.heal",level:8e6}]}),r("enemies","nightmare.wolf.minium",{name:"公狼",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e4,exp:2400,atk:1e3,level:250,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"wolf.worry",level:0}]}),i("skills","nightmare.wolf.1","wolf.call",{coolDown:3e4,notBreakable:!0,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>75)&&e.call(this,t,n)},effect:()=>function(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("nightmare.wolf.healer",null,0,t),e.addEnemy("nightmare.wolf.minium",null,0,t),e.addEnemy("nightmare.wolf.minium",null,0,t)}}),i("skills","nightmare.wolf.2","knight.melee1",{name:"爪击",coolDown:2e3,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e.call(this,t,n)}}),i("skills","nightmare.wolf.3","rosa.angry",{name:"嗜血",canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>25)&&e.call(this,t,n)}}),r("enemies","nightmare.wolf.king",{name:"白鬃狼王",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:1e7,def:500,allResist:-500,fireResist:-1500,exp:2400,atk:4e3,level:250,atkSpeed:.8,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0},{key:"nightmare.wolf.1",level:0},{key:"nightmare.wolf.2",level:0},{key:"nightmare.wolf.3",level:0},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:2e4,loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}),r("maps","nightmare.wolf",{name:"噩梦-狼王",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare.1",requirement:{},phases:[{description:"击败噩梦中再次出现的狼王。",monsters:[{type:"nightmare.wolf.hunter",max:1,delay:10},{type:"nightmare.wolf.king",total:1}]}],stunResist:1e4,resetPrice:250,level:250,exp:1e7,loots:[{key:"gold",rate:1,count:[15e4,25e4]},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:750},{type:"equip",rate:1,mfRate:1250},{key:"year2018.redbag",count:[1,1],rate:.02}]})},6637:(e,t,n)=>{const r=n(4130);function i(e,t,n){n.key=t,r[e][t]=n}function o(e,t){const n={...e};for(const e of Object.keys(t))"object"!=typeof t[e]||Array.isArray(t[e])?"function"==typeof t[e]?n[e]=t[e](n[e],n):n[e]=t[e]:n[e]=o(n[e],t[e]);return n}t.define=i,t.extend=function(e,t,n,a){i(e,t,o(r[e][n],a))}},1654:(e,t,n)=>{const{define:r,extend:i}=n(6637);i("skills","year2018.heal","wolf.heal",{canUse:e=>function(e,t){const{summoner:n}=t;return!(!n||n.hp>.25*n.maxHp)},effect:()=>function(e,t,n){const r=this.summoner;r&&(e.sendSkillUsage(t,[r],this),r.hp+=1e5)}}),r("enemies","year2018.minimal.fire",{name:"火·年兽幼崽",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e4,exp:3e3,atk:2500,level:300,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"shaman.fireball",level:3},{key:"year2018.heal",level:0}]}),r("enemies","year2018.minimal.cold",{name:"冰·年兽幼崽",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e4,exp:3e3,atk:2500,level:300,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"shaman.iceball",level:3},{key:"year2018.heal",level:0}]}),r("enemies","year2018.minimal.lightning",{name:"电·年兽幼崽",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e4,exp:3e3,atk:2500,level:300,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"shaman.chainingLightning",level:3},{key:"year2018.heal",level:0}]}),i("skills","year2018.shockWave","shockWave",{coolDown:3e4,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>75)&&!(n.hp<.25*n.maxHp)&&(!e||e(t,n))}});const o=["year2018.minimal.fire","year2018.minimal.cold","year2018.minimal.lightning"];i("buffs","year2018.summonMinimal","murloc.thumpHead",{name:"呼唤幼崽",effect:()=>function(e){const t=o[Math.floor(3*Math.random())];e.addEnemy(t,null,0,this.unit)}}),i("skills","year2018.summonMinimal","murloc.thumpHead",{name:"呼唤幼崽",castTime:0,antiBreak:.9,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&(!e||e(t,n))},effect:()=>function(e,t,n){t.startRead("year2018.summonMinimal",5001,null,this)}}),r("enemies","year2018.boss",{name:"三头年兽",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",boss:!0,maxHp:4e7,exp:3200,atk:1e4,level:300,atkSpeed:.8,stunResist:4e4,skills:[{key:"melee",level:0},{key:"wolf.worry",level:0},{key:"year2018.summonMinimal",level:0},{key:"year2018.shockWave",level:10},{key:"bossState",level:75},{key:"bossState",level:50}],hooks:{onSummonDeath(){this.addBuff("swordSkill",void 0,.01)},atkSpeedMul(e,t){return this.hp<.25*this.maxHp?.25*t:t}}}),r("maps","year2018.dungeon",{name:"年兽巢穴",isDungeon:!0,outside:"home",requirement:{level:100},phases:[{description:"沿着阴森的小路前进，寻找年兽的踪迹。",monsters:[{types:{"year2018.minimal.fire":1,"year2018.minimal.cold":1,"year2018.minimal.lightning":1},warmup:1e3,delay:6e3,max:4,total:10}]},{description:"击败洞穴中的三头巨兽。",monsters:[{type:"year2018.boss",delay:1e9,total:1}]}],level:300,exp:15e6,loots:[{key:"gold",rate:1,count:[3e5,6e5]},{type:"specialEquip",rate:1,items:["year2018.yearBeastWeapon-1","year2018.yearBeastWeapon-2","year2018.yearBeastWeapon-3","year2018.yearBeastPlastron-1","year2018.yearBeastPlastron-2","year2018.yearBeastPlastron-3","year2018.yearBeastTrousers-1","year2018.yearBeastTrousers-22","year2018.yearBeastTrousers-3","year2018.yearBeastHeart"]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]})},1448:(e,t,n)=>{n(3046),n(3077),n(1654)},3046:(e,t,n)=>{const{define:r,extend:i}=n(6637);r("buffs","year2018.yearBeastWeapon-1-Buff",{name:"蓄能",description:"蓄能3次后的下一次技能增加100%会心和伤害"}),r("buffs","year2018.yearBeastWeapon-1-Buff2",{name:"充能完毕",description:"下一次技能增加100%会心和伤害",hooks:{critRate:e=>e+1,critBonus:e=>e+1,postSkillEffect(){const{unit:e}=this;e.removeBuff(this)}}}),r("legends","year2018.yearBeastWeapon-1X",{type:"boneWand",itemName:"年兽的小腿骨",itemDescription:"上面的肉去哪儿了？",special:!0,minLevel:1,display:e=>"每释放三个技能，使你下一个技能的会心和会心效果增加100%",generate:e=>1,range:e=>1,hooks:{postSkillEffect(){const e=this.buffs.filter((e=>"year2018.yearBeastWeapon-1-Buff"===e.type));if(e.length>=2){for(const t of e)this.removeBuff(t);this.timeline.setTimeout((()=>{this.addBuff("year2018.yearBeastWeapon-1-Buff2")}),0)}else this.addBuff("year2018.yearBeastWeapon-1-Buff")}}}),r("legends","year2018.yearBeastWeapon-1",{type:"stickSword",itemName:"年兽的利齿",itemDescription:"虽然是利齿，但更像是长剑。",minLevel:1,special:!0,display:e=>"额外增加20%暴击几率",generate:e=>1,range:e=>"无法附魔",hooks:{critRate:(e,t)=>t+.2}}),r("legends","year2018.yearBeastWeapon-2",{type:"Machete",itemName:"年兽的利齿",itemDescription:"虽然是利齿，但其实是双刀。",minLevel:1,special:!0,display:e=>"额外增加20%暴击几率",generate:e=>1,range:e=>"无法附魔",hooks:{critRate:(e,t)=>t+.2}}),r("legends","year2018.yearBeastWeapon-3",{type:"LongSword",itemName:"年兽的利齿",itemDescription:"虽然是利齿，但其实是太刀。",minLevel:200,special:!0,display:e=>"额外增加20%暴击几率",generate:e=>1,range:e=>"无法附魔",hooks:{critRate:(e,t)=>t+.2}}),r("legends","year2018.yearBeastWeapon-XX",{type:"wolfTeethMace",itemName:"年兽的大腿骨",itemDescription:"上面的肉去哪儿了？嗝儿……",minLevel:1,display:e=>"每层暴击使你接下来5秒内伤害增加10%。",special:!0,generate:e=>1,range:e=>1,hooks:{testCrit(e,t){return t>0&&this.addBuff("swordSkill",5e3,.1*t),t}}}),r("legends","year2018.yearBeastPlastron-1",{type:"copperArmor",itemName:"年兽的硬甲",itemDescription:"散发着硝烟的气息。",minLevel:1,display:e=>"所有伤害吸收+15%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.15,fireAbsorb:(e,t)=>t+.15,darkAbsorb:(e,t)=>t+.15,coldAbsorb:(e,t)=>t+.15,lightningAbsorb:(e,t)=>t+.15,lightAbsorb:(e,t)=>t+.15,poisonAbsorb:(e,t)=>t+.15}}),r("legends","year2018.yearBeastTrousers-1",{type:"copperShinGuard1",itemName:"年兽的鬃毛",itemDescription:"比钢铁还硬的鬃毛。",minLevel:1,display:e=>"所有伤害吸收+10%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.1,fireAbsorb:(e,t)=>t+.1,darkAbsorb:(e,t)=>t+.1,coldAbsorb:(e,t)=>t+.1,lightningAbsorb:(e,t)=>t+.1,lightAbsorb:(e,t)=>t+.1,poisonAbsorb:(e,t)=>t+.1}}),r("legends","year2018.yearBeastPlastron-2",{type:"boneArmor",itemName:"年兽的厚皮",itemDescription:"散发着硝烟的气息。",minLevel:1,display:e=>"所有伤害吸收+15%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.15,fireAbsorb:(e,t)=>t+.15,darkAbsorb:(e,t)=>t+.15,coldAbsorb:(e,t)=>t+.15,lightningAbsorb:(e,t)=>t+.15,lightAbsorb:(e,t)=>t+.15,poisonAbsorb:(e,t)=>t+.15}}),r("legends","year2018.yearBeastTrousers-2",{type:"boneArmor1",itemName:"年兽的厚皮",itemDescription:"散发着硝烟的气息。",minLevel:1,display:e=>"所有伤害吸收+15%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.15,fireAbsorb:(e,t)=>t+.15,darkAbsorb:(e,t)=>t+.15,coldAbsorb:(e,t)=>t+.15,lightningAbsorb:(e,t)=>t+.15,lightAbsorb:(e,t)=>t+.15,poisonAbsorb:(e,t)=>t+.15}}),r("legends","year2018.yearBeastTrousers-22",{type:"boneShinGuard",itemName:"年兽的皮裤",itemDescription:"再胖的人都穿得上。",minLevel:1,display:e=>"所有伤害吸收+10%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.1,fireAbsorb:(e,t)=>t+.1,darkAbsorb:(e,t)=>t+.1,coldAbsorb:(e,t)=>t+.1,lightningAbsorb:(e,t)=>t+.1,lightAbsorb:(e,t)=>t+.1,poisonAbsorb:(e,t)=>t+.1}}),r("legends","year2018.yearBeastPlastron-3",{type:"mithrilDress",itemName:"年兽的毛衣",itemDescription:"散发着硝烟的气息。",minLevel:1,display:e=>"所有伤害吸收+15%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.15,fireAbsorb:(e,t)=>t+.15,darkAbsorb:(e,t)=>t+.15,coldAbsorb:(e,t)=>t+.15,lightningAbsorb:(e,t)=>t+.15,lightAbsorb:(e,t)=>t+.15,poisonAbsorb:(e,t)=>t+.15}}),r("legends","year2018.yearBeastTrousers-3",{type:"mithrilSkirt",itemName:"年兽的毛裤",itemDescription:"再胖的人都穿得上。",minLevel:1,display:e=>"所有伤害吸收+10%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.1,fireAbsorb:(e,t)=>t+.1,darkAbsorb:(e,t)=>t+.1,coldAbsorb:(e,t)=>t+.1,lightningAbsorb:(e,t)=>t+.1,lightAbsorb:(e,t)=>t+.1,poisonAbsorb:(e,t)=>t+.1}}),r("legends","year2018.yearBeastHeart",{type:"ornament",itemName:"年兽的心脏",itemDescription:"蕴含着时间的力量。",minLevel:1,display:e=>"急速+20%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{speedRateAdd:(e,t)=>t+.2}})},3077:(e,t,n)=>{const{define:r,extend:i}=n(6637);r("goods","year2018.redbag",{type:"package",name:"红包",description:"龙年吉祥，新年快乐！打开后获得少量神力和奇怪的精粹！",stack:99999,price:1,requireInventory:2,backgroundColor:"#ff215b",nameColor:"white",loots:[{key:"diamonds",rate:1,count:[10,30]},{key:"wuxingshi",rate:1,count:[3,5]},{type:"ticket",rate:.1,dungeons:{"year2018.dungeon":1}},{type:"specialEquip2",rate:.1,items:["year2018.yearBeastWeapon-1","year2018.yearBeastWeapon-2","year2018.yearBeastPlastron-1","year2018.yearBeastPlastron-2","year2018.yearBeastPlastron-3","year2018.yearBeastTrousers-1","year2018.yearBeastTrousers-22","year2018.yearBeastTrousers-3","year2018.yearBeastHeart"]}]});const{enemies:o,maps:a}=n(4130);for(const e of Object.keys(o)){const t=o[e];t.loots&&t.loots.push({key:"year2018.redbag",count:[1,1],rate:2e-4})}for(const e of Object.keys(a)){const t=a[e];t.loots&&t.loots.push({key:"year2018.redbag",count:[1,1],rate:.2})}},9497:e=>{e.exports=[{key:"atkByDex",name:"强力攻击",description:"攻击你的敌人的弱点。每点敏捷增加1%的攻击力。",hooks:{atkAdd(e,t){return t+this.dex/100}}},{key:"energy",name:"能量",description:"增加100点能量上限。增加10点能量恢复速度。",hooks:{maxEp:(e,t)=>t+100,epRecovery:(e,t)=>t+5}}]},3577:e=>{e.exports=[]},5034:(e,t,n)=>{e.exports=[...n(3577),...n(3236),...n(8441),...n(9497),...n(436),...n(6133)]},6133:e=>{e.exports=[{key:"pla_passive1",name:"神圣力量",description:"",hooks:{maxMpAdd(e,t){return t+100+4*this.level},mpRecovery(e,t){return t+1+.09*this.level},intAdd(e,t){let n=0;const{weapon:r,plastron:i,gaiter:o}=this.player.equipments;return r.empty||"sword"!==r.goodData.class||(n+=r.level),i.empty||"lightArmor"!==i.goodData.class||(n+=i.level),o.empty||"lightArmor"!==o.goodData.class||(n+=o.level),t+Math.ceil(.5*n)},strAdd(e,t){let n=0;const{weapon:r,plastron:i,gaiter:o}=this.player.equipments;return r.empty||"swordshield"!==r.goodData.class||(n+=r.level),i.empty||"armor"!==i.goodData.class||(n+=i.level),o.empty||"armor"!==o.goodData.class||(n+=o.level),t+Math.ceil(.5*n)}}}]},8441:e=>{e.exports=[{key:"magic",name:"法力",description:"法力值上限+50，每点智力额外增加5点法力值上限；法力值恢复+1，每点智力额外增加0.1法力值恢复。",hooks:{maxMpAdd(e,t){return t+50+5*this.int},mpRecovery(e,t){return t+1+.1*this.int}}},{key:"elect",name:"电能",description:"法力值上限+50，每点智力额外增加5点法力值上限；法力值恢复+1，每点智力额外增加0.1法力值恢复。",hooks:{maxComboPoint:(e,t)=>t+7}}]},436:e=>{e.exports=[{key:"soulbringer_passive",name:"鬼泣封印",description:"增加20点法力值，每角色等级额外增加5点法力值。每5秒恢复1点法力值，每角色等级额外恢复0.2法力值",hooks:{maxMpAdd(e,t){return t+50+5*this.int},darkResist(e,t){return t+1*this.int},darkdmgLAdd(e,t){return t+1*this.int},atk_self_Add(e,t){return t+.2*this.int+.2*this.str}}}]},3236:e=>{e.exports=[{key:"atkByStr",name:"力量训练",description:"每点力量+0.5基础攻击",hooks:{atk_self_Add(e,t){return t+.5*this.str},dmgLAdd(e,t){return t+this.str}}},{key:"atkByint",name:"力量训练-魔剑/天启/焚天",description:"每点智力+0.2基础攻击",hooks:{atk_self_Add(e,t){return t+.2*this.int}}},{key:"atkByhp",name:"体能训练-守护/战神/虎卫",description:"每点生命值+0.03基础攻击",hooks:{atk_self_Add(e,t){return t+.03*this.maxHp}}},{key:"warriorfire",name:"火伤",description:"火伤+20%",hooks:{firedmgAdd:(e,t)=>t+.2,firedmgLAdd(e,t){return t+this.str}}},{key:"warriorfirecold",name:"冰火伤",description:"冰火伤+20%",hooks:{firedmgAdd:(e,t)=>t+.2,colddmgAdd:(e,t)=>t+.2,firedmgLAdd(e,t){return t+this.str},colddmgLAdd(e,t){return t+this.str},maxCpAdd:(e,t)=>t+100,maxFpAdd:(e,t)=>t+100}},{key:"warriorlightning",name:"雷伤",description:"雷伤+20%",hooks:{lightningdmgAdd:(e,t)=>t+.2,lightningdmgLAdd(e,t){return t+this.str}}},{key:"warriorsurvival",name:"生存训练",description:"hp+30%，双防+30%",hooks:{maxHpMul:(e,t)=>1.3,defMul:(e,t)=>1.3,allResMul:(e,t)=>1.3}},{key:"rage",name:"怒气",description:"增加100点怒气上限。每次攻击增加5点怒气，每次受到攻击增加1点怒气。",hooks:{maxRp:(e,t)=>t+100,rpOnAttacked:(e,t)=>t+1,maxMpMul:(e,t)=>0,hpRecovery(e,t){return t+.1*this.sta}}}]},8531:e=>{e.exports={}},1675:e=>{e.exports={key:"Aleanor",name:"亚莲娜",description:"艾尔的童年好友，一名蓝发的少女。似乎有些不同寻常的地方……\n   \n  职业： 魔法学徒\n  职业特性： \n  ①法力值上限+50，法力值恢复+1\n  ②每点智力额外增加5点法力值上限和0.1法力值恢复\n   \n  可以使用的武器： 法杖\n  可以穿戴的防具： 布甲\n    \n  可以习得的主动技能： 杖击、魔法连弹、召唤术·史莱姆\n  可以习得的被动技能： 能量亲和、魔法铠甲\n   \n  当角色等级达到15级且任意一个角色完成副本“迷雾森林”的首通时，可以进行第一次转职。",defaultCareer:"sorceress",atk:0,atkSpeed:1,requirement:{stories:["aleanor-startup"]},attrBase:{str:4,dex:8,int:12,sta:8}}},662:e=>{e.exports={key:"Ariel",name:"伊瑞尔",description:"边境之村的一名普通少年，熟读数百本勇者传，头发染成了勇者专用的金色。\n   \n  职业： 战士\n  职业特性： \n  ①每点力量额外增加0.2攻击力\n  ②被攻击时获得1点怒气\n  \n  可以使用的武器： 剑盾\n  可以穿戴的防具： 轻甲、重甲\n   \n  可以习得的主动技能： 普通攻击、包扎伤口、重击\n  可以习得的被动技能： 坚韧、奋勇\n  \n  ",defaultCareer:"paladin",atk:1,atkSpeed:.5,requirement:{stories:["975346"],beforeStories:["975346"]},attrBase:{str:10,dex:5,int:10,sta:5}}},4564:e=>{e.exports={key:"Eyer",name:"艾尔",description:"边境之村的一名普通少年，熟读数百本勇者传，头发染成了勇者专用的金色。\n   \n  职业： 战士\n  职业特性： \n  ①每点力量额外增加0.2攻击力\n  ②被攻击时获得1点怒气\n  \n  可以使用的武器： 长剑、剑盾、双刀\n  可以穿戴的防具： 轻甲、重甲\n   \n  可以习得的主动技能： 普通攻击、包扎伤口、重击\n  可以习得的被动技能： 坚韧、奋勇\n  \n  当角色等级达到15级且任意一个角色完成副本“迷雾森林”的首通时，可以进行第一次转职。\n  ",defaultCareer:"warrior",atk:1,atkSpeed:.5,attrBase:{str:10,dex:8,int:4,sta:10}}},2334:e=>{e.exports={key:"iPhone14promax",name:"恶魔五月哭",description:"I am the storm that is approaching\n\t \n\tProvoking black clouds in isolation\n\t \n\tI am reclaimer of my name\n\t \n\tBorn in flames, I have been blessed\n\t \n\tMy family crest is a demon of death!\n\t \n\t \n\t职业： 黑暗君主\n\t职业特性： \n\t①法力值上限+50\n\t②每点力量额外增加0.2攻击力\n\t③每点智力额外增加0.2攻击力、1点暗伤害、1点暗抗性、5点法力值上限\n\t \n\t可以使用的武器： 太刀\n\t可以穿戴的防具： 布甲\n\t  \n\t艾冯十世·普洛·麦克斯大佬为大家定制的超强角色。\n\t",defaultCareer:"soulbringer",atk:1,atkSpeed:1,requirement:{stories:["soulbringer-2"],beforeStories:["soulbringer-3"]},attrBase:{str:10,dex:8,int:10,sta:8}}},1725:(e,t,n)=>{e.exports=[n(4564),n(1675),n(2334),n(662)]},5969:e=>{e.exports=[{key:"summon.puppet.comeToMe",name:"来打我啊",castTime:1500,coolDown:1e4,canUse:(e,t)=>!!t.target,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e))))n.target=t}}]},7249:e=>{e.exports=[{key:"melee_muzhuang",name:"攻击",group:"melee",description:e=>{const t=1+.2*e;return`普普通通的一击。对目标造成攻击力的${0|.75*t*100}%-${0|1.25*t*100}%伤害。`},coolDown:15e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:o}=t;if(e.testDodge(t,r,this))return;const a=o*(.5*Math.random()+.75)*(.2*n+1),s=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(s)*a,s),i&&(t.hp+=i),t.rp+=t.rpOnAttack,r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"melee",name:"攻击",group:"melee",description:e=>{const t=1+.2*e;return`普普通通的一击。对目标造成攻击力的${0|.75*t*100}%-${0|1.25*t*100}%伤害。`},coolDown:5e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:o}=t;if(e.testDodge(t,r,this))return;const a=o*(.5*Math.random()+.75)*(.2*n+1),s=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(s)*a,s),i&&(t.hp+=i),t.rp+=t.rpOnAttack,r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"melee.aoe",name:"炮击",group:"melee",castTime:500,description:e=>{const t=1+.2*e;return`普普通通的一击。对目标造成攻击力的${0|.75*t*100}%-${0|1.25*t*100}%伤害。`},isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{leech:r=0,atk:i}=t,o=i*(.5*Math.random()+.75)*(.2*n+1);for(const n of e.units.filter((e=>t.willAttack(e)))){if(e.testDodge(t,n,this))return;const r=t.testCrit();e.sendDamage("melee",t,n,this,t.getCritBonus(r)*o,r),n.rp+=n.rpOnAttacked,n.runAttrHooks(t,"attacked")}r&&(t.hp+=r),t.rp+=t.rpOnAttack}},{key:"mz2skill1",name:"1",coolDown:100,description:"",maxExp:e=>e**2*100+300*e+200,canUse(e,t){const n=t.buffs.find((e=>"mz2skill1_buff"===e.group));return!!t.target&&!n},effect(e,t,n){t.addBuff("mz2skill1_buff",null,0,"mz2skill1_buff")}},{key:"mz2skill2",name:"自我了结",coolDown:3e4,description:"",maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t,i=t.buffs.find((e=>"mz2skill1_buff"===e.group));e.sendDamage("real",t,t,this,t.maxHp-t.hp,!1),t.removeBuff(i),t.kill()}}]},5422:e=>{function t(e){return e<=60?.3*e+1:.5*e+1-6}e.exports=[{key:"summonWindBlade",name:"召唤奥术球",expGroup:"windBlade",element:"wind",description:(e,n)=>{const{int:r}=n;return`召唤${e+3}个奥术球，每个对目标造成${0|1*t(n.level)*(.01*r+1)*n.dmgAdd}点秘法伤害。奥术球有80%几率攻击你当前的目标。`},coolDown:1500,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{int:i,target:o}=n,a=1*t(n.level)*(.01*i+1)*n.dmgAdd,s=e.units.filter((e=>e!==o&&n.willAttack(e)));for(let t=0;t<r+3;t++){let t=o;if(e.testDodge(n,t,this))return;const r=n.testCrit();s.length>0&&(!n.target||Math.random()<.2)&&(t=s[Math.floor(Math.random()*s.length)]),e.sendDamage("magic",n,t,this,n.getCritBonus(r)*a,r)}}},{key:"summonFire",name:"召唤火焰精灵",coolDown:1500,cost:{mp:e=>25*(.2*e.level+1)},description:(e,n)=>{const{int:r}=n;return`召唤一个火焰精灵，使用火球术攻击你的敌人，每次攻击造成${0|5*t(n.level)*(.01*r+1)*(.3*e+1)}伤害，持续15秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map&&e.units.filter((e=>e.summoner===t&&e.type.indexOf("summon.element.fire")>=0&&"ghost"!==e.camp)).length<t.runAttrHooks(1,"summonCount"),effect(e,t,n){const r=e.addEnemy("summon.element.fire",null,0,t,this);r.addBuff("summoned",t.runAttrHooks(15e3,"summonTime")),t.runAttrHooks(r,"summonedUnit")}},{key:"summonWater",name:"召唤水元素",coolDown:1500,cost:{mp:e=>20*(.2*e.level+1)},description:(e,n)=>{const{int:r}=n;return`召唤一个水元素，使用水箭术攻击你的敌人，每次攻击造成${0|4*t(n.level)*(.01*r+1)*(.3*e+1)}伤害，持续15秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map&&e.units.filter((e=>e.summoner===t&&e.type.indexOf("summon.element.water")>=0&&"ghost"!==e.camp)).length<t.runAttrHooks(1,"summonCount"),effect(e,t,n){const r=e.addEnemy("summon.element.water",null,0,t,this);r.addBuff("summoned",t.runAttrHooks(15e3,"summonTime")),t.runAttrHooks(r,"summonedUnit")}},{key:"healthDrill",name:"生命汲取",castTime:1500,coolDown:1e4,description:(e,n)=>{const{int:r}=n;return`对目标造成${0|10*t(n.level)*(.01*r+1)*(.3*e+1)}伤害，为你恢复${10+e}%生命值。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,n,r){const{critRate:i,critBonus:o,target:a,int:s}=n;if(e.testDodge(n,a,this))return;const l=n.testCrit(),c=10*t(n.level)*(.01*s+1)*(.3*r+1)*n.dmgAdd;e.sendHeal(n,n,this,n.maxHp*(.1+.01*r)),e.sendDamage("magic",n,a,this,n.getCritBonus(l)*c,l)}},{key:"explodeSummons",name:"献祭",castTime:1500,coolDown:e=>1e4,maxExp:e=>e**2*200+600*e+400,description:(e,t)=>{const{int:n}=t;return"摧毁你的一个召唤物，对所有目标造成相当于召唤物生命上限的伤害。伤害类型取决于召唤物的类型。"},canUse:(e,t)=>!!e.units.find((e=>e.summoner===t&&e.target)),effect(e,t,n){const r=e.units.filter((e=>e.summoner===t&&e.target)),i=r[Math.floor(Math.random()*r.length)],o=i.runAttrHooks("magic","elementType"),a=i.maxHp*(1+.2*n);for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.testCrit();e.sendDamage(o,i,n,this,t.getCritBonus(r)*a,r)}t.runAttrHooks(i,"onSummonExploded"),i.kill()}},{key:"summonEarth",name:"召唤岩石傀儡",coolDown:1500,cost:{mp:e=>30*(.2*e.level+1)},description:(e,n)=>{const{int:r}=n;return`召唤一个岩石傀儡，每次攻击造成${0|6*t(n.level)*(.01*r+1)*(.3*e+1)}物理伤害，持续15秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map&&e.units.filter((e=>e.summoner===t&&e.type.indexOf("summon.element.earth")>=0&&"ghost"!==e.camp)).length<t.runAttrHooks(1,"summonCount"),effect(e,t,n){const r=e.addEnemy("summon.element.earth",null,0,t,this);r.addBuff("summoned",t.runAttrHooks(15e3,"summonTime")),t.runAttrHooks(r,"summonedUnit")}},{key:"summonLightning",name:"召唤闪电风暴",coolDown:1500,cost:{mp:e=>30*(.2*e.level+1)},description:(e,n)=>{const{int:r}=n;return`召唤一团变幻莫测的闪电风暴，每次攻击造成${0|6*t(n.level)*(.01*r+1)*(.3*e+1)}闪电伤害，持续15秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map&&e.units.filter((e=>e.summoner===t&&e.type.indexOf("summon.element.lightning")>=0&&"ghost"!==e.camp)).length<t.runAttrHooks(1,"summonCount"),effect(e,t,n){const r=e.addEnemy("summon.element.lightning",null,0,t,this);r.addBuff("summoned",t.runAttrHooks(15e3,"summonTime")),t.runAttrHooks(r,"summonedUnit")}},{key:"summon.earth.comeToMe",name:"嘲讽",castTime:500,coolDown:5e3,canUse:(e,t)=>!!t.target&&t.target.target!==t,effect(e,t,n){t.target.target=t}},{key:"summon.disappear",name:"隐身术",description:"让所有以你为目标的敌人重新选择目标。升级可以减少此技能的冷却时间",coolDown:e=>2e4/(e+10)*10,maxExp:e=>e**2*200+600*e+400,effect(e,t,n){e.units.forEach((e=>{e.target===t&&(e.setTarget(null),e.findTarget())}))}},{key:"summon.upgrade",name:"升级",description:e=>`升级你的一个召唤物，使其永久存在，提升${e}%生命值和伤害并获得一个新的技能。每种元素最多升级一个。`,castTime:1e3,coolDown:e=>2e4,maxExp:e=>e**2*200+600*e+400,canUse(e,t){const n=e.units.filter((e=>e.summoner===t&&"ghost"!==e.camp)),r=n.filter((e=>e.runAttrHooks(!1,"summon.upgraded"))),i={};for(const e of r)i[e.runAttrHooks("magic","elementType")]=!0;for(const e of n)if(!i[e.runAttrHooks("magic","elementType")])return!0;return!1},effect(e,t,n){const r=e.units.filter((e=>e.summoner===t&&"ghost"!==e.camp)),i=r.filter((e=>e.runAttrHooks(!1,"summon.upgraded"))),o={};for(const e of i)o[e.runAttrHooks("magic","elementType")]=!0;const a=r.filter((e=>!o[e.runAttrHooks("magic","elementType")]));if(!a.length)return;const s=a[Math.floor(Math.random()*a.length)];e.sendSkillUsage(t,[s],this);const l=s.runAttrHooks(null,"getSummonedBuff");l&&(l.stopped=!0,s.removeBuff(l)),s.transformType(s.type+".2"),s.addBuff("summon.upgraded",null,n,"summon.upgraded")}}]},4586:e=>{e.exports=[{key:"slime.swallow",name:"吞噬",description:"吞噬一个小型史莱姆，获取对方的所有生命值。",coolDown:25e3,castTime:1e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>e!==t&&t.willAssist(e)&&t.maxHp-t.hp>e.maxHp)),effect(e,t,n){const r=e.units.find((e=>e!==t&&t.willAssist(e)));e.sendSkillUsage(t,[r],this);const i=r.maxHp*(.2+.1*n);e.sendHeal(t,t,this,i),e.removeUnit(r)}},{key:"wolf.heal",name:"舔舐伤口",castTime:2e3,description:"用心舔舐同伴的伤口，恢复100点生命值",coolDown:15e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>e!==t&&t.willAssist(e)&&e.maxHp-e.hp>=20)),effect(e,t,n){const r=e.units.filter((e=>e!==t&&t.willAssist(e)&&e.maxHp-e.hp>=20)).sort(((e,t)=>t.maxHp-t.hp-(e.maxHp-e.hp)))[0];r&&(e.sendSkillUsage(t,[r],this),r.hp+=30)}},{key:"wolf.call",name:"召唤狼群",description:"召唤伙伴来共同作战",castTime:500,coolDown:45e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<40,effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("wolf.giant",null,0,t),e.addEnemy("wolf.minimal",null,0,t),e.addEnemy("wolf.minimal",null,0,t)}},{key:"shaman.fireball",name:"火球术",description:"造成50点火焰伤害",coolDown:1e4,castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.testDodge(t,r,this)||e.sendDamage("fire",t,r,this,2.5*i,!1)}},{key:"bomb",name:"爆裂",description:"对全体造成100点火焰伤害",castTime:2e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){e.units.filter((e=>t.canAttack(e))).forEach((n=>{e.testDodge(t,n,this)||e.sendDamage("fire",t,n,this,t.atk,!1)})),t.kill()}},{key:"candle.call",name:"驱散暗影",description:"召唤一大堆蜡烛",castTime:500,coolDown:4e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<50,effect(e,t,n){e.sendSkillUsage(t,null,this);for(let n=0;n<8;n++)e.addEnemy("kobold.candle",null,0,t)}},{key:"fireElement.fireball",name:"火球术",description:"造成30点火焰伤害",castTime:4e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;if(e.testDodge(t,r,this))return;const o=t.testCrit();e.sendDamage("fire",t,r,this,t.getCritBonus(o)*i,o)}},{key:"kakarif.melee",name:"火焰冲击",group:"melee",description:"造成巨额的火焰伤害",targetType:"target",isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i}=t;e.testDodge(t,i,this)||e.sendDamage("fire",t,i,this,r)}},{key:"kakarif.mad",name:"卡卡列夫之怒",description:"增加300%攻击速度，持续4秒。",targetType:"target",castTime:2e3,coolDown:3e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("kakarif.mad",4e3)}},{key:"zombie.thumpHead",name:"击颅",group:"thump",description:e=>{const t=1+.1*e;return`对目标造成攻击力的${0|200*t}%-${0|280*t}%伤害，并使目标昏迷${(e+1)/2}秒。`},coolDown:15e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,leech:o=0,critRate:a=0,critBonus:s=1.5}=t;if(e.testDodge(t,r,this))return;const l=i*(.8*Math.random()+2),c=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(c)*l,c),o&&(t.hp+=o),r.breakCasting(),r.stun(.5),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"zombie.heal",name:"暗影治疗",description:"治疗所有盟友100点生命。每治疗一个盟友，就对所有敌人造成10点暗影伤害",castTime:2e3,coolDown:2e4,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!0,effect(e,t,n){const r=e.units.filter((e=>t.willAssist(e)));if(r.length>0){for(const e of r)e.hp+=100;const n=10*r.length,i=e.units.filter((e=>t.willAttack(e)));for(const r of i){if(e.testDodge(t,r,this))return;e.sendDamage("dark",t,r,this,n,!1)}}}},{key:"zombie.hide",name:"驱使亡灵",description:"将自己的位置移动到最后，并调整所有目标为自己的敌人",castTime:1e3,coolDown:30589,effect(e,t,n){e.units.remove(t),e.units.push(t),e.units.forEach((e=>{e.target===t&&(e.setTarget(null),e.findTarget())}))}},{key:"shieldShock",name:"盾击",description:e=>`反制一个目标，打断其正在释放的技能，并阻止其${e+5}秒内释放相同的技能`,coolDown:e=>1e4+1e3*e,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable))),effect(e,t,n){const r=e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable)));e.testDodge(t,r,this)||(e.sendSkillUsage(t,null,this),r.breakCasting(5e3+1e3*n))}},{key:"knight.heal",name:"圣光术",description:"治疗一个队友",castTime:3e3,coolDown:3e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>e!==t&&t.willAssist(e)&&e.maxHp-e.hp>=100)),effect(e,t,n){const r=e.units.filter((e=>e!==t&&t.willAssist(e)&&e.maxHp-e.hp>=100)).sort(((e,t)=>t.maxHp-t.hp-(e.maxHp-e.hp)))[0];r&&(e.sendSkillUsage(t,[r],this),r.hp+=t.maxHp/5)}},{key:"knight.shout",name:"战斗怒吼",description:e=>`在未来30秒内增加所有同伴${10+10*e|0}%护甲。`,coolDown:3e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,effect(e,t,n){e.sendSkillUsage(t,null,this),e.units.filter((e=>e===t||t.willAssist(e))).forEach((e=>{e.addBuff("shout",3e4,1,"shout")}))}},{key:"necromancer.ghostShield",name:"幽魂护卫",description:"召唤伙伴来共同作战",coolDown:45e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!e.units.find((e=>"chapter3.undead.ghostShield"===e.type)),effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("chapter3.undead.ghostShield",null,0,t),e.addEnemy("chapter3.undead.ghostShield",null,0,t),e.addEnemy("chapter3.undead.ghostShield",null,0,t)}},{key:"ghostShield",name:"幽魂护卫",description:"使奈布免疫所有伤害",castTime:500,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>"chapter3.necromancer"===e.type)),effect(e,t,n){e.units.find((e=>"chapter3.necromancer"===e.type)).addBuff("ghostShield",1e3,null,"ghostShield")}},{key:"shaman.darkball",name:"暗影箭",description:"造成50点暗影伤害",coolDown:1e4,castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.testDodge(t,r,this)||e.sendDamage("dark",t,r,this,.45*i,!1)}},{key:"darkElement.darkball",name:"暗影箭",description:"造成50点暗影伤害",castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.testDodge(t,r,this)||e.sendDamage("dark",t,r,this,i,!1)}},{key:"simba.heal",name:"治疗波",description:"治疗一个队友",castTime:3500,coolDown:25e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>t.willAssist(e)&&e.maxHp-e.hp>=3e3)),effect(e,t,n){const r=e.units.filter((e=>t.willAssist(e)&&e.maxHp-e.hp>=3e3)).sort(((e,t)=>t.maxHp-t.hp-(e.maxHp-e.hp)))[0];r&&(e.sendSkillUsage(t,[r],this),r.hp+=3e3)}},{key:"simba.thumpHead",name:"冲撞",group:"thump",description:e=>{const t=1+.1*e;return`对目标造成攻击力的${0|200*t}%-${0|280*t}%伤害，并使目标昏迷${(e+5)/2}秒。`},coolDown:15e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,leech:o=0,critRate:a=0,critBonus:s=1.5}=t;if(e.testDodge(t,r,this))return;const l=i*(.8*Math.random()+.5),c=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(c)*l,c),o&&(t.hp+=o),r.breakCasting(),r.stun(1),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"shaman.iceball",name:"寒冰箭",description:"造成50点寒冷呢伤害",coolDown:1e4,castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.testDodge(t,r,this)||e.sendDamage("cold",t,r,this,i,!1)}},{key:"murloc.thumpHead",name:"鱼人大军",description:"召唤大量悍不畏死的小鱼人，向敌人发起冲锋",coolDown:3e4,effect(e,t,n){t.startRead("murloc.thumpHead",5001,null,this)}},{key:"murloc.army.thumpHead",name:"冰霜冲锋",castTime:3e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){const{atk:r}=t,i=e.units.filter((e=>"player"===e.camp)),o=i[Math.floor(Math.random()*i.length)];if(!o||e.testDodge(t,o,this))return void t.kill();const a=r*(.5*Math.random()+1);e.sendDamage("cold",t,o,this,a,!1),o.breakCasting(),o.stun(1),o.rp+=o.rpOnAttacked,o.runAttrHooks(t,"attacked"),t.kill()}},{key:"murloc.shieldShout",name:"水之庇护",description:e=>"为所有同伴增加一个护盾，吸收3000点伤害。",coolDown:3e4,castTime:2e3,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,effect(e,t,n){e.sendSkillUsage(t,null,this),e.units.filter((e=>e===t||t.willAssist(e))).forEach((e=>{e.addBuff("murloc.waterShield",3e4,3e3)}))}},{key:"fishzilla.summonSlaves",name:"召唤奴隶",description:"召唤伙伴来共同作战",coolDown:1e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<20,effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("chapter3.murloc.slaves",null,0,t)}},{key:"fishzilla.focus",name:"奥术射线",coolDown:10,canUse:(e,t)=>!!e.units.find((e=>"chapter3.fishzilla"===e.type)),effect(e,t,n){const r=e.units.find((e=>"chapter3.fishzilla"===e.type));t.target!==r&&(t.target=r),t.startRead("fishzilla.focus",1e5,null,this)}},{key:"fishzilla.bomb",name:"冰箭乱射",description:"对全体敌人造成300点冰霜伤害",castTime:2e3,coolDown:e=>2e4-1e3*e,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){const{atk:r,critRate:i=0,critBonus:o=1.5}=t;e.units.filter((e=>t.willAttack(e))).forEach((n=>{if(e.testDodge(t,n,this))return;const i=t.testCrit();e.sendDamage("cold",t,n,this,t.getCritBonus(i)*r,i)}))}},{key:"waterElement.waterArrow",name:"水箭术",description:"造成30点冰冷伤害",castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;if(e.testDodge(t,r,this))return;const o=t.testCrit();e.sendDamage("cold",t,r,this,t.getCritBonus(o)*i,o)}},{key:"waterElement.waterArrow.notBreakable",name:"水箭术",description:"造成30点冰冷伤害",castTime:2e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;if(e.testDodge(t,r,this))return;const o=t.testCrit();e.sendDamage("cold",t,r,this,t.getCritBonus(o)*i,o)}},{key:"azathoth.transformIce",name:"形态转换",castTime:3e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>t.hp<.7*t.maxHp,effect(e,t,n){t.transformType("chapter3.element.azathoth.ice")}},{key:"azathoth.transformEarth",name:"形态转换",castTime:3e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>t.hp<.4*t.maxHp,effect(e,t,n){t.transformType("chapter3.element.azathoth.earth")}},{key:"azathoth.transformDark",name:"形态转换",castTime:3e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>t.hp<.2*t.maxHp,effect(e,t,n){t.transformType("chapter3.element.azathoth.dark")}},{key:"azathoth.explode",name:"同归于尽",castTime:3e4,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("real",t,n,this,5e5,!0);t.transformType("chapter3.element.azathoth.none"),t.kill()}},{key:"enemy.upgrade",name:"愤怒",description:"增加10%攻击力",coolDown:3e4,effect(e,t,n){t.addBuff("enemy.upgrade")}},{key:"waterElement.waterFlow",name:"激流",description:"造成30点冰冷伤害",notBreakable:!0,castTime:4e3,coolDown:3e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.sendDamage("cold",t,r,this,20*i,!1)}},{key:"orcs.summonWolf",cost:{ep:50},name:"召唤狼群",description:"召唤伙伴来共同作战",castTime:1e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<20,effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("chapter3.orcs.wolf",null,0,t)}},{key:"wolf.worry",name:"撕咬",coolDown:2e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;e.sendSkillUsage(t,[r],this),r.addBuff("wolf.worry",1e4,t.atk,"wolf.worry")}},{key:"shaman.chainingLightning",name:"闪电链",description:"对随机5个敌人造成伤害，伤害依次减少20%",castTime:1e3,coolDown:8e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target&&t.hp<=.6*t.maxHp,effect(e,t,n){const r=e.units.filter((e=>t.canAttack(e)));let i=t.atk;for(let n=0;n<5&&!(r.length<1);n++){const n=Math.floor(Math.random()*r.length),o=r.splice(n,1)[0];e.testDodge(t,o,this)||(e.sendDamage("lightning",t,o,this,i,!1),i*=.8)}}},{key:"lightningElement.chainingLightning",name:"闪电链",description:"对随机3个敌人造成伤害，伤害依次减少20%",castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,critRate:i=0,critBonus:o=1.5}=t,a=Math.random()<i,s=e.units.filter((e=>t.canAttack(e)));let l=a?r*o:r;for(let n=0;n<3&&!(s.length<1);n++){const n=Math.floor(Math.random()*s.length),r=s.splice(n,1)[0];e.testDodge(t,r,this)||(e.sendDamage("lightning",t,r,this,l,a),l*=.8)}}},{key:"lightningElement.stunAll",name:"乱雷",coolDown:1e4,castTime:1e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,critRate:i=0,critBonus:o=1.5}=t;e.units.filter((e=>t.willAttack(e))).forEach((i=>{if(e.testDodge(t,i,this))return;const o=r*(.4*Math.random()+.6)*(1+.2*n),a=t.testCrit();e.sendDamage("lightning",t,i,this,t.getCritBonus(a)*o,a),i.stun(1),i.breakCasting(),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")}))}},{key:"orcs.summonHealToken",name:"治疗图腾",description:"召唤伙伴来共同作战",castTime:1e3,coolDown:15e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<20&&t.hp<=.3*t.maxHp,effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("chapter3.orcs.totem",null,0,t)}},{key:"totem.heal",name:"治愈之雨",description:"治疗所有盟友100点生命。",castTime:1e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!0,effect(e,t,n){const r=e.units.filter((e=>t!==e&&t.willAssist(e)));for(const e of r)e.hp+=1e3}},{key:"chapter4.humans.seck.summonDarkSoul",name:"召唤虚空行者",coolDown:1500,cost:{mp:1e3},description:(e,t)=>{const{int:n}=t;return`召唤一个火焰精灵，使用火球术攻击你的敌人，每次攻击造成${0|5*(t.level*UNIT_LEVEL_RATE+1)*(.01*n+1)*(.3*e+1)}伤害，持续15秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>e.units.filter((e=>"chapter4.humans.monster"===e.type)).length<1,effect(e,t,n){const r=e.addEnemy("chapter4.humans.monster",null,0,t,this);t.runAttrHooks(r,"summonedUnit")}},{key:"chapter4.humans.seck.healthDrill",name:"生命汲取",castTime:3e3,coolDown:2e4,description:(e,t)=>{const{int:n}=t;return`对目标造成${0|10*(t.level*UNIT_LEVEL_RATE+1)*(.01*n+1)*(.3*e+1)}伤害，为你恢复${10+e}%生命值。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i}=t;if(e.testDodge(t,i,this))return;const o=r/2;e.sendHeal(t,t,this,t.maxHp*(.05+.01*n)),e.sendDamage("dark",t,i,this,o)}},{key:"chapter4.humans.women.thumpHead",name:"魅惑",group:"thump",description:e=>{const t=1+.1*e;return`对目标造成攻击力的${0|200*t}%-${0|280*t}%伤害，并使目标昏迷${(e+5)/2}秒。`},coolDown:25e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;e.testDodge(t,r,this)||(r.breakCasting(),r.stun(3))}},{key:"chapter4.humans.seck.summonWomen",name:"召唤魅魔",coolDown:1500,cost:{mp:1e3},description:(e,t)=>{const{int:n}=t;return`召唤一个火焰精灵，使用火球术攻击你的敌人，每次攻击造成${0|5*(t.level*UNIT_LEVEL_RATE+1)*(.01*n+1)*(.3*e+1)}伤害，持续15秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>e.units.filter((e=>"chapter4.humans.women"===e.type)).length<2,effect(e,t,n){const r=e.addEnemy("chapter4.humans.women",null,0,t,this);t.runAttrHooks(r,"summonedUnit")}},{key:"knight.glory.enemy",name:"荣耀",description:e=>`荣耀的力量。为自己恢复${10+e}%生命值。需要三点圣能。`,cost:{comboPoint:3},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!0,effect(e,t,n){const r=e.units.filter((e=>t.willAssist(e))).sort(((e,t)=>t.maxHp-t.hp-(e.maxHp-e.hp)))[0];r&&(e.sendHeal(t,r,this,t.maxHp*(.1+.01*n)),e.sendSkillUsage(t,null,this))}},{key:"knight.thumpHead.enemy",name:"制裁之锤",expGroup:"knight.thumpHead",description:e=>`使目标昏迷${e+3}秒。`,coolDown:1e4,maxExp:e=>e**2*300+500*e+600,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;r.stun(2)}},{key:"enemy.fearas.summonTrigger",name:"召唤陷阱",description:e=>"召唤一个随机品牌的地雷。当心！",coolDown:2e3,maxExp:e=>e**2*300+500*e+600,canUse:(e,t)=>!!t.target,effect(e,t,n){e.sendSkillUsage(t,null,this);const r=["chapter4.humans.trigger.5.1","chapter4.humans.trigger.5.2","chapter4.humans.trigger.5.3","chapter4.humans.trigger.5.4"],i=r[Math.floor(Math.random()*r.length)];e.addEnemy(i,null,0,t),i===r[3]?e.sendGeneralMsg("额，拿错了。"):e.sendGeneralMsg("菲尔斯放置了一个地雷，快拆掉它！")}},{key:"enemy.fearas.bomb",name:"爆裂",description:"对全体造成100点火焰伤害",castTime:5e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){e.units.filter((e=>t.canAttack(e))).forEach((n=>{e.testDodge(t,n,this)||e.sendDamage("fire",t,n,this,t.atk,!1)})),t.kill()}},{key:"enemy.fearas.bomb1",name:"爆裂",description:"对全体造成100点火焰伤害",castTime:5e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){e.sendGeneralMsg("这是一颗哑炮。"),t.kill()}},{key:"enemy.fearas.bomb2",name:"损坏",description:"一会就坏了",castTime:5e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){t.kill()}},{key:"enemy.evil.reading1",name:"精神鞭笞",description:"造成持续的伤害",notBreakable:!0,coolDown:15e3,effect(e,t,n){t.startRead("enemy.evil.reading1",5001,null,this)}},{key:"enemy.evil.control",name:"精神控制",description:"造成持续的伤害",notBreakable:!0,coolDown:1e4,castTime:500,canUse:(e,t)=>!!e.units.find((e=>"chapter4.humans.boss.milhous"===e.type)),effect(e,t,n){const r=e.units.find((e=>"chapter4.humans.boss.milhous"===e.type));r&&r.addBuff("enemy.evil.control",null,null,"control"),e.sendGeneralMsg("米尔豪斯晕了头！快让他恢复正常！")}},{key:"shamansa.spew",name:"呕吐",maxExp:e=>1e20,coolDown:25e3,notBreakable:!0,canUse:(e,t)=>!!t.target,description:"将刚吃下去的吐出来",effect(e,t,n){t.startRead("shamansa.spew",5001,null,this)}},{key:"rosa.sleepy",name:"昏昏欲睡",description:e=>{const t=1+.1*e;return`对目标造成攻击力的${0|200*t}%-${0|280*t}%伤害，并使目标昏迷${(e+5)/2}秒。`},coolDown:25e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=e.units.filter((e=>t.canAttack(e)));for(const e of r)e.breakCasting(),e.stun(3)}},{key:"rosa.angry",name:"起床气",description:"增加300%攻击速度，持续4秒。",targetType:"target",castTime:3e3,coolDown:3e4,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("rosa.angry",5e3)}},{key:"chapter5.daughter.monster2",name:"幽闭",description:e=>`使目标昏迷${e+3}秒。`,coolDown:3e4,castTime:3e3,maxExp:e=>e**2*300+500*e+600,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;r.breakCasting(),r.stun(2)}},{key:"chapter5.daughter.monster4",name:"惊慌失措",description:"增加300%攻击速度，持续4秒。",targetType:"target",castTime:3e3,coolDown:3e4,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("rosa.angry",5e3)}}]},5218:(e,t,n)=>{e.exports=[...n(7249),...n(4012),...n(8417),...n(5969),...n(5665),...n(5422),...n(192),...n(9937),...n(4586),...n(7148),...n(8265),...n(4781)]},8265:e=>{e.exports=[{key:"karon_tombstone",name:"天降墓碑",coolDown:18e3,notBreakable:!0,description:(e,t)=>`每秒召唤一块墓碑，持续5秒。\n\t\t\t墓碑：墓碑入场时立即对所有目标造成${Math.round((80+2*e)/100*t.atk)}-${Math.round((90+3*e)/100*t.atk)}点暗属性伤害；自爆后再次对所有目标造成${Math.round((20+1*e)/100*t.atk)}-${Math.round((25+1*e)/100*t.atk)}点暗属性伤害`,cost:{mp:45},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){t.startRead("karon_tombstonesummon_buff",5005,null,this)}},{key:"karon_tombstoneplus",name:"坟头蹦迪",coolDown:4e4,notBreakable:!0,description:(e,t)=>(Math.round((400+40*e)/100*t.atk),Math.round((500+50*e)/100*t.atk),"召唤一个坟头上场。\n\t\t\t坟头：携带“蹦迪”、“自爆”技能。"),cost:{mp:150},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!e.units.find((e=>"karon_summon_tombstoneplus"===e.type)),effect(e,t,n){e.addEnemy("karon_summon_tombstoneplus",null,0,t,this)}},{key:"karon_dark_jige",name:"吉哥降临",coolDown:2e4,castTime:5e3,description:(e,t)=>(Math.round((400+40*e)/100*t.atk),Math.round((500+50*e)/100*t.atk),"召唤神官吉哥上场。\n\t\t\t吉哥：携带“鬼斩”、“天降墓碑”、“自爆”技能。"),cost:{mp:450},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!e.units.find((e=>"karon_summon_jige"===e.type)),effect(e,t,n){e.addEnemy("karon_summon_jige",null,0,t,this)}}]},5665:e=>{function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=e.runAttrHooks(3,"maxComboPoint");e.runAttrHooks(t,"holyCombo"),e.comboPoint=Math.min(n,e.comboPoint+t)}e.exports=[{key:"knight.melee",name:"攻击",group:"melee",expGroup:"melee",description:e=>{const t=1+.2*e;return`正义的一击。对目标造成攻击力的${0|.75*t*100}%-${0|1.25*t*100}%伤害，产生一点圣能。`},isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:o=0,atk:a}=n;if(e.testDodge(n,i,this))return;const s=a*(.5*Math.random()+.75)*(.2*r+1),l=n.testCrit();e.sendDamage("melee",n,i,this,n.getCritBonus(l)*s,l),o&&(n.hp+=o),t(n),i.runAttrHooks(n,"attacked")}},{key:"knight.thump",group:"thump",name:"重击",expGroup:"thump",description:e=>{const t=1+.2*e;return`审判的一击。造成巨额的伤害。对目标造成攻击力的${0|250*t}%-${0|350*t}%伤害。需要三点圣能。`},cost:{comboPoint:3},coolDown:500,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,leech:o=0,critRate:a=0,critBonus:s=1.5}=t;if(e.testDodge(t,r,this))return;const l=i*(Math.random()+2.5)*(n/5+1),c=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(c)*l,c),o&&(t.hp+=o),r.runAttrHooks(t,"attacked")}},{key:"knight.cleave",name:"顺劈斩",group:"melee",description:(e,t)=>{const n=(1+.2*e)*t.runAttrHooks(1,"cleaveDamageRate");return`制裁的一击。对最多三个目标分别造成(${0|30*n}%-${0|42*n}%)倍攻击力伤害，产生一点圣能。`},isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{atk:i,target:o,leech:a=0}=n,s=n.runAttrHooks(1,"cleaveDamageRate"),l=i*(.12*Math.random()+.3)*(r/5+1)*s,c=n.testCrit();e.sendDamage("melee",n,o,this,n.getCritBonus(c)*l,c);let u=.4;e.units.filter((e=>e!==o&&n.willAttack(e))).slice(0,2).forEach((t=>{if(e.testDodge(n,t,this))return;const o=i*(.12*Math.random()+.3)*(r/10+1);u+=.4,e.sendDamage("melee",n,t,this,n.getCritBonus(c)*o,c),t.runAttrHooks(n,"attacked")})),a&&(n.hp+=a*u),t(n),o.runAttrHooks(n,"attacked")}},{key:"knight.whirlwind",name:"破邪斩",description:e=>{const t=1+.2*e;return`荣耀的一击。对全体目标造成造成攻击力的${0|60*t}%-${0|80*t}%伤害。需要三点圣能。`},coolDown:800,cost:{comboPoint:3},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=t.atk*(.2*n+1),i=e.units.filter((e=>t.willAttack(e))),{critRate:o=0,critBonus:a=1.5,leech:s}=t;s&&(t.hp+=s),i.forEach((n=>{if(e.testDodge(t,n,this))return;const i=r*(.2*Math.random()+.6),o=t.testCrit();e.sendDamage("melee",t,n,this,t.getCritBonus(o)*i,o),n.runAttrHooks(t,"attacked")}))}},{key:"knight.holySign",name:"圣光圣印",group:"sign",coolDown:8e3,description:e=>`在目标身上印上光明的圣印，每个伤害目标的人恢复其造成伤害的${10+2*e}%生命值，持续10秒。`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=.1+.02*n,{target:i}=t;i.addBuff("knight.holySign",1e4,r,"knight.sign")}},{key:"knight.damageSign",name:"审判圣印",group:"sign",coolDown:8e3,description:e=>`在目标身上印上审判的圣印，当其攻击或释放技能时对周围所有你的敌人造成你攻击力的${0|100*(1+.2*e)*.4}%伤害，持续10秒。`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=.4*(1+.2*n),{target:i}=t;i.addBuff("knight.damageSign",1e4,r,"knight.sign")}},{key:"knight.thumpHead",name:"制裁之锤",expGroup:"knight.thumpHead",description:e=>`使目标昏迷${e+5}秒。`,coolDown:1e4,maxExp:e=>e**2*300+500*e+600,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;r.stun(n+5)}},{key:"knight.sacrifice",name:"牺牲",group:"melee",expGroup:"sacrifice",description:e=>{const t=1+.2*e;return`绝望的一击。对目标造成攻击力的${0|1*t*100}%-${0|1.75*t*100}%伤害，你自己受到${(15/t).toFixed(1)}%的总伤害，产生一点圣能。`},isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:o=0,atk:a}=n;if(e.testDodge(n,i,this))return;let s=a*(.75*Math.random()+1);const l=n.testCrit();e.sendDamage("melee",n,n,this,n.getCritBonus(l)*s*.15,l),s*=.2*r+1,e.sendDamage("melee",n,i,this,n.getCritBonus(l)*s,l),o&&(n.hp+=o),t(n),i.runAttrHooks(n,"attacked")}},{key:"knight.glory",name:"荣耀",description:e=>`荣耀的力量。为自己恢复${10+e}%生命值。需要三点圣能。`,coolDown:1e4,cost:{comboPoint:e=>e.runAttrHooks(!1,"cheapGlory")?0:3},maxExp:e=>e**2*200+600*e+400,effect(e,t,n){e.sendHeal(t,t,this,t.maxHp*(.1+.01*n)),e.sendSkillUsage(t,null,this)}},{key:"knight.reflect",name:"盾牌反射",description:e=>`受到法术伤害时，抵挡其伤害，并对伤害来源造成${20+4*e}%的伤害，持续${e+5}秒。`,maxExp:e=>e**2*200+600*e+400,castTime:2e3,coolDown:e=>2e4+2e3*e,effect(e,t,n){t.addBuff("knight.shieldReflect",1e3*(n+5),.2+.04*n)}},{key:"knight.holyShield",name:"保护祝福",description:e=>`在未来${e+3}秒内，免疫所有的物理伤害。只会在生命值小于50%时使用。同时获得三点圣能。`,maxExp:e=>e**2*200+600*e+400,coolDown:e=>3e4+2e3*e,shouldUse:(e,t)=>t.hp<t.maxHp/2,effect(e,n,r){n.addBuff("holyShield",1e3*(r+3)),t(n,3)}},{key:"knight.kick",name:"盾击",description:e=>"用盾牌冲撞敌人，打断其正在释放的技能，并阻止其5秒内释放相同的技能",coolDown:e=>1e4/(1+.1*e),maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable))),effect(e,t,n){const r=e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable)));e.sendSkillUsage(t,null,this),r.breakCasting(5e3)}},{key:"knight.pray",name:"祈祷",coolDown:2e4,description:e=>`在战斗的同时念诵祈祷的颂词，在接下来10秒内每${(5/(1+.2*e)).toFixed(1)}秒获得一点圣能`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("knight.pray",10005,5e3/(1+.2*n),"knight.pray")}},{key:"knight.melee1",name:"驱邪术",coolDown:3e3,description:e=>{const t=1+.2*e;return`用圣光的力量驱散邪恶。对目标造成攻击力的${0|1*t*100}%-${0|1.5*t*100}%伤害。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:o}=t;if(e.testDodge(t,r,this))return;const a=o*(.5*Math.random()+1)*(.2*n+1),{critRate:s=0,critBonus:l=1.5}=t,c=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(c)*a,c),i&&(t.hp+=i),r.runAttrHooks(t,"attacked")}},{key:"knight.deserve",name:"奉献",coolDown:1e4,description:e=>{const t=1+.2*e;return`将圣光灌注到脚下的土地，在接下来的8秒内每2秒对所有敌人造成攻击力的${0|30*t}%-${0|50*t}%伤害。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("knight.deserve",10005,n,"knight.deserve")}}]},4781:e=>{e.exports=[{key:"paladin_skill1",name:"牺牲",group:"1",coolDown:1500,description:(e,t)=>{const n=(t.atk+t.str*(.25+.005*e))*(.06*e+1);return`以生命为代价,对目标造成${Math.round(.9*n)}-${Math.round(1.1*n)}点物理伤害，自身损失当前生命值的5%。\n\t\t\t每“白热”等级，伤害+1%。\n\t\t\t同时携带“狂热”光环，造成的伤害+25%。\n\t\t\t同时携带“救赎”，免除自身损失生命值的效果。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i}=t,o=t.buffs.find((e=>"skill3_buff"===e.group)),a=1+.01*t.player.getSkillLevel("paladin_skill6")+(t.runAttrHooks(!1,"skill17_buff")?.25:0);let s=(t.atk+t.str*(.25+.005*n))*(.06*n+1)*t.dmgAdd*a*(.9+.2*Math.random())*(o?2:1);const l=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(l)*s,l),1===t.runAttrHooks(1,"pal_enhance11")&&(t.hp=.95*t.hp),i&&(t.hp+=i),t.removeBuff(o),r.runAttrHooks(t,"attacked")}},{key:"paladin_skill2",name:"力量",group:"2",halo:!0,coolDown:5e3,description:e=>`物理伤害+${Math.round(100+2*e)/10}%。\n\t\t\t同时携带“祝福瞄准”，额外+10%物理伤害。\n\t\t\t同时携带“反抗”，额外+10%物理伤害。\n\t\t\t每5秒增加1点技能熟练度。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.removeBuff(t.buffs.find((e=>"skill2_buff"===e.group))),t.addBuff("skill2_buff",5e3,.1+.002*n,"skill2_buff")}},{key:"paladin_skill3",name:"盾击",group:"4",description:(e,t)=>`我是厨师，我会炖鸡。\n\t\t\t用盾牌猛击敌人，造成${Math.round(t.def*(1+.03*e))}点物理伤害，并使其昏迷1秒。\n\t\t\t同时携带“力量”，昏迷时间增加0.5秒。\n\t\t\t同时携带“荆棘”，下一个“牺牲”伤害+100%。\n\t\t\t同时携带“反抗”，盾击的伤害+${Math.round(t.def/50)}%。`,coolDown:8e3,maxExp:e=>e**2*200+600*e+400,canUse(e,t){const{weapon:n}=t.player.equipments;return!!t.target&&"swordshield"===n.goodData.class},effect(e,t,n){const{target:r,def:i,leech:o=0}=t,a=Math.round(t.def*(1+.03*n)*t.dmgAdd)*(1+(t.runAttrHooks(!1,"pal_enhance3")?t.def/5e3:0)),s=t.testCrit();r.breakCasting(),r.addBuff("stunned",1e3+(t.runAttrHooks(!1,"skill2_buff")?500:0),null,"stunned"),e.sendDamage("melee",t,r,this,t.getCritBonus(s)*a,s),t.runAttrHooks(!1,"pal_enhance4")&&t.addBuff("skill3_buff",null,null,"skill3_buff"),o&&(t.hp+=o),r.runAttrHooks(t,"attacked")}},{key:"paladin_skill4",name:"圣光弹",description:(e,t)=>{const n=(.5*t.atk+t.int*(.35+.006*e))*(.06*e+1);return`将神圣能量凝聚成飞弹，造成${Math.round(.9*n)}-${Math.round(1.1*n)}点光伤害。\n\t\t\t每“天堂之拳”等级，伤害提高2%。\n\t\t\t同时携带“祈祷”，治疗自身5%的生命值。\n\t\t\t同时携带“净化”，冷却时间减少2秒。`},coolDown:(e,t,n)=>8e3-(t.runAttrHooks(!1,"pal_enhance7")?2e3:0),castTime:500,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t,i=1+.02*t.player.getSkillLevel("paladin_skill5"),o=(.5*t.atk+t.int*(.35+.006*n))*(.06*n+1)*i*(.9+.2*Math.random())*t.lightdmgAdd,a=t.testCrit();e.sendDamage("light",t,r,this,t.getCritBonus(a)*o,a),t.runAttrHooks(!1,"pal_enhance1")&&e.sendHeal(t,t,this,.05*t.maxHp)}},{key:"paladin_skill5",name:"神圣之火",group:"3",halo:!0,coolDown:5e3,description:(e,t)=>{const n=t.int*(.08*e+1);return`每秒对目标造成${Math.round(.9*n)}-${Math.round(1.1*n)}点火焰伤害。\n\t\t\t每次造成物理伤害时，将额外附加${Math.round(t.int*(.5+.03*e))}点火焰伤害。\n\t\t\t同时携带“信念”，每秒使目标的火焰抗性永久减少${t.player.getSkillLevel("paladin_skill16")}点。\n\t\t\t同时携带“救助”，额外附加的火焰伤害提高25%。\n\t\t\t同时携带“火焰抵抗”，额外增加10%火焰吸收。\n\t\t\t每5秒增加1点技能熟练度。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("skill5_buff1",5e3,n,"skill5_buff1")}},{key:"paladin_skill6",name:"白热",group:"1",coolDown:1500,description:(e,t)=>{const n=(.9*t.atk+t.str*(.25+.005*e))*(.06*e+1)/6;return`连续攻击3次，每次对随机目标造成${Math.round(.9*n)}-${Math.round(1.1*n)}点物理伤害。\n\t\t\t每“牺牲”等级，伤害提高1%。\n\t\t\t携带“狂热”时，伤害提高25%。\n\t\t\t携带“救赎”时，攻击次数+2。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t,i=e.units.filter((e=>e!==r&&t.willAttack(e)));for(let o=0;o<3+(t.runAttrHooks(!1,"pal_enhance11")?2:0);o++){let o=r;i.length>0&&(!t.target||Math.random()<.8)&&(o=i[Math.floor(Math.random()*i.length)]);const a=1+.01*t.player.getSkillLevel("paladin_skill1")+(t.runAttrHooks(!1,"skill17_buff")?.25:0);let s=(.9*t.atk+t.str*(.25+.005*n))*(.06*n+1)*t.dmgAdd*a*(.9+.2*Math.random())/6;const l=t.testCrit();e.sendDamage("melee",t,o,this,t.getCritBonus(l)*s,l),t.hp+=.5*(t.leech||0),o.runAttrHooks(t,"attacked")}}},{key:"paladin_skill7",name:"盾压",group:"4",description:(e,t)=>`我是厨师，我会炖鸭。\n\t\t\t用盾牌拍击敌人，造成${Math.round(t.def*(.5+.01*e))}点物理伤害，10%几率触发“压碎性打击”。\n\t\t\t压碎性打击：对目标造成其当前生命值25%的物理伤害，但最大不能超过自身物理防御的5倍。\n\t\t\t携带“力量”时，“压碎性打击”的触发几率增加至25%。\n\t\t\t携带“荆棘”时，下一个“牺牲”伤害+100%。\n\t\t\t携带“反抗”时，“压碎性打击”的伤害上限提高至物理防御的8倍。`,coolDown:15e3,maxExp:e=>e**2*200+600*e+400,canUse(e,t){const{weapon:n}=t.player.equipments;return!!t.target&&"swordshield"===n.goodData.class},effect(e,t,n){const{target:r,def:i,leech:o=0}=t,a=Math.round(t.def*(.5+.01*n)*t.dmgAdd)*(1+(t.runAttrHooks(!1,"pal_enhance3")?t.def/5e3:0)),s=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(s)*a,s),Math.random()<.1+(t.runAttrHooks(!1,"skill2_buff")?.15:0)&&e.sendDamage("melee",null,r,"压碎性打击",Math.min(.25*r.hp,t.def*(5+(t.runAttrHooks(!1,"pal_enhance3")?3:0))),!1),t.runAttrHooks(!1,"pal_enhance4")&&t.addBuff("skill3_buff",null,null,"skill3_buff"),o&&(t.hp+=o),r.runAttrHooks(t,"attacked")}},{key:"paladin_skill8",name:"复仇",group:"1",description:(e,t)=>{const n=(t.atk+(t.int+t.str)*(.25+.003*e))*(.06*e+1)/1.5;return`对目标分别造成${Math.round(.9*n)}-${Math.round(1.1*n)}点火焰、寒冷、闪电伤害。\n\t\t\t每“神圣之火”等级，造成的火焰伤害提高5%。\n\t\t\t每“神圣冰冻”等级，造成的寒冷伤害提高5%。\n\t\t\t每“神圣冲击”等级，造成的闪电伤害提高5%。\n\t\t\t同时携带“信念”，每次命中使目标的火焰、寒冷、闪电抗性永久减少${t.player.getSkillLevel("paladin_skill16")}点。\n\t\t\t同时携带“救助”，每次命中有50%的几率使目标受到的火焰、寒冷、闪电伤害+1%，可叠加。`},coolDown:1500,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0}=t,o=(t.atk+(t.int+t.str)*(.35+.006*n))*(.06*n+1)/1.5,a=t.testCrit();e.sendDamage("fire",t,r,this,t.getCritBonus(a)*o*(1+.05*t.player.getSkillLevel("paladin_skill15"))*t.firedmgAdd,a),e.sendDamage("cold",t,r,this,t.getCritBonus(a)*o*(1+.05*t.player.getSkillLevel("paladin_skill19"))*t.colddmgAdd,a),e.sendDamage("lightning",t,r,this,t.getCritBonus(a)*o*(1+.05*t.player.getSkillLevel("paladin_skill113"))*t.lightningdmgAdd,a),t.runAttrHooks(!1,"skill16_buff")&&(r.addBuff("skill13_buff2",null,t.player.getSkillLevel("paladin_skill16")),r.addBuff("skill9_buff2",null,t.player.getSkillLevel("paladin_skill16")),r.addBuff("skill5_buff2",null,t.player.getSkillLevel("paladin_skill16"))),t.runAttrHooks(!1,"pal_enhance10")&&Math.random()<.5&&function(e,t){const n=t.buffs.find((e=>"skill8_buff"===e.group));n?n.arg+=.01:t.addBuff("skill8_buff",null,.01,"skill8_buff")}(0,r),i&&(t.hp+=i),r.runAttrHooks(t,"attacked")}},{key:"paladin_skill9",name:"神圣冰冻",group:"3",halo:!0,coolDown:5e3,description:(e,t)=>{const n=t.int*(.08*e+1);return`每秒对目标造成${Math.round(.9*n)}-${Math.round(1.1*n)}点寒冷伤害。\n\t\t\t每次造成物理伤害时，将额外附加${Math.round(t.int*(.5+.03*e))}点寒冷伤害。\n\t\t\t同时携带“信念”，每秒使目标的寒冷抗性永久减少${t.player.getSkillLevel("paladin_skill16")}点。\n\t\t\t同时携带“救助”，额外附加的寒冷伤害提高25%。\n\t\t\t同时携带“寒冷抵抗”，额外增加10%寒冷吸收。\n\t\t\t每5秒增加1点技能熟练度。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("skill9_buff1",5e3,n,"skill9_buff1")}},{key:"paladin_skill10",name:"祝福之锤",description:(e,t)=>`大锤八十，小锤四十。\n\t\t\t将神圣能量凝聚成一柄祝福飞锤，对所有目标造成${Math.round((100+e)/100*t.atk+t.def*(.05+.001*e)*2)}-${Math.round((130+2*e)/100*t.atk+t.def*(.05+.001*e)*2)}点光伤害。\n\t\t\t携带“祝福瞄准”时，暴击几率+15%。\n\t\t\t携带“精力”时，冷却时间减少3秒。\n\t\t\t携带“专注”时，仅对当前目标造成伤害，但伤害+150%。`,coolDown:15e3,castTime:500,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,def:o,leech:a=0}=t,s=(i*(1+.01*n+Math.random()*(.3+.01*n))+o*(.05+.001*n)*2)*t.lightdmgAdd,l=t.testCrit();e.sendDamage("light",t,r,this,t.getCritBonus(l)*s,l),r.runAttrHooks(t,"attacked")}},{key:"paladin_skill11",name:"专注",group:"2",halo:!0,coolDown:5e3,description:e=>"提高暴击等级，提高闪避值。\n\t\t\t携带“祝福瞄准”时，暴击等级+？。\n\t\t\t携带“反抗”时，闪避值+？。\n\t\t\t每5秒增加1点技能熟练度。",maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=.1+.02*n,{target:i}=t;t.addBuff("knight.holySign",2e4,r,"knight.sign")}},{key:"paladin_skill12",name:"神圣之盾",description:(e,t)=>(Math.round((100+e)/100*t.atk+t.def*(.05+.001*e)*2),Math.round((130+2*e)/100*t.atk+t.def*(.05+.001*e)*2),"我是厨师，但是我不会炖猪脚。\n\t\t\t用神圣的力量强化你的盾牌，10%格挡几率，提高？物理防御、元素抗性。\n\t\t\t携带“力量”时，格挡的几率+10%。\n\t\t\t携带“荆棘”时，反击比例+。\n\t\t\t携带“反抗”时，物理吸收+10%"),coolDown:25e3,castTime:500,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;t.addBuff("holycold_buff",2e4,bonus,"holycold_buff")}},{key:"paladin_skill13",name:"神圣冲击",group:"3",halo:!0,coolDown:5e3,description:(e,t)=>{const n=t.int*(.08*e+1);return`每秒对目标造成${Math.round(.9*n)}-${Math.round(1.1*n)}点闪电伤害。\n\t\t\t每次造成物理伤害时，将额外附加${Math.round(t.int*(.5+.03*e))}点闪电伤害。\n\t\t\t同时携带“信念”，每秒使目标的闪电抗性永久减少${t.player.getSkillLevel("paladin_skill16")}点。\n\t\t\t同时携带“救助”，额外附加的闪电伤害提高25%。\n\t\t\t同时携带“闪电抵抗”，额外增加10%闪电吸收。\n\t\t\t每5秒增加1点技能熟练度。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("skill13_buff1",5e3,n,"skill13_buff1")}},{key:"paladin_skill14",name:"庇护之光",group:"3",halo:!0,coolDown:5e3,description:e=>{const t=self.int*(.08*e+1);return`每秒对目标造成${Math.round(.9*t)}-${Math.round(1.1*t)}点光伤害。\n\t\t\t每次造成物理伤害时，将额外附加${Math.round(self.int*(.5+.03*e))}点光伤害。\n\t\t\t携带“净化”时，每秒减少目标25点光抗性。\n\t\t\t携带“救赎”时，附加的光伤害提高25%。\n\t\t\t每5秒增加1点技能熟练度。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("skill14_buff1",5e3,n,"skill14_buff1")}},{key:"paladin_skill15",name:"天堂之拳",description:(e,t)=>`你记不记得有一招从天而降的拳法。\n\t\t\t召唤神圣能量攻击你的目标，对其造成${Math.round((100+e)/100*t.atk+t.def*(.05+.001*e)*2)}-${Math.round((130+2*e)/100*t.atk+t.def*(.05+.001*e)*2)}点光伤害。\n\t\t\t携带“圣光弹”时，每技能等级提高？伤害，并对主目标及额外两个目标释放“圣光弹”。\n\t\t\t携带“庇护之光”时，光伤害+20%。\n\t\t\t携带“祈祷”时，自身受到的伤害减少10%，持续5秒。\n\t\t\t携带“净化”时，冷却时间减少5秒。\n\t\t\t携带“救赎”时，释放技能时若生命值小于50%，则额外恢复20%最大生命值。`,coolDown:25e3,castTime:500,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,def:o,leech:a=0}=t,s=(i*(1+.01*n+Math.random()*(.3+.01*n))+o*(.05+.001*n)*2)*t.lightdmgAdd,l=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(l)*s,l),e.sendHeal(t,t,this,t.maxHp*(.1+.01*n)),r.runAttrHooks(t,"attacked")}},{key:"paladin_skill16",name:"信念",halo:!0,coolDown:5e3,description:e=>`使所有敌对目标的物理防御减少${100+8*e}点，元素抗性减少${100+8*e}点。\n\t\t\t同时携带“火焰抵抗”，额外减少300点火焰抗性。\n\t\t\t同时携带“寒冷抵抗”，额外减少300点寒冷抗性。\n\t\t\t同时携带“闪电抵抗”，额外减少300点闪电抗性。\n\t\t\t同时携带“救助”，额外减少200点元素抗性。\n\t\t\t每5秒增加1点技能熟练度。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;t.addBuff("skill16_buff1",5e3,n,"skill16_buff1")}},{key:"paladin_skill17",name:"狂热",group:"2",halo:!0,coolDown:5e3,description:(e,t)=>`自身攻击力+${Math.round(100+2*e)/10}%，急速+10%。\n\t\t\t同时携带“祝福瞄准”，自身攻击力额外+10%。\n\t\t\t同时携带“精力”，自身攻击力额外+10%。\n\t\t\t每5秒增加1点技能熟练度。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.removeBuff(t.buffs.find((e=>"skill17_buff"===e.group))),t.addBuff("skill17_buff",5e3,.1+.002*n,"skill17_buff")}},{key:"holy_skill",name:"神圣",description:"",maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t,i=t.testCrit();t.runAttrHooks(!1,"skill5_buff")&&e.sendDamage("fire",null,r,"火曜",t.getCritBonus(i)*t.int*(.5+.03*t.player.getSkillLevel("paladin_skill5"))*t.firedmgAdd*(1+(t.runAttrHooks(!1,"pal_enhance10")?.25:0)),i),t.runAttrHooks(!1,"skill9_buff")&&e.sendDamage("cold",null,r,"霜冻",t.getCritBonus(i)*t.int*(.5+.03*t.player.getSkillLevel("paladin_skill5"))*t.colddmgAdd*(1+(t.runAttrHooks(!1,"pal_enhance10")?.25:0)),i),t.runAttrHooks(!1,"skill13_buff")&&e.sendDamage("lightning",null,r,"雷冲",t.getCritBonus(i)*t.int*(.5+.03*t.player.getSkillLevel("paladin_skill5"))*t.lightningdmgAdd*(1+(t.runAttrHooks(!1,"pal_enhance10")?.25:0)),i),t.runAttrHooks(!1,"skill14_buff")&&e.sendDamage("light",null,r,"圣光",t.getCritBonus(i)*t.int*(.5+.03*t.player.getSkillLevel("paladin_skill5"))*t.lightdmgAdd*(1+(t.runAttrHooks(!1,"pal_enhance11")?.25:0)),i)}}]},8417:e=>{function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=e.runAttrHooks(10,"maxComboPoint");e.runAttrHooks(t,"elect"),e.comboPoint=Math.min(n,e.comboPoint+t)}function n(e,t){const n=e.runAttrHooks(!1,"magicArtist"),r=e.buffs.find((e=>"magicState"===e.group));n?r?r.arg!==t&&(r.arg=t,e.addBuff("magicArtist",5e3,.1)):e.addBuff("magicState",null,t,"magicState"):r&&e.removeBuff(r)}function r(e,t,n){const r=t.buffs.find((e=>"fire_buff"===e.group));r?(r.arg+=n,r.resetTimer(15e3)):t.addBuff("fire_buff",15e3,n,"fire_buff")}function i(e,t){const n=t.buffs.find((e=>"electricity_buff"===e.group));e.runAttrHooks(!1,"lv35_sorceress3_enhance2")&&Math.random()<.3&&(n?(n.arg+=.01,n.resetTimer(1e4)):t.addBuff("electricity_buff",1e4,.01,"electricity_buff"))}e.exports=[{key:"sorceress_atk",name:"杖击",coolDown:1500,element:"melee",description:(e,t)=>`魔法入门第一课，以理服人。\n\t\t\t对目标造成${Math.round((100+1*e)/100*t.atk)}-${Math.round((150+2*e)/100*t.atk)}点物理伤害。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,r){const{target:i,leech:o=0,atk:a}=t;if(e.testDodge(t,i,this))return;const s=a*(1+.01*r+Math.random()*(.5+.01*r))*t.dmgAdd,l=t.testCrit();e.sendDamage("melee",t,i,this,t.getCritBonus(l)*s,l),o&&(t.hp+=o),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked"),n(t,"melee")}},{key:"wind_blade",name:"魔法连弹",element:"magic",description:(e,t)=>{const n=Math.round(.8*(t.int*(.1+.005*e)/2+2)),r=Math.round(1.2*(t.int*(.1+.005*e)/2+2));return`命中靶心，十环。！\n\t\t\t连续释放${Math.floor(e/10)+4}个魔法飞弹，每个对目标造成${n}-${r}点魔法伤害。\n\t\t\t每个飞弹攻击随机的目标,每10技能等级增加1个魔法飞弹。`},coolDown:1500,cost:{mp:2},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,r){const{int:i=0,target:o}=t;!function(e){e.runAttrHooks(!1,"lv15_sorceress1_enhance1")&&e.addBuff("chord_buff",null,null,"chord_buff")}(t);let a=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,a+=.02*t.maxMp*.002);const s=e.units.filter((e=>e!==o&&t.willAttack(e)));for(let n=0;n<Math.floor(r/10)+4;n++){let n=o;if(e.testDodge(t,n,this))return;s.length>0&&(!t.target||Math.random()<.8)&&(n=s[Math.floor(Math.random()*s.length)]);const i=Math.round((t.int*(.1+.005*r)/2+2)*(.8+.4*Math.random()))*a,l=t.testCrit();e.sendDamage("magic",t,n,this,t.getCritBonus(l)*i,l)}n(t,"magic")}},{key:"summon_slime",name:"召唤术·史莱姆",casttime:2e3,coolDown:1500,cost:{mp:20},description:(e,t)=>`你喊来了一团史莱姆，就和你刚刚干掉的那只一毛一样。\n\t\t\t召唤一团史莱姆，20秒后史莱姆将撤离现场。\n\t\t\t召唤物攻击力：${Math.round(t.int/2+e)}\n\t\t\t召唤物生命值：${Math.round((t.maxHp+2*t.int)*(1+e/10))}`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map&&e.units.filter((e=>e.summoner===t&&e.type.indexOf("summon.element.slime")>=0&&"ghost"!==e.camp)).length<t.runAttrHooks(1,"summonCount"),effect(e,t,n){const r=e.addEnemy("summon.element.slime",null,0,t,this);r.addBuff("summoned",t.runAttrHooks(2e4,"summonTime")),t.runAttrHooks(r,"summonedUnit")}},{key:"sorceress_fireBall",name:"火球术",element:"fire",description:(e,t)=>{const n=(15+2*e)*(.01*t.int+1)*(.05*e+1);return`烫烫烫...\n\t\t\t对目标造成${Math.round(.5*n)}-${Math.round(1.5*n)}点火焰伤害。`},castTime:2500,coolDown:100,cost:{mp:e=>20},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target&&t.target.fireAbsorb<1,effect(e,t,r){const{target:i}=t;if(e.testDodge(t,i,this))return;const o=t.runAttrHooks(1,"two_kjk");let a=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,a+=.02*t.maxMp*.002);const s=t.buffs.find((e=>"chord_buff"===e.group));let l=1;s&&(l+=.3,t.removeBuff(s));const c=(15+2*r)*(.01*t.int+1)*(.05*r+1)*t.firedmgAdd*o*l*a,u=t.testCrit();if(e.sendDamage("fire",t,i,this,t.getCritBonus(u)*c*(.5+Math.random()),u),t.runAttrHooks(!1,"lv35_sorceress1_enhance2")&&Math.random()<.5&&i){const n=t.testCrit();if(e.sendDamage("fire",t,i,this,t.getCritBonus(n)*c*(.5+Math.random()),n),Math.random()<.25&&i){const n=t.testCrit();if(e.sendDamage("fire",t,i,this,t.getCritBonus(n)*c*(.5+Math.random()),n),Math.random()<.1&&i){const n=t.testCrit();if(e.sendDamage("fire",t,i,this,t.getCritBonus(n)*c*(.5+Math.random()),n),Math.random()<.01&&i){const n=t.testCrit();e.sendDamage("fire",t,i,this,t.getCritBonus(n)*c*(.5+Math.random()),n)}}}}n(t,"fire")}},{key:"sorceress_magicShield",name:"魔法盾",element:"magic",maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!t.runAttrHooks(!1,"haveMagicShield")&&"home"!==e.map,description:(e,t)=>`消耗法力值以吸收伤害，每点法力值吸收${Math.round(100+8*e)/100}点伤害，最多吸收${0|t.maxMp*(.5+.01*e)}点伤害。`,coolDown:1e4,effect(e,t,r){const i=Math.round(100+8*r)/100,o=t.maxMp*(.5+.01*r);t.addBuff("magicShield",6e4,[i,o]),n(t,"magic")}},{key:"sorceress_vitalitywater",name:"活力之水",description:e=>`每秒恢复${Math.round(50+1*e)/100}%的生命值和法力值，持续10秒。`,coolDown:(e,t,n)=>15e3*t.runAttrHooks(1,"defring"),castTime:1e3,maxExp:e=>e**2*600+1800*e+1200,effect(e,t,n){let r=t.runAttrHooks(1,"lv35_sorceress2_enhance2");t.addBuff("vitalitywater_buff",10005,(.05+.001*n)/10*r,"vitalitywater_buff")}},{key:"sorceress_igniting",name:"点燃",element:"fire",description:(e,t)=>{const n=t.runAttrHooks(1,"lv80_sorceress2_enhance1"),r=(20+2*e)*(.01*t.int+1)*(.02*e+1)*n;return`为目标添加一层“灼烧”效果。\n\t\t\t灼烧：每3秒受到${Math.round(r)}点火焰伤害，持续15秒，可叠加。`},coolDown:2e4,cost:{mp:e=>30},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,i){const{target:o}=t;if(e.testDodge(t,o,this))return;const a=t.runAttrHooks(1,"lv80_sorceress2_enhance1"),s=t.runAttrHooks(!1,"lv80_sorceress2_enhance3"),l=t.runAttrHooks(!1,"lv80_sorceress2_enhance5");if(r(0,o,(20+2*i)*(.01*t.int+1)*(.02*i+1)*t.firedmgAdd*a),s&&o.addBuff("laoyin_buff",null,null,"laoyin_buff"),l){let e=Math.random();for(;e<.6;)r(0,o,(20+2*i)*(.01*t.int+1)*(.02*i+1)*t.firedmgAdd*a),s&&o.addBuff("laoyin_buff",null,null),e=Math.random()}n(t,"fire")}},{key:"sorceress_lightning",name:"闪电",element:"lightning",description:(e,t)=>{const n=t.runAttrHooks(!1,"lv80_sorceress6_enhance1"),r=t.runAttrHooks(1,"lv80_sorceress5_enhance1"),i=(25+2*e)*(.01*t.int+1)*(.05*e+1)*3,o=i*r,a=n?.3*i:1;return`对目标造成${Math.round(a)}-${Math.round(o)}点闪电伤害。`},castTime:2e3,coolDown:(e,t,n)=>t.runAttrHooks(100,"lv80_sorceress5_enhance3"),cost:{mp:e=>30},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,r){const o=t.runAttrHooks(!1,"lv80_sorceress6_enhance1"),a=t.runAttrHooks(1,"lv80_sorceress5_enhance1"),{target:s}=t;if(e.testDodge(t,s,this))return;let l=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,l+=.02*t.maxMp*.002);const c=t.buffs.find((e=>"chord_buff"===e.group));let u=1;c&&(u+=.3,t.removeBuff(c));const h=t.buffs.find((e=>"sorceress_energy_buff"===e.group));let p=0,d=1;h&&(d+=.5+.01*h.arg,p+=1,t.removeBuff(h));let f=(25+2*r)*(.01*t.int+1)*(.05*r+1)*3*t.lightningdmgAdd*u*l*d;f*=o?.3+.7*Math.random():1!==a?Math.random()*a:Math.random(),t.runAttrHooks(!1,"lv80_sorceress5_enhance33")&&(f=(25+2*r)*(.01*t.int+1)*(.05*r+1)*3*t.lightningdmgAdd*u*l*d);const m=t.testCrit(critRate=Math.min(t.critRate+p,1));i(t,s),e.sendDamage("lightning",t,s,this,t.getCritBonus(m)*f,m),n(t,"lightning")}},{key:"sorceress_fireBall_ex",name:"爆炎术",element:"fire",description:(e,t)=>{const n=(35+3*e)*(.01*t.int+1)*(.05*e+1);return`对八个目标造成${Math.round(.5*n)}-${Math.round(1.5*n)}点火焰伤害。`},castTime:2500,coolDown:8e3,cost:{mp:e=>45},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,r){const{target:i}=t;if(e.testDodge(t,i,this))return;let o=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,o+=.02*t.maxMp*.002);const a=t.buffs.find((e=>"chord_buff"===e.group));let s=1;a&&(s+=.3,t.removeBuff(a));const l=t.runAttrHooks(1,"lv80_sorceress1_enhance3"),c=(35+3*r)*(.01*t.int+1)*(.05*r+1)*(.5+Math.random())*t.firedmgAdd*s*o*l,u=t.testCrit();e.sendDamage("fire",t,i,this,t.getCritBonus(u)*c,u),n(t,"fire"),1===l&&e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,7).forEach((n=>{if(e.testDodge(t,n,this))return;const i=(35+3*r)*(.01*t.int+1)*(.05*r+1)*(.5+Math.random())*t.firedmgAdd*s*o,a=t.testCrit();e.sendDamage("fire",t,n,this,t.getCritBonus(a)*i,a)}))}},{key:"sorceress_overdraft",name:"透支",description:e=>`有时在过度劳累之后...\n\t\t\t火焰伤害+${Math.round(250+5*e)/10}%，但法力值恢复-${Math.round(50+1*e)}，持续25秒。`,coolDown:25e3,maxExp:e=>e**2*200+600*e+400,effect(e,t,n){t.runAttrHooks(!1,"lv80_sorceress1_enhance1")?t.addBuff("sorceress_overdraft_buff2",25005,n,"sorceress_overdraft_buff2"):t.addBuff("sorceress_overdraft_buff1",25005,n,"sorceress_overdraft_buff1")}},{key:"sorceress_hellfire",name:"地狱之火",coolDown:18e3,cost:{mp:e=>70},description:(e,t)=>{const n=(5+.5*e)*(.01*t.int+1)*(.05*e+1);return`持续施法6秒，每秒对所有目标造成${Math.round(.5*n)}-${Math.round(1.5*n)}点火焰伤害。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,r+=.02*t.maxMp*.002);const i=t.buffs.find((e=>"chord_buff"===e.group));let o=1;i&&(o+=.3,t.removeBuff(i));const a=(5+.5*n)*(.01*t.int+1)*(.05*n+1)*t.firedmgAdd*o*r;t.startRead("sorceress_hellfire_buff",6005,a,this)}},{key:"sorceress_fireShield",name:"烈焰护盾",element:"fire",maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map,description:(e,t)=>`增加10%暴击几率和${0|10*(.2*e+1)}%暴击伤害，持续30秒。`,coolDown:3e4,effect(e,t,r){const i=(.2*r+1)/10;t.addBuff("fireShield",3e4,i,"fireShield"),n(t,"fire")}},{key:"sorceress_chainingLightning",name:"雷蛇",element:"lightning",description:(e,t)=>{const n=t.runAttrHooks(!1,"lv80_sorceress6_enhance1"),r=t.runAttrHooks(1,"lv80_sorceress5_enhance1"),i=(25+2*e)*(.01*t.int+1)*(.05*e+1)*3,o=i*r,a=n?.3*i:1;return`对首个目标造成${Math.round(a)}-${Math.round(o)}点闪电伤害，最多弹射5次，每次弹射伤害衰减25%。`},castTime:1e3,coolDown:8e3,cost:{mp:e=>45},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,n,r){const o=n.runAttrHooks(!1,"lv80_sorceress6_enhance1"),a=n.runAttrHooks(1,"lv80_sorceress5_enhance1");let s=1;n.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&n.mp>.2*n.maxMp&&(n.mp-=.02*n.maxMp,s+=.02*n.maxMp*.002);const l=n.buffs.find((e=>"chord_buff"===e.group));let c=1;l&&(c+=.3,n.removeBuff(l));const u=n.buffs.find((e=>"sorceress_energy_buff"===e.group));let h=0,p=1;u&&(p+=.5+.01*u.arg,h+=1,n.removeBuff(u));const d=e.units.filter((e=>n.canAttack(e)));let f=(25+2*r)*(.01*n.int+1)*(.05*r+1)*3*n.lightningdmgAdd*c*s*p;f*=o?.3+.7*Math.random():1!==a?Math.random()*a:Math.random();const m=n.runAttrHooks(.75,"blz_buff");for(let t=0;t<5&&!(d.length<1);t++){const t=Math.floor(Math.random()*d.length),r=d.splice(t,1)[0],o=n.testCrit(critRate=Math.min(n.critRate+h,1));i(n,r),e.sendDamage("lightning",n,r,this,n.getCritBonus(o)*f,o),f*=m}n.runAttrHooks(!1,"lv80_sorceress5_enhance5")&&t(n)}},{key:"sorceress_energy",name:"蓄电",element:"lightning",coolDown:(e,t,n)=>11e3-t.runAttrHooks(0,"lv80_sorceress5_enhance2"),maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>"home"!==e.map,cost:{mp:e=>70},description:(e,t)=>`下一个闪电类的法术必定暴击，且伤害提高${Math.round(50+e)}%，持续8秒。`,effect(e,r,i){r.addBuff("sorceress_energy_buff",9e3,i,"sorceress_energy_buff"),t(r),n(r,"lightning")}},{key:"sorceress_supernova",name:"超级新星",element:"lightning",description:(e,t)=>{const n=t.runAttrHooks(!1,"lv80_sorceress6_enhance1"),r=t.runAttrHooks(1,"lv80_sorceress5_enhance1"),i=(5+1*e)*(.01*t.int+1)*(.05*e+1)*3,o=i*r,a=n?.3*i:1;return`对所有目标造成${Math.round(a)}-${Math.round(o)}点闪电伤害，并使其获得“麻痹”效果。\n\t\t\t麻痹：急速-10%，攻击力-50%，持续5秒。`},castTime:500,coolDown:15e3,cost:{mp:e=>45},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,r){const{target:o}=t;if(e.testDodge(t,o,this))return;const a=t.runAttrHooks(!1,"lv80_sorceress6_enhance1"),s=t.runAttrHooks(1,"lv80_sorceress5_enhance1");let l=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,l+=.02*t.maxMp*.002);const c=t.buffs.find((e=>"chord_buff"===e.group));let u=1;c&&(u+=.3,t.removeBuff(c));const h=t.buffs.find((e=>"sorceress_energy_buff"===e.group));let p=0,d=1;h&&(d+=.5+.01*h.arg,p+=1,t.removeBuff(h));for(const n of e.units.filter((e=>t.willAttack(e)))){let o=(5+1*r)*(.01*t.int+1)*(.05*r+1)*3*t.lightningdmgAdd*u*l*d;o*=a?.3+.7*Math.random():1!==s?Math.random()*s:Math.random();const c=t.testCrit(critRate=Math.min(t.critRate+p,1));i(t,n),e.sendDamage("lightning",t,n,this,t.getCritBonus(c)*o,c),n.addBuff("supernova_buff",5e3,null,"supernova_buff")}n(t,"lightning")}},{key:"sorceress_electrostatic",name:"静电力场",description:e=>`使所有目标的添加一层“静电”效果，可叠加。\n\t\t\t静电：闪电抗性永久减少${Math.round(50+e)}点。`,castTime:500,coolDown:5e3,cost:{mp:e=>30},maxExp:e=>e**2*1e3+3e3*e+2e3,effect(e,t,r){for(const n of e.units.filter((e=>t.willAttack(e))))if(n.addBuff("electrostatic_buff",null,50+r),t.runAttrHooks(!1,"lv80_sorceress6_enhance3")){const e=n.buffs.find((e=>"electricity_buff"===e.group));e?(e.arg+=.01,e.resetTimer(1e4)):n.addBuff("electricity_buff",1e4,.01,"electricity_buff")}n(t,"lightning")}},{key:"sorceress_coldBall",name:"水箭术",element:"cold",description:(e,t)=>{const n=(10+1*e)*(.01*t.int+1)*(.05*e+1);return`对目标造成${Math.round(.9*n)}-${Math.round(1.1*n)}点寒冷伤害。`},castTime:1500,coolDown:100,cost:{mp:e=>25},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,r){const{target:i}=t;if(e.testDodge(t,i,this))return;let o=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,o+=.02*t.maxMp*.002);const a=t.buffs.find((e=>"chord_buff"===e.group));let s=1;a&&(s+=.3,t.removeBuff(a));const l=t.runAttrHooks(!1,"lv80_sorceress3_enhance1"),c=t.runAttrHooks(!1,"lv80_sorceress4_enhance1"),u=(10+1*r)*(.01*t.int+1)*(.05*r+1)*t.colddmgAdd*s*o*(l?1.3:1)*(c?2.5:1),h=t.testCrit();c&&Math.random()<.15&&function(e,t){const n=t.buffs.find((e=>"freezed"===e.group)),r=e.runAttrHooks(!1,"lv80_sorceress4_enhance3");n?r?(e.useExtraSkill("ice_plus"),t.removeBuff(n)):n.resetTimer(1500):t.addBuff("freezed",1500,null,"freezed")}(t,i),e.sendDamage("cold",t,i,this,t.getCritBonus(h)*u*(.9+.2*Math.random()),h),n(t,"cold"),l&&e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,5).forEach((n=>{if(e.testDodge(t,n,this))return;const i=(10+1*r)*(.01*t.int+1)*(.05*r+1)*(.9+.2*Math.random())*t.colddmgAdd*s*o*(l?1.3:1),a=t.testCrit();e.sendDamage("cold",t,n,this,t.getCritBonus(a)*i,a)}))}},{key:"sorceress_lucky",name:"幸运祝福",element:"cold",description:e=>`你只有一个金苹果，所以你只能换取一种祝福。\n\t\t\t随机获得以下一种祝福效果，每一种祝福效果不可共存，持续25秒。\n\t\t\t幸运A面：智力+${Math.round(100+8*e)}\n\t\t\t幸运B面：寒冷伤害+${Math.round(250+5*e)/10}%\n\t\t\t幸运C面：生命值恢复+${Math.round(50+3*e)}，法力值恢复+${Math.round(50+3*e)}`,coolDown:25e3,maxExp:e=>e**2*200+600*e+400,cost:{mp:e=>50},effect(e,t,r){const i=t.buffs.find((e=>"lucky_buff1"===e.group));t.removeBuff(i);const o=t.buffs.find((e=>"lucky_buff2"===e.group));t.removeBuff(o);const a=t.buffs.find((e=>"lucky_buff3"===e.group));t.removeBuff(a);const s=t.runAttrHooks(!1,"goldapple_buff");let l=Math.random();if(l<.33){let e=t.mp/t.maxMp;t.addBuff("lucky_buff1",25005,100+8*r,"lucky_buff1"),t.mp=e*t.maxMp,s&&(Math.random()<.5?t.addBuff("lucky_buff2",25005,.25+.005*r,"lucky_buff2"):t.addBuff("lucky_buff3",25005,50+3*r,"lucky_buff3"))}else if(l<.66){if(t.addBuff("lucky_buff2",25005,.25+.005*r,"lucky_buff2"),s)if(Math.random()<.5){let e=t.mp/t.maxMp;t.addBuff("lucky_buff1",25005,100+8*r,"lucky_buff1"),t.mp=e*t.maxMp}else t.addBuff("lucky_buff3",25005,50+3*r,"lucky_buff3")}else if(t.addBuff("lucky_buff3",25005,50+3*r,"lucky_buff3"),s)if(Math.random()<.5){let e=t.mp/t.maxMp;t.addBuff("lucky_buff1",25005,100+8*r,"lucky_buff1"),t.mp=e*t.maxMp}else t.addBuff("lucky_buff2",25005,.25+.005*r,"lucky_buff2");n(t,"cold")}},{key:"sorceress_torrent",name:"湍流",element:"cold",description:(e,t)=>{const n=(25+1*e)*(.01*t.int+1)*(.05*e+1);return`对所有目标造成${Math.round(.9*n)}-${Math.round(1.1*n)}点寒冷伤害，并使其获得“冰缓”效果。\n\t\t\t冰缓：急速-20%，持续7秒。`},castTime:1500,coolDown:2e4,cost:{mp:e=>180},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,r){const{target:i}=t;if(e.testDodge(t,i,this))return;let o=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,o+=.02*t.maxMp*.002);const a=t.buffs.find((e=>"chord_buff"===e.group));let s=1;a&&(s+=.3,t.removeBuff(a));for(const n of e.units.filter((e=>t.willAttack(e)))){const i=(25+1*r)*(.01*t.int+1)*(.05*r+1)*t.colddmgAdd*s*o,a=t.testCrit();e.sendDamage("cold",t,n,this,t.getCritBonus(a)*i*(.9+.2*Math.random()),a),n.addBuff("soul_ice_cold",7e3,null,"soul_ice_cold"),t.runAttrHooks(!1,"lv80_sorceress3_enhance3")&&t.useExtraSkill("sorceress_coldBall")}n(t,"cold")}},{key:"sorceress_coldShield",name:"寒冰护甲",element:"cold",maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map,description:(e,t)=>`受到的伤害减少${Math.round(250+5*e)/10}%，持续30秒。`,coolDown:3e4,effect(e,t,r){const i=1-(.25+.005*r);t.addBuff("coldShield",3e4,i,"coldShield"),n(t,"cold"),t.runAttrHooks(!1,"lv80_sorceress3_enhance2")&&t.useExtraSkill("sorceress_magicShield")}},{key:"sorceress_bc_fire",name:"元素化·烈焰",element:"fire",maxExp:e=>e**2*600+1800*e+1200,canUse(e,t){const n=t.buffs.find((e=>"bc_cd_buff"===e.group)),r=t.buffs.find((e=>"bc_fire_buff2"===e.group));return"home"!==e.map&&t.mp/t.maxMp>.8&&!n&&!r},description:(e,t)=>`够了！现在不许成精了！\n\t\t\t化为火焰元素，自身火焰伤害+${Math.round(50+1*e)}%，免疫火焰伤害，受到的寒冷、闪电伤害+${Math.round(50+1*e)}%。\n\t\t\t元素化状态下，每秒消耗（3×持续时长）%的法力。\n\t\t\t当法力值大于80%才可释放，法力值小于20%时将结束元素化状态，每次结束后需要经过至少15秒的冷却才能再次进入元素化状态。`,coolDown:5e3,castTime:1e3,effect(e,t,r){t.addBuff("bc_fire_buff1",null,r,"bc_fire_buff1"),t.addBuff("bc_fire_buff2",null,1,"bc_fire_buff2"),n(t,"fire")}},{key:"sorceress_bc_cold",name:"元素化·寒冰",element:"cold",maxExp:e=>e**2*600+1800*e+1200,canUse(e,t){const n=t.buffs.find((e=>"bc_cd_buff"===e.group)),r=t.buffs.find((e=>"bc_cold_buff2"===e.group));return"home"!==e.map&&t.mp/t.maxMp>.8&&!n&&!r},description:(e,t)=>`够了！现在不许成精了！\n\t\t\t化为寒冷元素，自身寒冷伤害+${Math.round(50+1*e)}%，免疫寒冷伤害，受到的火焰、闪电伤害+${Math.round(50+1*e)}%。\n\t\t\t元素化状态下，每秒消耗（3×持续时长）%的法力。\n\t\t\t当法力值大于80%才可释放，法力值小于20%时将结束元素化状态，每次结束后需要经过至少15秒的冷却才能再次进入元素化状态。`,coolDown:5e3,castTime:1e3,effect(e,t,r){t.addBuff("bc_cold_buff1",null,r,"bc_cold_buff1"),t.addBuff("bc_cold_buff2",null,1,"bc_cold_buff2"),n(t,"cold")}},{key:"sorceress_bc_lightning",name:"元素化·雷光",element:"lightning",maxExp:e=>e**2*600+1800*e+1200,canUse(e,t){const n=t.buffs.find((e=>"bc_cd_buff"===e.group)),r=t.buffs.find((e=>"bc_lightning_buff2"===e.group));return"home"!==e.map&&t.mp/t.maxMp>.8&&!n&&!r},description:(e,t)=>`够了！现在不许成精了！\n\t\t\t化为闪电元素，自身闪电伤害+${Math.round(50+1*e)}%，免疫闪电伤害，受到的火焰、寒冷伤害+${Math.round(50+1*e)}%，每秒消耗法力值上限10%的法力。\n\t\t\t元素化状态下，每秒消耗（3×持续时长）%的法力。\n\t\t\t当法力值大于80%才可释放，法力值小于20%时将结束元素化状态，每次结束后需要经过至少15秒的冷却才能再次进入元素化状态。`,coolDown:5e3,castTime:1e3,effect(e,t,r){t.addBuff("bc_lightning_buff1",null,r,"bc_lightning_buff1"),t.addBuff("bc_lightning_buff2",null,1,"bc_lightning_buff2"),n(t,"lightning")}},{key:"sorceress_fire_wind",name:"焚骨",element:"fire",coolDown:45e3,cost:{mp:e=>900},notBreakable:!0,description:(e,t)=>{const n=(120+5*e)*(.01*t.int+1)*(.05*e+1);return`引导3秒，每秒对目标造成${Math.round(.5*n)}-${Math.round(1.5*n)}点火焰伤害。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,r){let i=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,i+=.02*t.maxMp*.002);const o=t.buffs.find((e=>"chord_buff"===e.group));let a=1;o&&(a+=.3,t.removeBuff(o));const s=(120+5*r)*(.01*t.int+1)*(.05*r+1)*t.firedmgAdd*a*i;t.addBuff("sorceress_firewind_buff2",4005,1,"sorceress_firewind_buff2"),t.startRead("sorceress_firewind_buff1",3005,s,this),n(t,"fire")}},{key:"xunbao_skill",name:"殉爆",description:"殉爆",coolDown:2e3,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;e.units.filter((e=>t.willAttack(e))).forEach((n=>{const r=t.testCrit();e.sendDamage("fire",null,n,"殉爆",t.getCritBonus(r)*t.int*2*t.firedmgAdd,r)}))}},{key:"dianjiliu_skill",name:"电击流",description:"电击流",coolDown:2e3,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;e.units.filter((e=>t.willAttack(e))).forEach((n=>{const r=t.testCrit();i(t,n),e.sendDamage("lightning",null,n,"电击流",t.getCritBonus(r)*t.int*.5*t.lightningdmgAdd,r)}))}},{key:"sorceress_hellfire_plus",name:"狱炎之门",coolDown:4e4,notBreakable:!0,element:"fire",cost:{mp:e=>700},description:(e,t)=>{const n=(1+.01*e)*(.01*t.int+1)*(.02*e+1);return`持续施法5秒，每0.25秒对所有目标造成${Math.round(.5*n)}-${Math.round(1.5*n)}点火焰伤害。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,r){let i=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,i+=.02*t.maxMp*.002);const o=t.buffs.find((e=>"chord_buff"===e.group));let a=1;o&&(a+=.3,t.removeBuff(o));const s=(1+.01*r)*(.01*t.int+1)*(.02*r+1)*t.firedmgAdd*a*i;t.startRead("sorceress_hellfire_plus_buff",5005,s,this),n(t,"fire")}},{key:"sorceress_impulse",name:"脉冲",description:(e,t)=>{const n=t.runAttrHooks(1,"lv80_sorceress5_enhance1"),r=(125+8*e)*(.01*t.int+1)*(.05*e+1)*3*n;return`消耗10格电能，对目标造成1-${Math.round(r)}点闪电伤害。\n\t\t\t每次释放“蓄电”将获得1格电能。`},element:"lightning",cost:{comboPoint:10},coolDown:15e3,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,r){const{target:o}=t;let a=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,a+=.02*t.maxMp*.002);const s=t.buffs.find((e=>"chord_buff"===e.group));let l=1;s&&(l+=.3,t.removeBuff(s));const c=t.buffs.find((e=>"sorceress_energy_buff"===e.group));let u=0,h=1;c&&(h+=.5+.01*c.arg,u+=1,t.removeBuff(c)),e.units.filter((e=>t.canAttack(e)));const p=t.runAttrHooks(!1,"lv80_sorceress6_enhance1"),d=t.runAttrHooks(1,"lv80_sorceress5_enhance1");let f=(125+12*r)*(.01*t.int+1)*(.05*r+1)*t.lightningdmgAdd*l*a*h*3;f*=p?.3+.7*Math.random():1!==d?Math.random()*d:Math.random();const m=t.testCrit(critRate=Math.min(t.critRate+u,1));i(t,o),e.sendDamage("lightning",t,o,this,t.getCritBonus(m)*f,m),n(t,"lightning")}},{key:"sorceress_thunder",name:"雷神降临",coolDown:45e3,castTime:2e3,notBreakable:!0,element:"lightning",cost:{mp:e=>800},description:(e,t)=>{const n=t.runAttrHooks(!1,"lv80_sorceress6_enhance1"),r=t.runAttrHooks(1,"lv80_sorceress5_enhance1"),i=(12+.8*e)*(.01*t.int+1)*(.05*e+1)*3,o=i*r,a=n?.3*i:1;return`持续施法5秒，每0.5秒对所有目标造成${Math.round(a)}-${Math.round(o)}点闪电伤害。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,r){let i=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,i+=.02*t.maxMp*.002);const o=t.buffs.find((e=>"chord_buff"===e.group));let a=1;o&&(a+=.3,t.removeBuff(o));const s=t.buffs.find((e=>"sorceress_energy_buff"===e.group));let l=0,c=1;s&&(c+=.5+.01*s.arg,1,t.removeBuff(s));let u=(12+.8*r)*(.01*t.int+1)*(.05*r+1)*t.lightningdmgAdd*a*i*c*3;t.startRead("sorceress_thunder_buff",5005,u,this),n(t,"lightning")}},{key:"sorceress_sea",name:"海啸",coolDown:45e3,notBreakable:!0,element:"cold",cost:{mp:e=>800},description:(e,t)=>{const n=(20+1.5*e)*(.01*t.int+1)*(.05*e+1);return`持续施法5秒，每0.5秒对所有目标造成${Math.round(.9*n)}-${Math.round(1.1*n)}点寒冷伤害。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,r){let i=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,i+=.02*t.maxMp*.002);const o=t.buffs.find((e=>"chord_buff"===e.group));let a=1;o&&(a+=.3,t.removeBuff(o));let s=(20+1.5*r)*(.01*t.int+1)*(.05*r+1)*t.colddmgAdd*a*i;t.startRead("sorceress_sea_buff",5005,s,this),n(t,"cold")}},{key:"sorceress_blizzard",name:"暴风雪",coolDown:45e3,notBreakable:!0,element:"cold",cost:{mp:e=>800},description:(e,t)=>{const n=(35+2.8*e)*(.01*t.int+1)*(.05*e+1);return`玻璃渣。\n\t\t\t持续施法5秒，每秒对所有目标造成${Math.round(.9*n)}-${Math.round(1.1*n)}点寒冷伤害。\n\t\t\t每次造成伤害有50%几率冻结目标1.5秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,r){let i=1;t.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&t.mp>.2*t.maxMp&&(t.mp-=.02*t.maxMp,i+=.02*t.maxMp*.002);const o=t.buffs.find((e=>"chord_buff"===e.group));let a=1;o&&(a+=.3,t.removeBuff(o));let s=(35+2.8*r)*(.01*t.int+1)*(.05*r+1)*t.colddmgAdd*a*i;t.startRead("sorceress_blz_buff",5005,s,this),n(t,"cold")}},{key:"ice_plus",name:"冻伤",coolDown:1500,description:"",maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;e.sendDamage("cold",null,r,"冻伤",Math.min(.2*r.maxHp,50*t.int),!1)}}]},9937:e=>{function t(e,t,n){if(e.runAttrHooks(!1,"flaming")){const e=t.buffs.find((e=>"flaming"===e.group));e?(e.arg+=n/10,e.resetTimer(1e4)):t.addBuff("flaming",1e4,n/10,"flaming")}}function n(e,t){const n=e.runAttrHooks(!1,"magicArtist"),r=e.buffs.find((e=>"magicState"===e.group));n?r?r.arg!==t&&(r.arg=t,e.addBuff("magicArtist",5e3,.1)):e.addBuff("magicState",null,t,"magicState"):r&&e.removeBuff(r)}function r(e){const t=e.buffs.find((e=>"coldAir"===e.group));t?t.arg=Math.min(t.arg+.01,.99):e.addBuff("coldAir",null,.01,"coldAir")}function i(e){return e<=60?.3*e+1:.5*e+1-6}const o=["羊","鸡","猪","乌龟","大象","牛","鼠","兔","蛇","蛋"];e.exports=[{key:"iceArrow",name:"寒冰箭",element:"ice",description:(e,t)=>{const{int:n}=t;return`对目标造成${0|10*i(t.level)*(.01*n+1)*i(e)*t.dmgAdd}点寒冷伤害，并使目标未来3秒所有行动减缓20%`},castTime:1500,cost:{mp:e=>8*(.2*e.level+1)},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target&&t.target.coldAbsorb<1,effect(e,t,o){const{critRate:a,critBonus:s,target:l,int:c=0}=t;if(e.testDodge(t,l,this))return;const u=10*i(t.level)*(.01*c+1)*(.3*o+1)*t.dmgAdd;Math.random()<t.runAttrHooks(!1,"soCold")?l.stun(3,"freezed"):l.addBuff("cold",3e3,null,"cold"),t.runAttrHooks(!1,"coldAir")&&r(l);const h=t.testCrit();e.sendDamage("cold",t,l,this,t.getCritBonus(h)*u,h),n(t,"ice")}},{key:"fireBall",name:"火球术",element:"fire",description:(e,t)=>{const{int:n}=t;return`对目标造成${0|15*i(t.level)*(.01*n+1)*(.3*e+1)*t.dmgAdd}点火焰伤害`},castTime:2e3,cost:{mp:e=>10*(.2*e.level+1)},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target&&t.target.fireAbsorb<1,effect(e,r,o){const{critRate:a,critBonus:s,target:l,int:c=0}=r;if(e.testDodge(r,l,this))return;const u=15*i(r.level)*(.01*c+1)*(.3*o+1)*r.dmgAdd,h=r.testCrit();if(e.sendDamage("fire",r,l,this,r.getCritBonus(h)*u,h),h&&t(r,l,r.getCritBonus(h)*u),n(r,"fire"),r.runAttrHooks(!1,"fireFrenzy"))for(const e of r.skills)e!==this&&"fire"===e.skillData.element&&e.reduceCoolDown(1e3)}},{key:"windBlade",name:"奥术飞弹",element:"wind",description:(e,t)=>{const{int:n}=t;return`释放${e+3}个飞弹，每个对目标造成${0|1*i(t.level)*(.01*n+1)*t.dmgAdd}点秘法伤害。每个飞弹有20%的几率攻击随机的目标。`},coolDown:1500,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,r){const{critRate:o,critBonus:a,int:s=0,target:l}=t,c=1*i(t.level)*(.01*s+1)*t.dmgAdd,u=e.units.filter((e=>e!==l&&t.willAttack(e)));for(let n=0;n<r+3;n++){let n=l;if(e.testDodge(t,n,this))return;u.length>0&&(!t.target||Math.random()<.2)&&(n=u[Math.floor(Math.random()*u.length)]);const r=t.testCrit();e.sendDamage("magic",t,n,this,t.getCritBonus(r)*c,r)}n(t,"wind")}},{key:"burning",name:"灼烧",element:"fire",description:(e,t)=>{const{int:n}=t;return`对目标造成${0|15*i(t.level)*(.01*n+1)*(.3*e+1)*t.dmgAdd}点火焰伤害`},coolDown:8e3,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target&&t.target.fireAbsorb<1,effect(e,r,o){const{target:a,int:s=0}=r;if(e.testDodge(r,a,this))return;const l=15*i(r.level)*(.01*s+1)*(.3*o+1)*r.dmgAdd,c=r.testCrit();e.sendDamage("fire",r,a,this,r.getCritBonus(c)*l,c),c&&t(r,a,r.getCritBonus(c)*l),n(r,"fire")}},{key:"iceNova",name:"霜之新星",element:"ice",description:(e,t)=>`冻结全体目标${e/2+1}秒。`,castTime:500,coolDown:e=>1e4,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e))),effect(e,t,i){const o=e.units.filter((e=>t.willAttack(e)&&e.coldAbsorb<1)),a=t.runAttrHooks(!1,"coldAir");o.forEach((n=>{e.testDodge(t,n,this)||(n.stun(i/2+1,"freezed"),a&&r(n))})),n(t,"ice")}},{key:"magicShield",name:"魔法盾",element:"wind",maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!t.runAttrHooks(!1,"haveMagicShield")&&"home"!==e.map,description:(e,t)=>{const{int:n}=t,r=(.01*n+1)*(.2*e+1)/3,o=r*i(t.level)*50;return`消耗法力值以吸收伤害，每点法力值吸收${r.toFixed(1)}点伤害，最多吸收${0|o}点伤害`},coolDown:1e4,effect(e,t,r){const{int:o=0}=t,a=(.01*o+1)*(.2*r+1)/3,s=a*i(t.level)*50;t.addBuff("magicShield",6e4,[a,s]),n(t,"wind")}},{key:"flameStrike",name:"烈焰风暴",element:"fire",maxExp:e=>e**2*100+300*e+200,castTime:3e3,coolDown:25e3,canUse:(e,t)=>!!t.target,description:(e,t)=>{const{int:n}=t;return`对所有敌人造成${0|15*i(t.level)*(.01*n+1)*(.3*e+1)*t.dmgAdd}点伤害。`},effect(e,r,o){const{critRate:a,critBonus:s,int:l=0}=r,c=15*i(r.level)*(.01*l+1)*(.3*o+1)*r.dmgAdd;e.units.filter((e=>r.willAttack(e))).forEach((n=>{if(e.testDodge(r,n,this))return;const i=r.testCrit();e.sendDamage("fire",r,n,this,r.getCritBonus(i)*c,i),i&&t(r,n,r.getCritBonus(i)*c)})),n(r,"fire")}},{key:"iceShield",name:"冰霜护盾",group:"shield",element:"ice",maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,description:(e,t)=>{const{int:n}=t;return`增加${0|(.01*n+1)*(.2*e+1)*i(t.level)*3}点护甲，并使所有攻击者减速20%`},coolDown:3e4,effect(e,t,r){const{int:o}=t,a=(.01*o+1)*(.2*r+1)*i(t.level)*3;t.addBuff("iceShield",6e4,a,"shield"),n(t,"ice")}},{key:"transform",name:"变形术",element:"wind",description:(e,t)=>{let n=5+e;return t.runAttrHooks(!1,"randomTransform")&&(n*=1.5),`变形一个随机的目标，使其不再攻击，持续${0|n}秒。变形期间不能进行任何攻击或施法。受到任何伤害均会解除此效果。`},castTime:1e3,coolDown:1e4,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>e!==t.target&&t.willAttack(e)&&!1===e.runAttrHooks(!1,"transformed"))),effect(e,t,r){const i=e.units.filter((e=>e!==t.target&&t.willAttack(e)&&!1===e.runAttrHooks(!1,"transformed"))),a=i[Math.floor(Math.random()*i.length)];if(e.testDodge(t,a,this))return;let s="羊",l=5e3+1e3*r;t.runAttrHooks(!1,"randomTransform")&&(s=o[Math.floor(Math.random()*o.length)],l*=1.5),a.addBuff("transform",l,s,"transform"),n(t,"wind")}},{key:"fireShield",name:"烈焰护盾",group:"shield",element:"fire",maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,description:(e,t)=>`增加${0|10*(.2*e+1)}%暴击伤害，以及20%暴击几率`,coolDown:3e4,effect(e,t,r){const i=(.2*r+1)/10;t.addBuff("fireShield",6e4,i,"shield"),n(t,"fire")}},{key:"iceLance",name:"冰枪术",element:"ice",description:(e,t)=>{const{int:n}=t;return`对一个已被冻结的敌人造成${0|15*i(t.level)*(.01*n+1)*(.3*e+1)*t.dmgAdd}点冰霜伤害，并解除冻结效果`},coolDown:800,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e)&&e.runAttrHooks(!1,"freezed")&&e.coldAbsorb<1)),effect(e,t,o){const{critRate:a,critBonus:s,int:l=0}=t;let c,u=t.target&&t.target.coldAbsorb<.5&&t.target.runAttrHooks(!1,"freezed");if(t.target&&u?c=t.target:(c=e.units.find((e=>t.willAttack(e)&&e.runAttrHooks(!1,"freezed")&&e.coldAbsorb<.5)),u=c&&c.runAttrHooks(!1,"freezed")),!c)return;if(e.testDodge(t,c,this))return;const h=15*i(t.level)*(.01*l+1)*(.3*o+1)*t.dmgAdd,p=t.testCrit();e.sendDamage("cold",t,c,this,t.getCritBonus(p)*h,p),c.removeBuff(u),t.runAttrHooks(!1,"coldAir")&&r(c),n(t,"ice")}},{key:"awaking",name:"法力唤醒",element:"wind",description:(e,t)=>`在3秒内恢复${0|30+e}%法力值`,coolDown:(e,t)=>t.runAttrHooks(6e4,"awakingCoolDown"),maxExp:e=>e**2*100+300*e+200,shouldUse:(e,t,n)=>1-t.mp/t.maxMp>=.3+.01*n,effect(e,t,r){t.startRead("awaking",3e3,(.3+.01*r)*t.maxMp/3,this),n(t,"wind")}},{key:"counterSpelling",name:"法术反制",element:"wind",description:e=>"反制一个目标，打断其正在释放的技能，并阻止其5秒内释放相同的技能",coolDown:e=>1e4/(1+.1*e),maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&!e.reading.notBreakable))),effect(e,t,r){const i=e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&!e.reading.notBreakable)));e.sendSkillUsage(t,null,this),i.breakCasting(5e3),n(t,"wind")}},{key:"dragonFlame",name:"龙息术",element:"fire",maxExp:e=>e**2*200+600*e+500,coolDown:1e4,canUse:(e,t)=>!!t.target,description:(e,t)=>{const{int:n}=t;return`对最近的5个敌人造成${0|12*i(t.level)*(.01*n+1)*(.3*e+1)*t.dmgAdd}点伤害，并使它们眩晕${e/2+1}秒。`},effect(e,r,o){const{critRate:a,critBonus:s,int:l=0}=r,c=12*i(r.level)*(.01*l+1)*(.3*o+1)*r.dmgAdd;e.units.filter((e=>r.willAttack(e)&&e.fireAbsorb<1)).slice(0,4).forEach((n=>{if(e.testDodge(r,n,this))return;const i=r.testCrit();e.sendDamage("fire",r,n,this,r.getCritBonus(i)*c,i),n.stun(o/2+1),i&&t(r,n,r.getCritBonus(i)*c)})),n(r,"fire")}}]},7148:e=>{function t(e,t,n){if(e.buffs.find((e=>"soul_darkfire_buff"===e.group))){const r=t.buffs.find((e=>"darkfire_buff"===e.group));r?(r.arg+=n,console.log(r.arg),r.arg=Math.min(r.arg,3*e.atk*e.darkdmgAdd),r.resetTimer(3e3)):t.addBuff("darkfire_buff",3e3,n,"darkfire_buff")}}e.exports=[{key:"soulbringer_atk",name:"普通攻击",coolDown:1e3,description:(e,t)=>`对目标造成${Math.round((40+2*e)/100*t.atk)}-${Math.round((55+3*e)/100*t.atk)}点物理伤害，恢复1点法力。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:o=0,atk:a}=n;if(e.testDodge(n,i,this))return;const s=n.runAttrHooks(!1,"soulbringer_enhance3"),l=a*(.4+.02*r+Math.random()*(.15+.01*r)),c=n.testCrit();let u=0;s?(e.sendDamage("dark",n,i,this,n.getCritBonus(c)*l*1.5*n.darkdmgAdd,c),u+=.4,e.units.filter((e=>e!==i&&n.willAttack(e))).slice(0,2).forEach((i=>{if(e.testDodge(n,i,this))return;const o=a*(.8+.04*r+Math.random()*(.1+.01*r));u+=.4;const s=n.testCrit();e.sendDamage("dark",n,i,this,n.getCritBonus(s)*o*n.darkdmgAdd*1.5,s),t(n,i,n.atk*n.darkdmgAdd),i.runAttrHooks(n,"attacked")}))):(e.sendDamage("melee",n,i,this,n.getCritBonus(c)*l*n.dmgAdd,c),u+=1),t(n,i,n.atk*n.darkdmgAdd),o&&(n.hp+=o*u),n.mp+=1,i.rp+=i.rpOnAttacked,i.runAttrHooks(n,"attacked")}},{key:"onikiri",name:"鬼斩",coolDown:6e3,description:(e,t)=>`对目标造成${Math.round((110+5*e)/100*t.atk)}-${Math.round((135+7*e)/100*t.atk)}点暗属性伤害。`,cost:{mp:12},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:o}=t;if(e.testDodge(t,r,this))return;const a=t.runAttrHooks(1,"soulbringer_enhance2"),s=o*(1.1+.05*n+Math.random()*(.25+.02*n))*t.darkdmgAdd*a,l=t.testCrit();if(e.sendDamage("dark",t,r,this,t.getCritBonus(l)*s,l),a>1){const e=t.mp/t.maxMp;t.addBuff("soulbringer_enhance2_buff",4e3,n,"soulbringer_enhance2_buff"),t.mp=t.maxMp*e}i&&(t.hp+=i),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"soul_power",name:"鬼神·抛瓦",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),Math.round(t.maxHp_self*(10+.5*n)/100),`召唤鬼神·抛瓦的力量，持续25秒。\n\t\t\t鬼神·抛瓦：提高${50+2*e}点力量、智力。`},castTime:500,cost:{mp:25},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6");const i=t.mp/t.maxMp;t.addBuff("soul_power_buff",25e3,r,"soul_power_buff"),t.mp=t.maxMp*i}},{key:"moonlight_slash",name:"月光连斩",coolDown:4e3,description:(e,t)=>`快速斩击目标两次，每次造成${Math.round((60+4*e)/100*t.atk)}-${Math.round((75+5*e)/100*t.atk)}点暗伤害。`,cost:{mp:12},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:o}=t;if(e.testDodge(t,r,this))return;const a=o*(.6+.04*n+Math.random()*(.15+.01*n))*t.darkdmgAdd,s=t.testCrit();e.sendDamage("dark",t,r,this,t.getCritBonus(s)*a,s);const l=o*(.6+.04*n+Math.random()*(.15+.01*n))*t.darkdmgAdd,c=t.testCrit();e.sendDamage("dark",t,r,this,t.getCritBonus(c)*l,c),i&&(t.hp+=i),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"ghost_whip",name:"鬼影三击剑",description:(e,t)=>`对三个目标各刺出一剑，分别造成${Math.round((80+4*e)/100*t.atk)}-${Math.round((90+5*e)/100*t.atk)}点暗属性伤害。`,coolDown:8e3,cost:{mp:25},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i,leech:o}=t,a=r*(.8+.04*n+Math.random()*(.1+.01*n)),s=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(s)*a*t.darkdmgAdd,s);let l=.4;e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,2).forEach((i=>{if(e.testDodge(t,i,this))return;const o=r*(.8+.04*n+Math.random()*(.1+.01*n));l+=.4;const a=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(a)*o*t.darkdmgAdd,a),i.runAttrHooks(t,"attacked")})),o&&(t.hp+=o*l),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")}},{key:"soul_armor",name:"鬼神·铠甲",coolDown:15e3,notBreakable:!0,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·铠甲的力量，持续20秒。\n\t\t\t鬼神·铠甲：物理防御+${Math.round(t.def_self*(15+n/2)/100)},暗抗性+${Math.round(t.darkResist*(10+n/2)/100)}。`},castTime:500,cost:{mp:15},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_armor_buff",2e4,r,"soul_armor_buff"),t.runAttrHooks(!1,"soulbringer_enhance5")&&t.addBuff("soul_armor_buff2",2e4,r,"soul_armor_buff2")}},{key:"tombstone",name:"天降墓碑",coolDown:18e3,notBreakable:!0,description:(e,t)=>`每秒召唤一块墓碑，持续5秒。\n\t\t\t墓碑：墓碑入场时立即对所有目标造成${Math.round((80+2*e)/100*t.atk)}-${Math.round((90+3*e)/100*t.atk)}点暗属性伤害；自爆后再次对所有目标造成${Math.round((20+1*e)/100*t.atk)}-${Math.round((25+1*e)/100*t.atk)}点暗属性伤害`,cost:{mp:45},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){t.startRead("tombstonesummon_buff",5005,null,this)}},{key:"tombstone_boom",name:"自爆",description:"自爆",castTime:5e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.def,i=t.atk*(.2+.01*r+.05*Math.random())*t.darkdmgAdd,o=t.testCrit();e.sendDamage("dark",t,n,this,t.getCritBonus(o)*i,o),n.runAttrHooks(t,"attacked")}t.kill()}},{key:"soul_weak",name:"鬼神·虚弱",coolDown:25e3,notBreakable:!0,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·虚弱的力量，持续30秒。\n\t\t\t鬼神·虚弱：使所有目标受到的伤害提高${Math.round(200+6*n)/10}%。`},castTime:500,cost:{mp:25},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_weak_buff1",3e4,r,"soul_weak_buff1"),t.runAttrHooks(!1,"soulbringer_enhance4")&&t.addBuff("soul_weak_buff2",3e4,r,"soul_weak_buff2")}},{key:"ghost_fury",name:"鬼斩·裂地",description:(e,t)=>`对四个目标分别造成${Math.round((180+8*e)/100*t.atk)}-${Math.round((220+12*e)/100*t.atk)}点暗属性伤害。`,coolDown:2e4,cost:{mp:65},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i,leech:o}=t,a=r*(1.8+.08*n+Math.random()*(.4+.04*n)),s=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(s)*a*t.darkdmgAdd,s);let l=.4;e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,3).forEach((i=>{if(e.testDodge(t,i,this))return;const o=r*(1.8+.08*n+Math.random()*(.4+.04*n));l+=.4;const a=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(a)*o*t.darkdmgAdd,a),i.runAttrHooks(t,"attacked")})),o&&(t.hp+=o*l),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")}},{key:"soul_shadow",name:"鬼影瞬闪",coolDown:2e4,description:(e,t)=>`对目标造成${Math.round((230+10*e)/100*t.atk)}-${Math.round((280+15*e)/100*t.atk)}点暗属性伤害。\n\t\t\t若携带了被动技能“凭依”，则随机使目标停滞1-5秒。`,cost:{mp:70},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:o}=t;if(e.testDodge(t,r,this))return;const a=o*(2.3+.1*n+Math.random()*(.5+.05*n))*t.darkdmgAdd,s=t.testCrit();e.sendDamage("dark",t,r,this,t.getCritBonus(s)*a,s),t.runAttrHooks(0,"soulbringer_enhance3")&&r.addBuff("stop_buff",1+4*Math.round(),null,"stop_buff"),i&&(t.hp+=i),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"soul_ice",name:"鬼神·冰霜",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·冰霜的力量，持续10秒。\n\t\t\t鬼神·冰霜：每秒对所有目标造成${1+Math.round((10+.1*n)/100*t.atk)}-${1+Math.round((15+.2*n)/100*t.atk)}点寒冷伤害并使其获得“冰缓”效果，10%几率额外获得“冻结”效果。\n\t\t\t冰缓：减速20%，持续2秒。\n\t\t\t冻结：无法行动，持续1.5秒。`},castTime:500,cost:{mp:45},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_ice_buff",10005,r,"soul_ice_buff",maxStack=1,this)}},{key:"soul_poison",name:"鬼神·瘟疫",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·瘟疫的力量，持续10秒。\n\t\t\t鬼神·瘟疫：每秒对所有目标造成${1+Math.round((10+.1*n)/100*t.atk)}-${1+Math.round((15+.2*n)/100*t.atk)}点毒素伤害，20%几率使目标获得“中毒”效果。\n\t\t\t中毒：每3秒受到20%攻击力的毒素伤害，持续30秒，可叠加；受“中毒”效果影响的目标每损失1%生命值，“中毒”的伤害提高5%。`},castTime:500,cost:{mp:60},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_poison_buff",10005,r,"soul_poison_buff",maxStack=1,this)}},{key:"ghost_puncture",name:"鬼斩·穿刺",description:(e,t)=>`对五个目标分别造成${Math.round((330+20*e)/100*t.atk)}-${Math.round((420+30*e)/100*t.atk)}点暗属性伤害，并使目标停滞3秒。`,coolDown:35e3,cost:{mp:110},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i,leech:o}=t,a=r*(3.3+.2*n+Math.random()*(.9+.1*n)),s=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(s)*a*t.darkdmgAdd,s),i.addBuff("stop_buff",3e3,n,"stop_buff");let l=.4;e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,4).forEach((i=>{if(e.testDodge(t,i,this))return;const o=r*(3.3+.2*n+Math.random()*(.9+.1*n));l+=.4;const a=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(a)*o*t.darkdmgAdd,a),i.addBuff("stop_buff",3e3,n,"stop_buff"),i.runAttrHooks(t,"attacked")})),o&&(t.hp+=o*l),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")}},{key:"soul_darkfire",name:"鬼神·冥炎",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·冥炎的力量，持续${Math.round(100+2*n)/10}秒。\n\t\t\t鬼神·冥炎：普通攻击命中目标时，为目标添加“冥炎”效果。\n\t\t\t冥炎：每秒受到100%攻击力的暗属性伤害，持续3秒，最多叠加3次。`},castTime:500,cost:{mp:120},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_darkfire_buff",10005+200*r,null,"soul_darkfire_buff",maxStack=1,this)}},{key:"tombstoneplus",name:"坟头蹦迪",coolDown:4e4,notBreakable:!0,description:(e,t)=>(Math.round((400+40*e)/100*t.atk),Math.round((500+50*e)/100*t.atk),"召唤一个坟头上场。\n\t\t\t坟头：携带“蹦迪”、“自爆”技能。"),cost:{mp:150},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!e.units.find((e=>"summon_tombstoneplus"===e.type)),effect(e,t,n){e.addEnemy("summon_tombstoneplus",null,0,t,this)}},{key:"tombstoneplus_skill1",name:"蹦迪",castTime:1e3,coolDown:100,canUse:(e,t)=>!!t.target,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e))))t.target.target=t}},{key:"tombstoneplus_skill2",name:"自爆",description:"自爆",castTime:1e4,coolDown:3e4,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.def,i=t.atk*(4+.4*r+Math.random()*(1+.5*r))*t.darkdmgAdd,o=t.testCrit();e.sendDamage("dark",t,n,this,t.getCritBonus(o)*i,o),n.runAttrHooks(t,"attacked")}t.kill()}},{key:"ghost_pidi",name:"鬼斩·辟地",description:(e,t)=>`对六个目标分别造成${Math.round((200+10*e)/100*t.atk)}-${Math.round((220+20*e)/100*t.atk)}点暗属性伤害，并为目标添加“冥炎”效果。\n\t\t\t冥炎：每秒受到100%攻击力的暗属性伤害，持续3秒，最多叠加3次。`,coolDown:12e3,cost:{mp:90},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,n,r){const{atk:i,target:o,leech:a}=n,s=i*(2+.1*r+Math.random()*(.2+.1*r)),l=n.testCrit();e.sendDamage("dark",n,o,this,n.getCritBonus(l)*s*n.darkdmgAdd,l),t(n,o,n.atk*n.darkdmgAdd);let c=.4;e.units.filter((e=>e!==o&&n.willAttack(e))).slice(0,4).forEach((o=>{if(e.testDodge(n,o,this))return;const a=i*(3.3+.2*r+Math.random()*(.9+.1*r));c+=.4;const s=n.testCrit();e.sendDamage("dark",n,o,this,n.getCritBonus(s)*a*n.darkdmgAdd,s),t(n,o,n.atk*n.darkdmgAdd),o.runAttrHooks(n,"attacked")})),a&&(n.hp+=a*c),o.rp+=o.rpOnAttacked,o.runAttrHooks(n,"attacked")}},{key:"dark_jige",name:"吉哥降临",coolDown:2e4,castTime:5e3,description:(e,t)=>(Math.round((400+40*e)/100*t.atk),Math.round((500+50*e)/100*t.atk),"召唤神官吉哥上场。\n\t\t\t吉哥：携带“鬼斩”、“天降墓碑”、“自爆”技能。"),cost:{mp:450},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!e.units.find((e=>"summon_jige"===e.type)),effect(e,t,n){e.addEnemy("summon_jige",null,0,t,this)}},{key:"jige_atk",name:"普通攻击",coolDown:1e3,description:(e,t)=>(Math.round((40+2*e)/100*t.atk),Math.round((55+3*e)/100*t.atk),"吉哥普攻。"),maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i,leech:o}=t,a=r*(.4+.02*n+Math.random()*(.15+.01*n)),s=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(s)*a*t.darkdmgAdd,s);let l=.4;e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,2).forEach((i=>{if(e.testDodge(t,i,this))return;const o=r*(.4+.2*n+Math.random()*(.15+.1*n));l+=.4;const a=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(a)*o*t.darkdmgAdd,a),i.runAttrHooks(t,"attacked")})),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")}},{key:"soul_iceplus",name:"鬼神·冰晶",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·冰晶的力量，持续10秒。\n\t\t\t鬼神·冰晶：每0.5秒对所有目标造成${1+Math.round((5+1*e)/100*t.atk)}-${1+Math.round((10+2*e)/100*t.atk)}点寒冷伤害并使其获得“冰缓”效果，20%几率额外获得“冻结”效果。\n\t\t\t冰缓：减速20%，持续5秒。\n\t\t\t冻结：无法行动，持续2秒。`},castTime:500,cost:{mp:200},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_iceplus_buff",10005,r,"soul_iceplus_buff",maxStack=1,this)}},{key:"soul_7",name:"鬼神·鱼头",coolDown:35e3,castTime:3e3,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤第八鬼神·鱼头对所有目标发起一次攻击，造成${Math.round((1850+180*n)/100*t.atk)}-${Math.round((2350+300*n)/100*t.atk)}点暗属性伤害。\n\t\t\t第八鬼神·鱼头会吞噬在场所有其他鬼神的力量，增加（吞噬数量立方数）倍数的伤害。`},cost:{mp:1250},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:o}=t;if(e.testDodge(t,r,this))return;let a=n;a+=t.runAttrHooks(0,"soulbringer_enhance6");let s=0;const l=t.buffs.find((e=>"soul_power_buff"===e.group));l&&(s+=1,t.removeBuff(l));const c=t.buffs.find((e=>"soul_armor_buff"===e.group));c&&(s+=1,t.removeBuff(c));const u=t.buffs.find((e=>"soul_armor_buff2"===e.group));u&&t.removeBuff(u);const h=t.buffs.find((e=>"soul_weak_buff1"===e.group));h&&(s+=1,t.removeBuff(h));const p=t.buffs.find((e=>"soul_weak_buff2"===e.group));p&&t.removeBuff(p);const d=t.buffs.find((e=>"soul_ice_buff"===e.group));d&&(s+=1,t.removeBuff(d));const f=t.buffs.find((e=>"soul_darkfire_buff"===e.group));f&&(s+=1,t.removeBuff(f));const m=t.buffs.find((e=>"soul_poison_buff"===e.group));m&&(s+=1,t.removeBuff(m));const g=t.buffs.find((e=>"soul_iceplus_buff"===e.group));g&&(s+=1,t.removeBuff(g));for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.atk*(18.5+1.8*a+Math.random()*(23.5+3*a))*t.darkdmgAdd*(1+s*s*s),i=t.testCrit();e.sendDamage("dark",t,n,this,t.getCritBonus(i)*r,i)}r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}}]},4012:e=>{function t(e,t,n){const r=t.buffs.find((e=>"fire_buff"===e.group));r?(r.arg+=n,r.resetTimer(15e3)):t.addBuff("fire_buff",15e3,n,"fire_buff")}e.exports=[{key:"warrior_atk",name:"普通攻击",group:"1",coolDown:1500,description:(e,t)=>`毫无章法的一击。\n\t\t\t对目标造成${Math.round((45+4*e)/100*t.atk)}-${Math.round((60+6*e)/100*t.atk)}点（${Math.round(45+4*e)}%-${Math.round(60+6*e)}%攻击力）物理伤害，获得5点怒气。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:o}=t;if(e.testDodge(t,r,this))return;const a=o*(.45+.04*n+Math.random()*(.15+.02*n))*t.dmgAdd,s=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(s)*a,s),i&&(t.hp+=i),t.rp+=5,r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"thump",group:"thump",name:"重击",description:(e,t)=>`这是，赌上自身体重的一击！\n\t\t\t对目标造成${Math.round((80+8*e)/100*t.atk)}-${Math.round((130+12*e)/100*t.atk)}点（${Math.round(80+8*e)}%-${Math.round(130+12*e)}%攻击力）物理伤害，消耗25点怒气。`,cost:{rp:25},coolDown:1e3,castTime:500,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,leech:o=0}=t;if(e.testDodge(t,r,this))return;const a=i*(.8+.08*n+Math.random()*(.5+.04*n))*t.dmgAdd,s=t.testCrit();if(e.sendDamage("melee",t,r,this,t.getCritBonus(s)*a,s),t.runAttrHooks(!1,"kklf_love")&&Math.random()<=.4){const o=i*(.8+.08*n+Math.random()*(.5+.04*n))*t.firedmgAdd*.5,a=t.testCrit();e.sendDamage("fire",t,r,this,t.getCritBonus(a)*o,a)}o&&(t.hp+=o),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"save_oneself",name:"包扎伤口",description:(e,t)=>{const n=t.runAttrHooks(1,"lv15_warrior_enhance1_time");return`你确定纱布已经消毒了吗？\n\t\t\t恢复${Math.round(.05*t.maxHp+5*e)*n}点生命值。`},maxExp:e=>e**2*200+600*e+400,castTime:1e3,coolDown:(e,t,n)=>8e3*t.runAttrHooks(1,"defring"),effect(e,t,n){const r=t.runAttrHooks(1,"lv15_warrior_enhance1_time"),i=Math.round(.05*t.maxHp+5*n)*r;e.sendHeal(t,t,this,i)}},{key:"fury_cutter",name:"斩击",group:"1",coolDown:1500,description:(e,t)=>`挥剑！\n\t\t\t对目标造成${Math.round((70+6*e)/100*t.atk)}-${Math.round((100+8*e)/100*t.atk)}点（${Math.round(70+6*e)}%-${Math.round(100+8*e)}%攻击力）物理伤害，获得5点怒气。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:o}=t;if(e.testDodge(t,r,this))return;const a=o*(.7+.06*n+Math.random()*(.3+.02*n)),s=t.testCrit(),l=t.buffs.find((e=>"element_fire_buff"===e.group)),c=t.runAttrHooks(!1,"lv80_warrior1_enhance3_time"),u=t.runAttrHooks(!1,"lv80_warrior1_enhance5_time");if(l){const n=l.arg;if(e.sendDamage("fire",t,r,this,t.getCritBonus(s)*a*n*t.firedmgAdd,s),u){for(const e of t.skills)"炎龙吐息"==e.name&&e.reduceCoolDown(1e3);t.rp+=2}c||t.removeBuff(l)}else e.sendDamage("melee",t,r,this,t.getCritBonus(s)*a*t.dmgAdd,s);t.runAttrHooks(!1,"lv35_warrior1_enhance1_time")&&Math.random()<=.2&&(t.runAttrHooks(!1,"lv80_warrior2_enhance3_time")?t.useExtraSkill("fury_cutter"):e.sendDamage("melee",null,r,"剑花",t.getCritBonus(s)*a*.8*t.dmgAdd,s));const h=t.buffs.find((e=>"fury_cutter_time_buff"===e.group));h&&(h.arg+=200),i&&(t.hp+=i),t.rp+=5,r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"whirlwind",name:"旋风斩",description:(e,t)=>`转！转！转！\n\t\t\t对最多五个目标分别造成${Math.round((80+3*e)/100*t.atk)}-${Math.round((110+5*e)/100*t.atk)}点（${Math.round(80+3*e)}%-${Math.round(110+5*e)}%攻击力）物理伤害，每命中一个目标将获得3点怒气。`,coolDown:5e3,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,n,r){const{atk:i,target:o,leech:a}=n;let s=0;const l=n.buffs.find((e=>"element_fire2_buff"===e.group)),c=n.runAttrHooks(!1,"lv80_warrior1_enhance3_time");l&&(s+=1,c||n.removeBuff(l));const u=i*(.8+.03*r+Math.random()*(.3+.02*r)),h=n.testCrit();1==s?(e.sendDamage("fire",n,o,this,n.getCritBonus(h)*u*n.firedmgAdd,h),t(0,o,.2*n.atk*n.firedmgAdd)):e.sendDamage("melee",n,o,this,n.getCritBonus(h)*u*n.dmgAdd,h);let p=.4;e.units.filter((e=>e!==o&&n.willAttack(e))).slice(0,4).forEach((o=>{if(e.testDodge(n,o,this))return;const a=i*(.8+.03*r+Math.random()*(.3+.02*r));p+=.4;const l=n.testCrit();1==s?(e.sendDamage("fire",n,o,this,n.getCritBonus(l)*a*n.firedmgAdd,l),t(0,o,.2*n.atk*n.firedmgAdd)):e.sendDamage("melee",n,o,this,n.getCritBonus(l)*a*n.dmgAdd,l),n.rp+=3,o.runAttrHooks(n,"attacked")})),a&&(n.hp+=a*p),n.rp+=3,o.rp+=o.rpOnAttacked,o.runAttrHooks(n,"attacked")}},{key:"warrior_hp",name:"气血激增",coolDown:3e4,description:(e,t)=>{const n=t.runAttrHooks(1,"lv35_warrior2_enhance1_time");return`吃一口人参。\n\t\t\t生命值上限+${Math.round(t.maxHp_self*(10+.5*e)/100)*n}，持续30秒。`},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=t.hp/t.maxHp,i=t.runAttrHooks(1,"lv35_warrior2_enhance1_time"),o=t.maxHp_self*(10+.5*n)/100*i;t.addBuff("warrior_hp_buff",29999,o,"warrior_hp_buff"),t.hp=t.maxHp*r}},{key:"warrior_def",name:"钢铁之躯",coolDown:3e4,description:(e,t)=>{const n=t.runAttrHooks(1,"lv35_warrior2_enhance2_time");return`梆硬！\n\t\t\t物理防御+${Math.round(t.def_self*(15+e/2)/100)*n}，持续30秒。`},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=t.runAttrHooks(1,"lv35_warrior2_enhance2_time"),i=t.def_self*(15+n/2)/100*r;t.addBuff("warrior_def_buff",29999,i,"warrior_def_buff"),t.runAttrHooks(!1,"lv15_warrior_enhance3_time")&&t.addBuff("warrior_res_buff",29999,i,"warrior_res_buff")}},{key:"hamstring",name:"断筋",description:(e,t)=>`我叫你瞄准的是敌人的心脏，你在做什么？\n\t\t\t对目标造成${Math.round((30+1*e)/100*t.atk)}-${Math.round((35+2*e)/100*t.atk)}点（${Math.round(30+1*e)}%-${Math.round(35+2*e)}%攻击力）物理伤害并使其减速30%，持续4秒。`,coolDown:9e3,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:o}=t;if(e.testDodge(t,r,this))return;const a=o*(.3+.01*n+Math.random()*(.05+.01*n))*t.dmgAdd,s=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(s)*a,s);const l=t.runAttrHooks(.7,"lv35_warrior2_enhance3_time");r.addBuff("hamstring_buff",4e3,l,"hamstring_buff"),t.runAttrHooks(!1,"lv35_warrior1_enhance2_time")&&r.addBuff("kedi_buff",4e3,null,"kedi_buff"),i&&(t.hp+=i),r.runAttrHooks(t,"attacked")}},{key:"element_fire",name:"元素附魔·火",description:e=>`fire in the hole!\n\t\t\t借助火焰的力量，使下一个“斩击”变为火焰伤害，且伤害+${Math.round(250+5*e)/10}%。`,coolDown:6e3,castTime:500,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=Math.round(1250+5*n)/1e3;t.addBuff("element_fire_buff",1e4,r,"element_fire_buff"),t.runAttrHooks(!1,"lv35_warrior1_enhance3_time")&&t.addBuff("element_fire2_buff",1e4,null,"element_fire2_buff")}},{key:"white_heat",name:"白热化",coolDown:2e4,description:e=>`你的武器开始变得有点烫手。\n\t\t\t急速+${Math.round(10*(10+.2*e))/10}%，持续5秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=Math.round(10*(10+.2*n))/1e3;t.addBuff("white_heat_buff",5e3,r,"white_heat_buff")}},{key:"fury_cutter_plus",name:"重斩",description:(e,t)=>`这一剑力度之大，以至于连你都见到了对岸的奶奶在招手。\n\t\t\t对目标造成${Math.round((250+12*e)/100*t.atk)}-${Math.round((350+24*e)/100*t.atk)}点（${Math.round(250+12*e)}%-${Math.round(350+24*e)}%攻击力）物理伤害，消耗40点怒气。`,cost:{rp:40},castTime:1e3,coolDown:500,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,leech:o=0}=t;if(e.testDodge(t,r,this))return;let a=1;t.runAttrHooks(!1,"lv80_warrior1_enhance4_time")&&(a+=.005*t.rp);const s=i*(2.5+.12*n+Math.random()*(1+.12*n))*t.dmgAdd*a,l=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(l)*s,l),t.runAttrHooks(!1,"lv80_warrior1_enhance1_time")&&r.addBuff("lv80_warrior1_enhance1_buff",12e3,null,"lv80_warrior1_enhance1_buff"),t.runAttrHooks(!1,"lv80_warrior2_enhance1_time")&&Math.random()<=.5&&t.useExtraSkill("fury_cutter"),o&&(t.hp+=o),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"block",name:"格挡姿态",coolDown:2e4,description:e=>`你的武器已经磕了好几个口了！\n\t\t\t受到攻击时有15%的几率进行格挡，成功格挡后将使本次伤害减少50%，持续${Math.round(100+2*e)/10}秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=100*Math.round(100+2*n),i=t.runAttrHooks(!1,"lv80_warrior1_enhance2_time"),o=t.runAttrHooks(!1,"lv80_warrior2_enhance2_time");i?t.addBuff("block2_buff",r,null,"block2_buff"):o?t.addBuff("block3_buff",r,null,"block3_buff"):t.addBuff("block_buff",r,null,"block_buff")}},{key:"flame_armor",name:"炎铠",description:e=>`尝尝这黑色的火焰吧！\n\t\t  每秒为所有目标添加一层“灼烧”效果，持续${(10+.2*e).toFixed(1)}秒。\n\t\t  受到伤害时将额外为伤害来源添加一层“灼烧效果。\n\t\t  灼烧：每3秒受到20%攻击力的火焰伤害，持续15秒，可叠加。`,maxExp:e=>e**2*100+300*e+200,castTime:1500,coolDown:2e4,effect(e,t,n){t.addBuff("flame_armor_buff",1e4+200*n,.2*t.atk*t.firedmgAdd,"flame_armor_buff"),t.addBuff("flame_armor_buff2",1e4+200*n,.2*t.atk*t.firedmgAdd,"flame_armor_buff2")}},{key:"dragon_breath",name:"炎龙吐息",description:(e,t)=>`这场面，就像是深秋的时候你在山上放了一把火。\n\t  \t\t对所有目标造成${Math.round((450+30*e)/100*t.atk)}-${Math.round((700+50*e)/100*t.atk)}点（${Math.round(450+30*e)}%-${Math.round(700+50*e)}%攻击力）火焰伤害。\n\t\t\t终结技：消耗自身所有怒气，每消耗1点怒气提升0.5%伤害。`,castTime:4e3,coolDown:6e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=e.units.filter((e=>t.willAttack(e))),{critRate:i=0,critBonus:o=1.5,leech:a}=t;a&&(t.hp+=a);const s=t.runAttrHooks(!1,"lv80_warrior1_enhance4_time");let l=1;s&&(l+=.01*t.rp),l+=.005*t.rp,t.rp=0,r.forEach((r=>{if(e.testDodge(t,r,this))return;const i=t.atk*(4.5+.3*n+Math.random()*(2.5+.2*n))*t.firedmgAdd*l,o=t.testCrit();e.sendDamage("fire",t,r,this,t.getCritBonus(o)*i,o),r.runAttrHooks(t,"attacked")}))}},{key:"fury_cutter_time",name:"连斩姿态",description:e=>`剑即正义！\n\t\t\t进入“连斩姿态”，每次释放“斩击”提高200点物理攻击，持续${Math.round(50+e)/10}秒。`,maxExp:e=>e**2*100+300*e+200,castTime:1e3,coolDown:35e3,effect(e,t,n){const r=5e3+100*n;if(t.addBuff("fury_cutter_time_buff",r,0,"fury_cutter_time_buff"),t.runAttrHooks(!1,"lv80_warrior2_enhance5_time"))for(const e of t.skills)"吴迪斩"==e.name&&e.reduceCoolDown(1e5)}},{key:"omnislash",name:"吴迪斩",coolDown:45e3,notBreakable:!0,description:(e,t)=>`众所周知，吴迪斩和无敌斩并不是同一个技能。\n\t\t\t精湛的剑技，每0.5秒对目标释放一次“斩击”，持续8秒。\n\t\t\t技能持续期间，自身受到的伤害减少${Math.round(30+e)}%。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=1-Math.round(30+n)/100;t.addBuff("omnislash_buff2",8005,r,"omnislash_buff2"),t.startRead("omnislash_buff",8005,null,this)}},{key:"shield_charge",name:"盾冲",description:(e,t)=>`持盾冲击目标，造成${Math.round((100+e)/100*t.atk+t.def*(.05+.001*e)*2)}-${Math.round((130+2*e)/100*t.atk+t.def*(.05+.001*e)*2)}点（${Math.round(100+e)}%-${Math.round(130+2*e)}%攻击力+${Math.round(50+1*e)/10*2}%物理防御）物理伤害，并使目标昏迷3秒。`,coolDown:12e3,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,def:o,leech:a=0}=t;if(e.testDodge(t,r,this))return;const s=(i*(1+.01*n+Math.random()*(.3+.01*n))+o*(.05+.001*n)*2)*t.dmgAdd,l=t.testCrit(),c=t.runAttrHooks(3e3,"lv35_warrior2_enhance6_time");r.breakCasting(),r.addBuff("stunned",c,null,"stunned"),e.sendDamage("melee",t,r,this,t.getCritBonus(l)*s,l),a&&(t.hp+=a),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"defensive_stance",name:"防御姿态",coolDown:2e4,description:e=>`你看这盾，那是又大又圆，又白。\n\t\t\t受到攻击时有25%的几率用盾牌进行防御，成功防御后将使本次伤害降低至1点，持续${Math.round(100+2*e)/10}秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=100*Math.round(100+2*n),i=t.runAttrHooks(!1,"lv80_warrior1_enhance2_time"),o=t.runAttrHooks(!1,"lv80_warrior2_enhance2_time"),a=t.runAttrHooks(!1,"lv80_warrior2_enhance2_time");i?t.addBuff("defensive4_buff",r,null,"defensive4_buff"):o?t.addBuff("defensive3_buff",r,null,"defensive3_buff"):a?t.addBuff("defensive2_buff",r,null,"defensive2_buff"):t.addBuff("defensive1_buff",r,null,"defensive1_buff")}},{key:"first_aid",name:"急救",description:(e,t)=>`苟...苟...苟住！\n\t\t\t\t恢复${Math.round(t.maxHp*(.5+.01*e))}点生命值，只会生命值小于40%时释放。`,castTime:3e3,coolDown:(e,t,n)=>4e4*t.runAttrHooks(1,"defring"),maxExp:e=>e**2*100+300*e+200,shouldUse:(e,t)=>t.hp<=t.maxHp/2.5,effect(e,t,n){e.sendHeal(t,t,this,t.maxHp*(.5+.01*n))}},{key:"guardian",name:"守护者之魂",coolDown:2e4,description:(e,t)=>`愿大...守护者护佑着你。\n\t\t\t召唤守护者之魂，持续30秒。期间每次受到攻击将获得一层“护佑”效果，最多叠加20层。\n\t\t\t叠加至20层后，再次召唤守护者之魂时将消耗所有“护佑”效果，并对所有目标造成${Math.round((150+4*e)/100*t.def/10)}-${Math.round((200+5*e)/100*t.def/10)}点（${Math.round((150+4*e)/10)}%-${Math.round((200+5*e)/10)}%物理防御）魔法伤害。\n\t\t\t护佑：物理防御+2%，元素抗性+2%。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=t.buffs.find((e=>"Blessing_buff"===e.group));r&&20===r.arg&&(e.units.filter((e=>t.willAttack(e))).forEach((r=>{if(e.testDodge(t,r,this))return;const i=t.def*(1.5+.04*n+Math.random()*(.5+.05*n))/10,o=t.testCrit();e.sendDamage("magic",t,r,this,t.getCritBonus(o)*i,o)})),t.removeBuff(r)),t.addBuff("guardian_buff1",3e4,null,"guardian_buff1"),t.addBuff("guardian_buff2",null,n,"guardian_buff2")}},{key:"zheshe_skill",name:"折射",description:"荆棘",coolDown:2e3,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,int:i}=t,o=2*i||1,a=t.testCrit();e.sendDamage("magic",t,r,this,t.getCritBonus(a)*o,a)}},{key:"jingji_skill_pro",name:"荆棘",description:"荆棘",coolDown:2e3,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,def:i}=t;e.units.filter((e=>t.willAttack(e))).forEach((n=>{const r=.1*t.def,i=t.testCrit();e.sendDamage("real",null,n,"荆棘",t.getCritBonus(i)*r,i)}))}},{key:"infinite_justice",name:"无限正义之剑",description:(e,t)=>`你还是觉得盾牌会比长剑更加顺手。\n\t\t\t对目标造成${Math.round((200+5*e)/100*t.atk+t.def*(.1+.002*e)*2)}-${Math.round((300+10*e)/100*t.atk+t.def*(.1+.002*e)*2)}点（${Math.round(200+5*e)}%-${Math.round(300+10*e)}%攻击力+${Math.round(100+2*e)/10*2}%物理防御）物理伤害。`,coolDown:2e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,def:i,atk:o,leech:a=0}=t;if(e.testDodge(t,r,this))return;const s=o*(2+.05*n+Math.random()*(1+.1*n))*t.dmgAdd+i*(.1+.002*n)*t.dmgAdd*2,l=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(l)*s,l),a&&(t.hp+=a),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"hacking",name:"劈砍",group:"1",coolDown:1500,description:(e,t)=>`挥刀！\n\t\t\t对目标造成${Math.round((80+7*e)/100*t.atk)}-${Math.round((120+9*e)/100*t.atk)}点（${Math.round(80+7*e)}%-${Math.round(120+9*e)}%攻击力）物理伤害，获得5点怒气。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:o}=t;if(e.testDodge(t,r,this))return;const a=t.runAttrHooks(1,"lv80_warrior5_enhance1_time");1!==a&&(t.hp=Math.max(.95*t.hp,1));const s=t.runAttrHooks(!1,"lv80_warrior8_enhance2_time"),l=t.runAttrHooks(!1,"lv80_warrior8_enhance1_2_time"),c=t.runAttrHooks(!1,"lv80_warrior8_enhance1time");let u=t.runAttrHooks(2,"lv80_warrior8_enhance3_2_time"),h=t.runAttrHooks(2,"lv80_warrior8_enhance3_time");const p=o*(.8+.07*n+Math.random()*(.4+.02*n))*a,d=t.testCrit(),f=t.buffs.find((e=>"element_fire_buff"===e.group)),m=t.runAttrHooks(!1,"lv80_warrior1_enhance3_time");if(f){const n=f.arg;let i=1;Math.random()<.5?(s&&(i-=.7,c&&r.addBuff("yaori_buff",null,null),e.sendDamage("fire",t,r,this,t.getCritBonus(d)*p*n*t.firedmgAdd*i,d),t.fp+=h),l&&r.addBuff("bingning_buff",null,null),e.sendDamage("cold",t,r,this,t.getCritBonus(d)*p*n*t.colddmgAdd*i,d),t.cp+=u):(s&&(i-=.7,l&&r.addBuff("bingning_buff",null,null),e.sendDamage("cold",t,r,this,t.getCritBonus(d)*p*n*t.colddmgAdd*i,d),t.cp+=u),c&&r.addBuff("yaori_buff",null,null),e.sendDamage("fire",t,r,this,t.getCritBonus(d)*p*n*t.firedmgAdd*i,d),t.fp+=h),m||t.removeBuff(f)}else e.sendDamage("melee",t,r,this,t.getCritBonus(d)*p*t.dmgAdd,d);i&&(t.hp+=i),t.rp+=5,r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"sunder_armor",name:"破甲击",description:(e,t)=>{const n=Math.round((150+3*e)/100*t.atk),r=Math.round((180+4*e)/100*t.atk);return t.runAttrHooks(0,"lv35_warrior5_enhance3_time"),`敌羞！吾去脱......追他一击！\n\t\t\t击破目标的护甲，对其造成${n}-${r}点（${Math.round(150+3*e)}%-${Math.round(180+4*e)}%攻击力）物理伤害并获得“碎甲”效果，持续5秒。\n\t\t\t碎甲：受到的伤害提高30%。`},coolDown:1e4,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:o}=t;if(e.testDodge(t,r,this))return;const a=o*(1.5+.03*n+Math.random()*(.3+.01*n))*t.dmgAdd,s=1.3+t.runAttrHooks(0,"lv35_warrior5_enhance3_time"),l=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(l)*a,l),r.addBuff("sunder_armor_buff",5e3,s,"sunder_armor_buff"),i&&(t.hp+=i),r.runAttrHooks(t,"attacked")}},{key:"shield_wall",name:"血甲缚",maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map,description:(e,t)=>{const n=t.runAttrHooks(1,"zwww_hjl"),r=Math.round(.1*t.maxHp+.25*t.sta*e)*n,i=Math.round(Math.min(r,t.maxHp));return`突然之间你觉得身体一虚，紧接着又全身一紧。\n\t\t  消耗${Math.round(100+1*e)/10}%的当前生命值（至少保留1点生命值），并按照一定的比例将其转化为护盾，护盾的吸收量不能超过自身生命值上限。\n\t      护盾：可吸收${i}点伤害，持续30秒。`},coolDown:(e,t,n)=>15e3-3e3*t.runAttrHooks(0,"zwww_cd"),effect(e,t,n){const r=t.runAttrHooks(1,"lv80_warrior5_enhance5_time");2===r&&(t.hp=1);const i=Math.round(.1*t.maxHp+.25*t.sta*n),o=Math.min(i,t.maxHp)*r,a=1-Math.round(100+1*n)/1e3;t.addBuff("shield_wall_buff",3e4,o,"shield_wall_buff"),t.hp=Math.max(t.hp*a,1)}},{key:"element_cold_fire",name:"元素附魔·冰&火",description:e=>`让我尝尝冰火两重天的滋味。\n\t\t\t借助魔法的力量，使下一个“劈砍”随机变为寒冷或者火焰伤害，且伤害+${Math.round(250+5*e)/10}%。`,coolDown:6e3,castTime:500,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=Math.round(1250+5*n)/1e3;t.addBuff("element_fire_buff",1e4,r,"element_fire_buff"),t.runAttrHooks(!1,"lv35_warrior1_enhance3_time")&&t.addBuff("element_fire2_buff",1e4,null,"element_fire2_buff")}},{key:"fanatical",name:"狂热",coolDown:2e4,description:(e,t)=>`你的精神开始变得有点不太稳定。\n\t\t\t攻击力+${Math.round((.1+.02*e)*t.atk_self)}，持续10秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=(.1+.02*n)*t.atk_self;t.addBuff("fanatical_buff",1e4,r,"fanatical_buff"),t.runAttrHooks(1,"lv80_warrior5_enhance2_time")&&(defup2=(t.maxHp-t.hp)/100,t.addBuff("fanatical_buff2",1e4,defup2,"fanatical_buff2"))}},{key:"hacking_plus_double",name:"致命劈砍",coolDown:4e3,castTime:1e3,cost:{rp:40},description:(e,t)=>`左右开弓！。\n\t\t\t消耗40点怒气，蓄力1秒后对所有目标发起2次大范围的劈砍，每次造成${Math.round((100+7*e)/100*t.atk)}-${Math.round((140+10*e)/100*t.atk)}点（${Math.round(100+7*e)}%-${Math.round(140+10*e)}%攻击力）物理伤害。`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i}=t,o=t.runAttrHooks(1,"lv80_warrior5_enhance1_time");1!==o&&(t.hp=Math.max(.9*t.hp,1));const a=t.atk*(1+.07*n+Math.random()*(.4+.03*n))*o,s=t.atk*(1+.07*n+Math.random()*(.4+.03*n))*o,l=e.units.filter((e=>t.willAttack(e)));i&&(t.hp+=i),l.forEach((n=>{if(e.testDodge(t,n,this))return;const r=a*t.dmgAdd,i=s*t.dmgAdd,o=t.testCrit(),l=t.testCrit();e.sendDamage("melee",t,n,this,t.getCritBonus(o)*r,o),e.sendDamage("melee",t,n,this,t.getCritBonus(l)*i,l),n.runAttrHooks(t,"attacked")}))}},{key:"ghost_shuffle",name:"鬼步",coolDown:25e3,description:(e,t)=>`摩擦~~摩擦~~\n\t\t\t根据已损失的生命值，自身闪避值提高${Math.round(t.maxHp-t.hp)}点，持续${Math.round(50+e)/10}秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=5005+100*n;t.addBuff("ghost_shuffle_buff",r,null,"ghost_shuffle_buff")}},{key:"hacking_time",name:"血魔乱舞",coolDown:e=>45e3-300*e,description:(e,t)=>(Math.round(30+e),"你对着空气一顿乱切。\n\t\t\t精湛的刀法，每秒对所有目标释放一次“致命劈砍”，持续5秒。"),maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){t.startRead("hacking_time_buff",5005,null,this)}},{key:"warrior_deadline",name:"末日",coolDown:5e3,castTime:500,description:(e,t)=>{const n=Math.round((250+12*e)/100*t.atk),r=Math.round((350+24*e)/100*t.atk);return`这次轮到你来拯救世界了噢。\n\t\t\t在冰能或者火能达到100点时方可释放，消耗不同的能量将产生不同的效果，优先消耗火能。\n\t\t\t消耗火能：对所有目标造成${n}-${r}点火焰伤害。\n\t\t\t消耗冰能：对目标攻击三次，每次造成${1.5*n}-${1.5*r}点寒冷伤害。\n\t\t\t不论是否携带技能，劈砍造成火焰或寒冷伤害时，将获得对应的2点能量。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target&&(100===t.cp||100===t.fp),effect(e,t,n){const{target:r,leech:i}=t,o=t.runAttrHooks(!1,"lv80_warrior8_enhance4_time"),a=t.atk*(2.5+.12*n+Math.random()*(1+.12*n))*t.firedmgAdd,s=t.atk*(2.5+.12*n+Math.random()*(1+.12*n))*t.colddmgAdd*1.5,l=t.atk*(2.5+.12*n+Math.random()*(1+.12*n))*t.colddmgAdd*1.5,c=t.atk*(2.5+.12*n+Math.random()*(1+.12*n))*t.colddmgAdd*1.5,u=e.units.filter((e=>t.willAttack(e)));if(100===t.fp){const n=t.buffs.find((e=>"energy_fire_buff"===e.group));let i=1;if(n&&(i+=.3,t.removeBuff(n)),u.forEach((n=>{const r=t.testCrit();e.sendDamage("fire",t,n,this,t.getCritBonus(r)*a*i,r),n.runAttrHooks(t,"attacked")})),o){const n=t.buffs.find((e=>"energy_cold_buff"===e.group));let i=1;n&&(i+=.3,t.removeBuff(n));const o=t.testCrit(),a=t.testCrit(),u=t.testCrit();e.sendDamage("cold",t,r,this,t.getCritBonus(o)*s*i,o),e.sendDamage("cold",t,r,this,t.getCritBonus(a)*l*i,a),e.sendDamage("cold",t,r,this,t.getCritBonus(u)*c*i,u),r.runAttrHooks(t,"attacked")}t.fp=0}else if(100===t.cp){const n=t.buffs.find((e=>"energy_cold_buff"===e.group));let i=1;n&&(i+=.3,t.removeBuff(n));const h=t.testCrit(),p=t.testCrit(),d=t.testCrit();if(e.sendDamage("cold",t,r,this,t.getCritBonus(h)*s*i,h),e.sendDamage("cold",t,r,this,t.getCritBonus(p)*l*i,p),e.sendDamage("cold",t,r,this,t.getCritBonus(d)*c*i,d),r.runAttrHooks(t,"attacked"),o){const n=t.buffs.find((e=>"energy_fire_buff"===e.group));let r=1;n&&(r+=.3,t.removeBuff(n)),u.forEach((n=>{const i=t.testCrit();e.sendDamage("fire",t,n,this,t.getCritBonus(i)*a*r,i),n.runAttrHooks(t,"attacked")}))}t.cp=0}}},{key:"warrior_con_energy",name:"能量守恒",coolDown:1e4,description:(e,t)=>{const n=Math.round(250+5*e)/10;return`随机获得“酷热”或者“极寒”效果，并按照1:0.5的比例将所有怒气转化为对应的能量。\n\t\t\t酷热：使下一个“末日”造成的火焰伤害+${n}%。\n\t\t\t极寒：使下一个“末日”造成的寒冷伤害+${n}%。\n\t\t\t自身怒气大于50点时方可释放。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target&&t.rp>=50,effect(e,t,n){Math.random()<.5?(t.fp+=.5*t.rp,t.rp=0,t.addBuff("energy_fire_buff",null,.25+.005*n,"energy_fire_buff")):(t.cp+=.5*t.rp,t.rp=0,t.addBuff("energy_cold_buff",null,.25+.005*n,"energy_cold_buff"))}},{key:"gsbjq_skill",name:"攻速暴击",description:"",coolDown:1e4,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;r.addBuff("gsbj_buff",1e4,null,"gsbj_buff")}},{key:"mabi_skill",name:"麻痹",description:"",coolDown:1e4,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;r.addBuff("mabijiezhi_buff",1e3,null,"mabijiezhi_buff")}}]},192:e=>{e.exports=[{key:"cleave",name:"顺劈斩",group:"melee",description:(e,t)=>{const n=(1+.2*e)*t.runAttrHooks(1,"cleaveDamageRate");return`对最多三个目标分别造成(${0|40*n}%-${0|60*n}%)倍攻击力伤害。`},isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i,leech:o=0,critRate:a=0,critBonus:s=1.5}=t,l=t.runAttrHooks(1,"cleaveDamageRate"),c=r*(.2*Math.random()+.4)*(n/5+1)*l,u=t.testCrit();e.sendDamage("melee",t,i,this,t.getCritBonus(u)*c,u);let h=.4;e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,2).forEach((i=>{if(e.testDodge(t,i,this))return;const o=r*(.2*Math.random()+.4)*(n/10+1)*l;h+=.4,e.sendDamage("melee",t,i,this,t.getCritBonus(u)*o,u),i.runAttrHooks(t,"attacked")})),o&&(t.hp+=o*h),t.rp+=t.rpOnAttack,i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")}},{key:"shout",name:"战斗怒吼",description:e=>`恢复50点怒气，并在未来30秒内增加所有同伴${10+5*e|0}%护甲。`,coolDown:3e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,effect(e,t,n){e.sendSkillUsage(t,null,this);const r=e.units.filter((e=>e===t||t.willAssist(e))),i=.1*(1+.5*n),o=t.runAttrHooks(!1,"multiShouts");r.forEach((e=>{e.addBuff("shout",3e4,i,o?void 0:"shout")})),t.rp+=50}},{key:"mortalStrike",name:"致死打击",description:e=>{const t=1+.2*e;return`只能对血量少于20%的目标使用。对目标造成${0|1e3*t}%-${0|2e3*t}%攻击力伤害。`},coolDown:(e,t)=>t.runAttrHooks(8e3,"mortalStrikeCoolDown"),maxExp:e=>e**2*200+600*e+400,canUse:(e,t,n)=>!!t.target&&t.target.hp<=.2*t.target.maxHp,effect(e,t,n){const{target:r}=t;if(e.testDodge(t,r,this))return;const i=t.atk*(10*Math.random()+10)*(1+.2*n),o=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(o)*i,o),r.runAttrHooks(t,"attacked")}},{key:"swordSkill",name:"狂热",group:"melee",description:e=>{const t=1+.2*e;return`对目标造成攻击力的${0|60*t}%-${0|100*t}%伤害，并在接下来的${e+1}秒内增加10%伤害，此效果可以叠加。`},targetType:"target",isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:o}=t;if(e.testDodge(t,r,this))return;const a=o*(.4*Math.random()+.6)*(.2*n+1),{critRate:s=0,critBonus:l=1.5}=t,c=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(c)*a,c),i&&(t.hp+=i),t.addBuff("swordSkill",1e3*(n+1),.1),t.rp+=t.rpOnAttack,r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"meleeForRage",name:"怒击",group:"melee",description:e=>{const t=1+.2*e;return`对目标造成攻击力的${0|60*t}%-${0|100*t}%伤害，并获得${e+1}点额外怒气。`},targetType:"target",isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:o}=t;if(e.testDodge(t,r,this))return;const a=o*(.4*Math.random()+.6)*(.2*n+1),s=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(s)*a,s),i&&(t.hp+=i),t.rp+=t.rpOnAttack+n+1,r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"shoutShake",name:"震慑怒吼",description:e=>`恢复50点怒气，并在未来30秒减少所有敌人${(100*(1-1/(1.1+.1*e))).toFixed(1)}%攻击力。`,coolDown:3e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,effect(e,t,n){e.sendSkillUsage(t,null,this);const r=e.units.filter((e=>t.willAttack(e))),i=.1+.1*n;r.forEach((e=>{const t=e.stunResist,n=1/(1+i/(1+t/100));e.addBuff("shoutShake",3e4,n,"shoutShake")})),t.rp+=50}},{key:"commandShout",name:"命令怒吼",description:e=>`恢复50点怒气，并在未来30秒内增加所有同伴${10+5*e|0}%生命上限。`,coolDown:3e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,effect(e,t,n){e.sendSkillUsage(t,null,this);const r=e.units.filter((e=>e===t||t.willAssist(e))),i=t.runAttrHooks(!1,"multiShouts"),o=.05*n+.1;r.forEach((e=>{e.addBuff("commandShout",3e4,o,i?void 0:"shout"),e.hp*=1+o})),t.rp+=50}},{key:"shockWave",name:"震荡波",group:"shockWave",description:e=>{const t=1+.2*e;return`对全体目标造成攻击力的${0|60*t}%-${0|100*t}%伤害，并使目标昏迷${e/2+1}秒。`},coolDown:e=>1e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e))),effect(e,t,n){const{atk:r,critRate:i=0,critBonus:o=1.5}=t;e.units.filter((e=>t.willAttack(e))).forEach((i=>{if(e.testDodge(t,i,this))return;const o=r*(.4*Math.random()+.6)*(1+.2*n),a=t.testCrit();e.sendDamage("melee",t,i,this,t.getCritBonus(a)*o,a),i.stun(n/2+1),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")}))}}]},2657:e=>{e.exports="\nSCENE 自宅\nSAY 艾尔的声音 。。我在哪里呢……果然迷路了吗……\nSAY 艾尔的声音 救命啊！！！！有人能听见吗？？？？\nSAY 艾尔的声音 呜呜呜……村长……布帕阿姨……\nSAY 亚莲娜 ！！\nSAY 亚莲娜 感觉听到了艾尔的声音。\nSAY 亚莲娜 他迷路了吗？\n\nASIDE {\n现在可以选择[亚莲娜]进行战斗了。\n使用神力解锁新的英雄栏位，使用[亚莲娜]进行冒险吧！\n神力将在不同英雄之间共享，请在使用之前务必注意。\n}\nASIDE {\n亚莲娜的任务篇章会解锁新的故事和地图，但不会阻碍艾尔的剧情继续进展，所以你也可以使用艾尔继续游戏，积累够足够的神力再尝试亚莲娜的冒险之旅。\n}\n"},5807:e=>{e.exports="\nSCENE 自宅\nSAY 亚莲娜 好像听到了艾尔的声音，他好像迷路了。我要去救他。\nSAY 亚莲娜 但是外面这么多史莱姆，我一个人会不会……\nSAY 亚莲娜 怎么办呢……怎么办呢……\nSAY ？？？ 亚莲娜，你在呼唤我的帮助吗？\nSAY 亚莲娜 什么？谁在说话？\nSAY ？？？ 亚莲娜，是我，你需要我的帮助吗？\nSAY 亚莲娜 你是谁？\nSAY ？？？ 我是元素精灵，你叫我小亚就行\nSAY 元素精灵 亚莲娜，你需要我的帮助吗？\nSAY 亚莲娜 我需要！艾尔需要我的帮助！我得去救援他！\nSAY 元素精灵 亚莲娜，和我签订契约，成为马猴烧酒吧！\nSAY 亚莲娜 马……马猴？\nSAY 元素精灵 哎，你只要跟我念就可以了。元素的精灵啊，请倾听我的请求……\nASIDE [亚莲娜]学会了[奥术飞弹]。\nSAY 元素精灵 亚莲娜，你只要使用元素的力量消灭敌人，就可以变得更强大啦！\n"},8322:e=>{e.exports="\nSCENE 迷雾森林\nSAY 亚莲娜 艾尔~村长~村长~艾尔~\nSAY 亚莲娜 咦，这是村长，他昏迷了！村长！村长！快醒醒。\nSAY 村长 唔……\nSAY 村长 亚莲娜！你怎么进到林子里来了？\nSAY 亚莲娜 村长，刚才我在路上遇到了艾尔，后来他到森林里来找你了。\nSAY 村长 哎……胡闹！小孩子怎么可以一个人到森林里来。\nSAY 亚莲娜 后来艾尔一直没回来，他可能迷路了！\nSAY 村长 ……\nSAY 村长 诺大的森林找人也太困难。走！我们先去邻村找到布帕！\nSAY 亚莲娜 对！有布帕阿姨的二哈在，就不怕找不到人了！\n"},6209:e=>{e.exports="\nSCENE 邻村\nSAY 亚莲娜 咦，上午闪银村还很热闹的，怎么现在一点声音都没有。\nSAY 村长 当心，亚莲娜，可能有蹊跷。\nSAY 发狂的村民甲 呼哧……\nSAY 发狂的村民乙 吼！\nSAY 村长 二位小哥，你们……\nSAY 亚莲娜 村长当心！他们不对劲！\nSAY 发狂的村民甲 啊呜！\nSAY 村长 哎哟，你怎么咬人。\nSAY 亚莲娜 快放开村长！\n"},6084:e=>{e.exports="\nSCENE 邻村\nSAY 村长 布帕，布帕，你在吗\nSAY 亚莲娜 布帕阿姨~布帕阿姨~\nSAY 亚莲娜 咦，这是……\nASIDE {\n亚莲娜感觉到附近传来了一股强大的黑暗气息。经过一番查探后，发现了一个地窖。\n}\nWAIT 1000\n\nSCENE 幽暗的地窖\nSAY 死灵法师奈布 哈撸所卡卡嘛细塔……(咒语)\nSAY 亚莲娜 (悄声)这是……\nSAY 村长 (悄声)这是召灵阵啊。。这是个亡灵术士！\nSAY 亚莲娜 (悄声)天啊，太可怕了。\nSAY 村长 (悄声)我们快离开这里。\nSAY 奈布的僵尸 吼！\nSAY 亚莲娜 糟了，我们被发现了！\n"},1755:e=>{e.exports="\nSCENE 幽暗的地窖\nSAY 亚莲娜 受死吧！\nSAY 死灵法师奈布 呼……\nSAY 死灵法师奈布 对于死亡，我早有准备。年轻的法师，我们还会再见面的。\nSAY 亚莲娜 恶魔，我不会原谅你，就算追杀到天涯海角，我也会消灭你！\nSAY 死灵法师奈布 哼哼……\nASIDE 这时，地窖外面传来了一阵嘈杂的声音\nWAIT 1000\n\nSCENE 邻村村口\nSAY 圣殿骑士 报告！队长，这里有大量低等亡灵活动的迹象！可能有过天灾瘟疫的传播，建议进行全面的净化！\nSAY 骑士队长卡罗 所有队员听令！对整个村庄进行净化！\nSAY 圣殿骑士们 是！\nSAY 亚莲娜 圣殿骑士团……他们，这是在把村民当做亡灵净化吗……\nSAY 意识清醒的村民 啊！不要杀我\nSAY 圣殿骑士 (砍)\nSAY 意识清醒的村民 啊！……(死亡)\nSAY 亚莲娜 可恶，这帮狂热的骑士，简直就是凶手！明明村民们意识都很清醒了！\nSAY 亚莲娜 我一定要阻止他们！\n"},4654:e=>{e.exports='\nSCENE 邻村村口\nSAY 亚莲娜 虽然击败了圣殿骑士们，但是……\nSAY 亚莲娜 闪银村……已经彻底毁了……\nSAY 布帕阿姨 亚莲娜！村长！你们都没事！\nSAY 布帕阿姨家的二哈 汪！\nSAY 亚莲娜 二哈！布帕阿姨！\nSAY 村长 布帕，其它村民们怎么样了？\nSAY 布帕阿姨 你们离开后不久，在我们临时驻扎的区域就发生了混乱，貌似是西德家的小子疯了一样，见谁都咬。\nSAY 布帕阿姨 后来这个状况一下子就传染到了很多村民，我推断可能是疾病或诅咒，就去圣光教会求援了。\nSAY 布帕阿姨 没想到他们居然进行了屠杀……刚才看到，西德家的小子，还有夏洛特家的，都已经……\nSAY 村长 哎……事到如今，也没有什么办法了。布帕，你快在附近搜寻一下，看看还有没有幸存者，然后，我们还要赶去森林里，艾尔在森林里走丢了，我们得尽快找回他，否则太危险了……\nSAY 布帕阿姨 好的\nSAY 亚莲娜 艾尔……坚持一下，我们就来救你了。\n\nSAY 系统 这里已经是当前版本亚莲娜剧情线的剧情尽头了。作者还在努力的编写更多的剧情，您也可以继续"伐木"怪物和制造更好的装备，提前为下一个版本做好准备！\n'},4987:(e,t,n)=>{e.exports=[{key:"aleanor-startup",group:"亚莲娜的故事",name:"艾尔的呼唤",script:n(2657),requirement:{stories:["eyer-stories-10"]}},{key:"aleanor-stories-1",group:"亚莲娜的故事",name:"亚莲娜的故事 - 1",script:n(5807),requirement:{role:"Aleanor",stories:["aleanor-startup"]}},{key:"aleanor-stories-2",group:"亚莲娜的故事",name:"亚莲娜的故事 - 2",script:n(8322),requirement:{role:"Aleanor",map:"town.woods",stories:["aleanor-stories-1"]}},{key:"aleanor-stories-3",group:"亚莲娜的故事",name:"亚莲娜的故事 - 3",script:n(6209),requirement:{role:"Aleanor",map:"town.neighbourTown",stories:["aleanor-stories-2"]}},{key:"aleanor-stories-4",group:"亚莲娜的故事",name:"亚莲娜的故事 - 4",script:n(6084),requirement:{role:"Aleanor",map:"town.neighbourTown",stories:["aleanor-stories-3"]},taskType:"kill",enemy:"zombies.farmer",killCount:10},{key:"aleanor-stories-5",group:"亚莲娜的故事",name:"亚莲娜的故事 - 5",script:n(1755),requirement:{role:"Aleanor",map:"town.neighbourTown.2",stories:["aleanor-stories-4"]},taskType:"kill",enemy:"zombie.necromancer",killCount:1},{key:"aleanor-stories-6",group:"亚莲娜的故事",name:"亚莲娜的故事 - 6",script:n(4654),requirement:{role:"Aleanor",map:"town.neighbourTown.2",stories:["aleanor-stories-5"]},taskType:"kill",enemy:"knight.leader",killCount:1}]},2957:e=>{e.exports="\nSAY 系统 [母体史莱姆]是一种体型巨大的史莱姆，具有很强的防御力和超多的血量。\nSAY 系统 [技能：吞噬]当母体史莱姆受伤时，会吞噬最靠前的一只史莱姆，并恢复相当于被吞噬史莱姆最大生命值的血量。\nSAY 系统 因为母体史莱姆的防御力和高血量，这场战斗注定是一场持久战。所以你务必准备好具备生命恢复词缀的护甲。\nSAY 系统 缩短战斗时间也是非常重要的，所以带有攻击力词缀的武器是很不错的选择。\nSAY 系统 在战斗的过程中，因为母体史莱姆恢复的血量和被吞噬的史莱姆有关，所以务必及时清理掉大史莱姆和带有词缀（尤其是强壮词缀）的史莱姆。\nSAY 系统 杀死母体史莱姆不但可以获得大量材料，还有机会获取极其稀少的神力哦。\n"},3786:e=>{e.exports="\nSAY 系统 [狼王]是狼群的首领，攻击力极高。\nSAY 系统 [技能：召唤狼群]狼王每隔一段时间，就会召唤一只母狼和两只幼狼加入战斗。\nSAY 系统 [母狼]体型较大的狼，攻击力极高，且会治疗自己的同伴。\nSAY 系统 [技能：舔舐伤口]狼王每隔一段时间，就会治疗一个自己受伤的同伴，为其恢复100点生命值\nSAY 系统 初期开荒时，使用高伤害技能迅速消灭母狼十分必要，母狼不但攻击力高，还会为包括狼王在内的目标恢复生命\nSAY 系统 因为敌人攻击力很高，积累足够品质的防具，以及选择足够的防御技能也非常重要。\nSAY 系统 使用艾尔战斗时，幼狼攻击力不高，反而可以帮艾尔恢复大量怒气以提升输出，因此防御足够的情况下，不妨留下若干的幼狼。\nSAY 系统 若艾尔已经装备了狼牙棒，那么也可以采用[狂热]+[旋风斩]的组合，迅速造成大量群体伤害。\nSAY 系统 若久战不过，很可能是你的技能等级还不够，在较早地图锻炼来提升技能等级吧。技能是越用越强大的哦~\n"},1831:e=>{e.exports="\nASIDE {\n　自从第二灵灾过去，兽人大战结束，麦德尼大陆已经和平许久了。\n　在拜尔帝国北郡的一个小村庄，所有人过着安静祥和的日子。白天劳作收获，夜晚则聚在酒吧闲谈……\n}\n\nSCENE 自宅\n\nSAY 艾尔 呼~睡的真舒服呀！\nSAY 艾尔 昨晚通宵读这本《圣光英雄传》，然后一觉睡到了……咦？\nSAY 艾尔 为什么天还没有亮？\nWAIT 500\nASIDE 远方传来了一声尖叫：啊！……\nSAY 艾尔 ！！！\nSAY 艾尔 发生什么事了？\nASIDE 艾尔走出家门\n\nSCENE 村间小路\nSAY 艾尔 我^&$%，哪来这么多史莱姆！\nSAY 艾尔 唔……\nSAY 艾尔 没错！这个邪恶值得一战！\nSAY 艾尔 不过首先……\nWAIT 500\n\nSCENE 自宅\nASIDE (艾尔拿出一把自制的细木剑)\nSAY 艾尔 珍藏多年的宝剑啊，终于到了你有用武之地的时候了！\nASIDE 细木剑发出一声低鸣（艾尔的妄想）\nSAY 艾尔 邪恶的爪牙们啊，等待勇者艾尔的制裁吧！\n\nSCENE\n\nSAY 系统 {\n这是一个放置类RPG游戏，您不需要亲自操作英雄们进行战斗，只需要为他们准备好武器和防具，设定好冒险的地图，英雄们就会自动奋战。\n}\nSAY 系统 {\n击败魔物然后获得材料和装备，使用材料改造更强大的武器和防具，让英雄逐步成长，最后挑战各种邪恶的魔王。\n}\nSAY 系统 {\n即使您离开游戏，只要在72个小时之内回来，英雄们就不会停止奋战。随时回到游戏整理战利品吧！\n}\nSAY 系统 {\n除了金币外，神力(也有人把它叫做命运点数)也是重要的资源点数。它可以开启新的英雄栏位，解锁新的背包空间，生产高品质的装备。更重要的是，收集情报和开启新的冒险之旅也可能会需要它，因此在冒险的过程请务必注意收集神力点数。\n}\nSAY 系统 {\n神力的来源除了向创世神祈(kè)祷(jīn)外，还可以通过击败魔王获得。另外，拆解史诗及更高品质的装备也可以得到神力。\n}\nSAY 系统 {\n现在，为艾尔装备上武器，开始您的冒险之旅吧！\n}\n"},831:e=>{e.exports="\nSCENE 迷雾森林\nSAY 艾尔 终于击败了狼王。\nSAY 艾尔 可是，村长在哪里呢……\nSAY 艾尔 。。我在哪里呢……果然迷路了吗……\nSAY 艾尔 救命啊！！！！有人能听见吗？？？？\nSAY 艾尔 呜呜呜……村长……布帕阿姨……\nWAIT 500\n\nSCENE 拜尔王都\nASIDE 这时候，数十里外的拜尔王都\nSAY ？？？ 终于！我酝酿十年的计划！\nSAY ？？？ 神明啊，圣光啊，既然你们都遗弃了我，就让死亡和黑暗，洗刷这片土地的邪恶吧！\n"},1274:e=>{e.exports="\nSCENE 村间小路\nSAY 艾尔 来吧！邪恶的爪牙！战个痛快吧！\nSAY 艾尔 ……\nSAY 艾尔 不过话说为什么会有这么多史莱姆出现呢？亚莲娜他们没事吧？\nSAY 小史莱姆 {\n呼…… 呼…… （扑上）\n}\nSAY 艾尔 哎哟！居然咬我，吃我一记破鞋斩！\nSAY 艾尔 咦，这史莱姆肚子里好像有什么东西\nSAY 系统 杀死魔物可以掉落材料，材料可以用于制造更好的装备。\nSAY 系统 如果受伤比较严重，也可以先回到自宅休整一番。在自宅体力和魔力等都会加速恢复。\nSAY 系统 多杀死几只史莱姆收集更进一步的情报吧。\n"},4057:e=>{e.exports='\nSCENE 村间小路\nSAY 艾尔 呼……\nSAY 艾尔 区区史莱姆，居然也如此难缠！\nSAY 艾尔 但是在本勇者的宝剑下，不过是一群乌合之众！\nSAY 艾尔 啊啊啊啊！冲锋！\nSAY 大史莱姆 ……\nSAY 艾尔 哎哟，非洲老头子跳高，黑（吓）老子一跳啊，这是什么鬼？\nSAY 艾尔 看样子不会咬人哦，戳一下看看。\nSAY 大史莱姆 呜！呼呼呼呼！\nSAY 艾尔 哎哟，怎么突然疯了一样\nSAY 系统 黄色名字的魔物不会主动攻击英雄们，英雄们的溅射和群体伤害技能也不会攻击他们。但如果英雄主动攻击他们，他们就会加入战斗。\nSAY 系统 要想指明英雄的攻击目标，在"单位"面板里点击敌人面板就可以了哦~\nSAY 系统 因为大史莱姆的战斗力比小史莱姆强很多，请务必挑选好防具再行挑战！\n'},6860:e=>{e.exports="\nSCENE 村间小路\nSAY 艾尔 啊……多凶狠的怪物啊……我曾数过我杀死了多少怪物，然而已经多到数不清了。\nSAY 女孩的声音 啊……救命……不要过来……！\nSAY 艾尔 是亚莲娜吗？\nSAY 艾尔 但是话说史莱姆的危险度……应该不会致命吧……？就算被咬了也只是痒痒的……\nSAY 艾尔 （摇头）不对，这可是英雄救美的重要时刻，我怎么可以在这里胡思乱想呢……快跟上去！\n\nSCENE 洞窟入口\nSAY 艾尔 听声音就在这个洞窟里面了。\nSAY 艾尔 洞里面阴森森的，真是恐怖！\nSAY 大史莱姆 呼！！呼！！\nSAY 艾尔 啊！洞穴里的史莱姆体型更大，而且更加凶猛了！怎么办？\nSAY 女孩的声音 哈……嘿嘿……哈哈……好痒……不要过来！\nSAY 艾尔 ……\nSAY 艾尔 看起来亚莲娜没有生命危险，我还是做好准备再来吧。\n"},4963:e=>{e.exports="\nSCENE 洞窟\nSAY 艾尔 亚莲娜应该在这个方向。\nSAY 艾尔 来吧，史莱姆们！最大不过蒲团大小的怪物，正是我练剑的好对象！\nSAY 艾尔 就算洞穴里的个头比外面的大，也不过就是稍微大一点的蒲团嘛！总不会出现比人还大的吧。\nSAY 母体史莱姆 ……\nSAY 艾尔 ……\nSAY 艾尔 （悄声）我的天哪~居然有这么大个的史莱姆，别说见了，听都没听说过。\nSAY 母体史莱姆 咕嘟（一口吞下一只旁边的大史莱姆）\nSAY 艾尔 （咽了一口口水）……我觉得它一口吞了我问题也不大。我还是绕过他去寻找亚莲娜吧。。不然她被这怪物发现了就完了。\nSAY 母体史莱姆 ！\nSAY 艾尔 ！\nSAY 亚莲娜 ！\nSAY 亚莲娜 啊啊啊啊啊……救命啊！\nSAY 母体史莱姆 咕嘟（一口吞下亚莲娜）\nSAY 艾尔 ……\nSAY 艾尔 没办法了，只能硬上了！\nWAIT 500\nSAY 系统 母体史莱姆的战斗极其困难，建议务必准备好武器和防具，并且认真观察它的行动。\nSAY 系统 你也可以在情报界面使用神力点数兑换相应的情报，了解敌人的弱点就可以更好的消灭它！\n"},5318:e=>{e.exports="\nSCENE 洞窟\nSAY 艾尔 亚莲娜，你还好吗？\nSAY 亚莲娜 呜呜呜……你快转过去……（衣服都破破烂烂的了，羞死了）\nSAY 艾尔 哦哦……好的……我这边还有我自己缝的布裙，你赶紧换上，我到那边去等你……\nSAY 亚莲娜 ……\nSAY 艾尔 ……\nSAY 亚莲娜 好了，艾尔，谢谢你救了我。\nSAY 艾尔 没事！谁叫我是命中注定的勇者呢！对了，其他人呢？\nSAY 亚莲娜 今天上午的时候突然爆发了兽潮，村长和布帕阿姨带着大家一起去邻村避难了。\nSAY 艾尔 呵……（看来我睡的真是沉啊，兽潮这么大事都没有吵醒我）\nSAY 亚莲娜 大家慌乱中到了邻村才发现找不见你，于是我和村长就冒险回来寻你。\nSAY 亚莲娜 可是在前面的山路上，突然一堆史莱姆涌了出来，直接将村长冲到山脚下了，我拼命跑拼命跑才跑到这里，然后就遇到你了。\nSAY 艾尔 这样……兽潮应该已经过去了。我先送你回家，关好门窗就可以，史莱姆不敢靠近木头。\nSAY 艾尔 然后我赶紧去山谷看看能不能找到村长。\nSAY 亚莲娜 好的……\nSAY 亚莲娜 （要是我能帮助到艾尔哥哥就好了……）\nSAY 艾尔 那我们就赶紧离开这里吧！\n"},9909:e=>{e.exports="\nSCENE 山谷\nSAY 艾尔 从小就听大人们说山里有狼，这还是我第一次独自到山里呢。\nSAY 艾尔 不过一路走来，鹿儿见到好几只，却没见着狼呢。\nSAY 狼幼崽 呼……\nSAY 艾尔 咦，哪里来的小狗狗，好可爱❤\nSAY 母狼 呼……\nSAY 艾尔 啊，好大的……狼！\n"},7624:e=>{e.exports="\nSCENE 山谷\nSAY 艾尔 原来这就是狼，远看着跟布帕阿姨家的二哈一模一样。。\nSAY 艾尔 这样看来，原来大人们真的没有骗人。山里真的有很多狼。\nSAY 艾尔 可是村长……还在更深的地方吗？前面的森林全都是雾，进去不会迷路吧……\n"},2239:e=>{e.exports="\nSCENE 迷雾森林\nSAY 狼王 ……(冷冷的)\nSAY 狼王 啊呜呜呜呜……(嗥叫)\nSAY 狼群们 啊呜呜呜呜……(嗥叫)\n"},3150:(e,t,n)=>{e.exports=[{key:"eyer-stories-1",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 1",script:n(1831),requirement:{role:"Eyer",map:"home"}},{key:"eyer-stories-2",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 2",script:n(1274),requirement:{role:"Eyer",map:"town.street",stories:["eyer-stories-1"]}},{key:"eyer-stories-3",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 3",script:n(4057),requirement:{role:"Eyer",map:"town.street",stories:["eyer-stories-2"]},taskType:"kill",enemy:"slime.minimal",killCount:10},{key:"eyer-stories-4",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 4",script:n(6860),requirement:{role:"Eyer",map:"town.street",stories:["eyer-stories-3"]},taskType:"kill",enemy:"slime.giant",killCount:1},{key:"eyer-stories-5",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 5",script:n(4963),requirement:{role:"Eyer",map:"town.cave2",stories:["eyer-stories-4"]}},{key:"eyer-stories-6",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 6",script:n(5318),requirement:{role:"Eyer",stories:["eyer-stories-5"]},taskType:"kill",enemy:"slime.queen",killCount:1},{key:"eyer-stories-7",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 7",script:n(9909),requirement:{role:"Eyer",map:"town.valley",stories:["eyer-stories-6"]}},{key:"eyer-stories-8",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 8",script:n(7624),requirement:{role:"Eyer",map:"town.valley",stories:["eyer-stories-7"]},taskType:"kill",enemy:"wolf.giant",killCount:10},{key:"eyer-stories-9",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 9",script:n(2239),requirement:{role:"Eyer",map:"town.woods",stories:["eyer-stories-8"]}},{key:"eyer-stories-10",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 完结",script:n(831),requirement:{role:"Eyer",map:"town.woods",stories:["eyer-stories-9"]},taskType:"kill",enemy:"wolf.king",killCount:1},{key:"advices-slime-queen",group:"魔王情报录",name:"情报: 母体史莱姆",script:n(2957),requirement:{stories:["eyer-stories-5"]},taskType:"purchase",price:10},{key:"advices-wolf-king",group:"魔王情报录",name:"情报: 狼王",script:n(3786),requirement:{stories:["eyer-stories-9"]},taskType:"purchase",price:20}]},506:e=>{e.exports="\nASIDE 艾尔迷路后，一路狂奔，结果掉进了一个坍塌的矿洞中。\nSCENE 矿洞\nSAY 艾尔 {\n村长~ 村长~\n}\nSAY 艾尔 一路走过来都没有看到村长的痕迹，村长去哪儿了呢？\nSAY 艾尔 要是这时候布帕阿姨家的二哈在就好了……\nSAY ？？？ 汪汪！\nSAY 艾尔 咦？那是什么声音？\nSAY ？？？ 汪！你休想抢走我的蜡烛！\nSAY 艾尔 ？？？我要蜡烛干嘛？前面到底是谁？\n"},4231:e=>{e.exports="\nSCENE 矿洞\nSAY 艾尔 哎哟，狗头人不是一向很和善的么，为什么这些狗头人看到我就打呢？ \nSAY 狗头人甲 汪！人类太凶恶了！\nSAY 狗头人乙 汪！快去叫大王！\nSAY 狗头人甲 对！汪！人类你等着，让大王来消灭你！\nSAY 艾尔 什么鬼，狗头人也有大王了？这不魔法呀，狗头人明明是平等聚居的种族啊……\nSAY 艾尔 这里面一定有蹊跷。\nSAY 狗头人乙 汪！刚才进来的人类我一铲子就打晕了，为什么这个人类这么凶？快跑！\nSAY 艾尔 刚才的人类？难道是村长？\n"},3728:e=>{e.exports="\nSCENE 矿洞深处\nSAY 金牙大王 汪！人类！这个矿洞已经是我的领地了！你快点离开。\nSAY 艾尔 你就是狗头人的大王吗？我问你，刚才你有见到另一个人类吗？\nSAY 金牙大王 汪！人类！你快走开！快走开！你不属于这里！\nSAY 艾尔 我是想问你……\nSAY 金牙大王 汪！你不走开我就要咬你了，啊呜呜！！\n"},2293:e=>{e.exports="\nSCENE 矿洞深处\nSAY 金牙大王 汪！人类！你不要打金牙了！狗头人是人类最好的朋友！\nSAY 艾尔 噗……你现在能不能好好说话了？\nSAY 金牙大王 汪！人类！我再也不把项链咬坏了！\nSAY 艾尔 我不是问你这个，我问你，刚才你们有没有看到过另一个人类？\nSAY 金牙大王 汪！金牙有见过！一个白胡子的人类！\nSAY 艾尔 对！他在哪儿呢？\nSAY 金牙大王 汪！他被卡卡列夫大王的使者带走了！\nSAY 艾尔 卡卡列夫大王？那是啥？\nSAY 金牙大王 汪！卡卡列夫大王很厉害！他教会了金牙魔法！他的使者也很厉害！会丢盘子！金牙喜欢盘子！\nSAY 艾尔 别说这些乱七八糟的了……快告诉我，他们往哪儿走了？\nSAY 金牙大王 汪！他们往洞里面！洞里面有好多蜡烛！然后出现了一个大洞！然后他们就走了！\nSAY 艾尔 洞……？蜡烛？\n\nSCENE 召唤法阵\nSAY 金牙大王 汪！就是这里！\nSAY 艾尔 天啊……这里是……\nSAY 艾尔 召唤法阵！为什么这里会有这种东西……\nSAY 金牙大王 汪！这里是金牙画的！金牙是不是很厉害！\nSAY 艾尔 金牙。。你为什么会画召唤法阵的？\nSAY 金牙大王 汪！金牙喜欢蜡烛，喜欢火焰！火焰保护狗头人！这个法阵让金牙感到很温暖！\nSAY 艾尔 确实，这里非常温暖……是元素召唤法阵吗？\nSAY 艾尔 金牙，你还能联系上卡卡列夫他们吗？\nSAY 金牙大王 汪！没问题！卡夫萨尼亚卡阿纳列西夫卡……（咒语）\nSAY 艾尔 天啊。。狗头人居然能念出这么长的咒语……\nSAY 金牙大王 卡卡列夫大人来了！\nASIDE {\n随着金牙大王的念诵，阵法最中间的蜡烛的火焰，骤然幻化成一个火元素的形状。\n在金牙的带领下，艾尔靠近着团火焰。\n}\nSAY 艾尔 噗……这指尖大的火元素……看起来好萌！\nSAY 卡卡列夫的幻象 是谁在呼唤本大君！\nSAY 金牙大王 卡卡列夫大人！这个人类很厉害，金牙打不过他！\nSAY 卡卡列夫的幻象 人类！感受本大君的怒火吧！\nSAY 金牙大王 受死吧人类！\nSAY 艾尔 （对着蜡烛一吹）\nASIDE 蜡烛应声而灭\nSAY 金牙大王 ……\nSAY 艾尔 ……\nSAY 金牙大王 卡夫萨尼亚卡阿纳列西夫卡……！（咒语）\nSAY 卡卡列夫的幻象 是谁在呼唤本大君！\nSAY 艾尔 卡卡列夫，你把村长带到哪儿去了？\nSAY 卡卡列夫的幻象 可恶的人类，本大君不会回答你的问题！\nSAY 艾尔 （吹）\nSAY 金牙大王 卡夫萨尼亚卡阿纳列西夫卡……！（咒语）\nSAY 卡卡列夫的幻象 啊啊啊啊！无耻的人类！快停止你对本大君的不敬！\nSAY 艾尔 （吹）\nSAY 金牙大王 卡夫萨尼亚卡阿纳列西夫卡……！（咒语）\nSAY 卡卡列夫的幻象 啊啊啊啊！人类！快停下你的作为！\nSAY 艾尔 （吹）\nSAY 金牙大王 卡夫萨尼亚卡阿纳列西夫卡……！（咒语）\nSAY 卡卡列夫的幻象 人类！别玩了！本大君同意回答你的问题！\nSAY 艾尔 快说，为什么带走村长，你把他带到哪儿去了？\nSAY 卡卡列夫的幻象 你是说那个老年人类吗？他的灵魂已经属于本大君了！\nSAY 艾尔 什么！\nSAY 卡卡列夫的幻象 因为他违背了和本大君的契约！他拒绝实施本大君的降临计划！\nSAY 艾尔 你这个恶魔！(吹)\nSAY 卡卡列夫的幻象 呵哈哈哈，你以为同样的办法还能对本君继续使用吗？本君已经链接好了两个位面，感受本君的愤怒吧！\nASIDE 卡卡列夫的体型瞬间膨胀，一下扩大了几十倍\nSAY 卡卡列夫的幻象 金牙，你这个背叛本君的狗杂种，灼热之箭！\nSAY 金牙大王 啊啊啊啊啊（死了）\nSAY 艾尔 ！！\n"},4550:e=>{e.exports="\nSCENE 召唤法阵\nSAY 卡卡列夫的幻象 人类，你等着，我卡卡列夫终将有一天降临你们的世界！到时候，感受我的怒火吧！\nSAY 艾尔 你别走！你把村长还给我！\nSAY 卡卡列夫的幻象 （消散）\nSAY 艾尔 呜呜……村长……\nSAY 布帕阿姨 艾尔……艾尔……你在哪里？\nSAY 亚莲娜 艾尔……艾尔……\nSAY 艾尔 呜呜……大家……\nSAY 村长 艾尔……艾尔……\nSAY 艾尔 ？？村长？喂~我在这里！\nSAY 布帕阿姨 艾尔！你没事吧！\nSAY 艾尔 布帕阿姨！村长！你没事！\nSAY 布帕阿姨家的狗 汪汪！\nSAY 艾尔 村长，我刚听说你被火元素大君抓走了……你没事吗？\nSAY 村长爷爷 什么？我只是被史莱姆冲下了山，因为有软软的史莱姆做缓冲，所以什么伤也没有受。\nSAY 艾尔 啊！那被火元素抓走的是谁呢……\nSAY 艾尔 （一五一十的跟大家说了发生的事）\nSAY 村长爷爷 唔……听起来，被抓走的可能是一名魔法师。\nSAY 村长爷爷 不过这不是眼下最需要担心的事情了。艾尔，我们快回村子，天就快黑了。\nSAY 艾尔 好的。\n"},7811:(e,t,n)=>{e.exports=[{key:"eyer-grow-1",group:"艾尔的启程",name:"狗头人是人类最好的朋友 - 1",requirement:{role:"Eyer",map:"town.mine.1",stories:["eyer-stories-10"]},script:n(506)},{key:"eyer-grow-2",group:"艾尔的启程",name:"狗头人是人类最好的朋友 - 2",requirement:{role:"Eyer",map:"town.mine.1",stories:["eyer-grow-1"]},script:n(4231),taskType:"kill",enemy:"kobold.miner",killCount:10},{key:"eyer-grow-3",group:"艾尔的启程",name:"金牙是人类最好的朋友",requirement:{role:"Eyer",map:"town.mine.2",stories:["eyer-grow-2"]},script:n(3728)},{key:"eyer-grow-4",group:"艾尔的启程",name:"金牙召唤了金牙最好的朋友",requirement:{role:"Eyer",map:"town.mine.2",stories:["eyer-grow-3"]},script:n(2293),taskType:"kill",enemy:"kobold.goldteeth",killCount:1},{key:"eyer-grow-5",group:"艾尔的启程",name:"艾尔最好的朋友找回了艾尔",requirement:{role:"Eyer",map:"town.mine.3",stories:["eyer-grow-4"]},script:n(4550),taskType:"kill",enemy:"kakarif.illusion",killCount:1}]},5910:e=>{e.exports="\nSCENE 村长家\nASIDE （夜晚，大家聚集在村长家）\nSAY 村长 孩子们，今天发生的事情太多了，而且都非常的蹊跷。\nSAY 村长 先是反季节的兽潮，明明已经快到夏天了，天气非常的炎热，照理不是兽群迁徙的时候。\nSAY 村长 然后是史莱姆大爆发，如果是自然树木分泌的史莱姆，不会有这么多。\nSAY 村长 接着是艾尔发现的火元素祭坛，狗头人本来是温顺勤劳的种族，现在却变得十分攻击性，背后又出现了火元素大君的力量。\nSAY 村长 然后是邻村，很多村民突然发疯，互相撕咬，亚莲娜还发现了是死灵法师在作怪。\nSAY 村长 最后是圣殿骑士。。不由分说的屠杀村民，连没有被感染的村民也不放过。\nSAY 村长 现在兽潮过去了，史莱姆也已经被清理干净，火元素祭坛也被摧毁了，死灵法师也被消灭了。但是我担心的是……\nSAY 村长 圣殿骑士团会不会再次前来袭击村民……他们的一个小队在闪银村覆灭，我想他们一定会派出更多的队伍进行调查。\nSAY 亚莲娜 村长……都是我的错，我太冲动了。\nSAY 村长 好了，现在不是说这些的时候。\nSAY 村长 我想，我们最好赶紧收拾一下，远离这片地方。\nSAY 艾尔 ！！\nSAY 亚莲娜 村长，突然间说迁徙也……\nSAY 村长 这是最安全的办法了。今天咱们就已经损失了一半多的村民。不能再冒险留下了！布帕，你经常出门冒险，关于迁徙的方向，由你来决定吧。\nSAY 布帕阿姨 好的。我们朝西和朝北分别是迷雾森林和山脉地带，已经接近奥兰的地界，也没有什么适宜定居的地方，朝东南是帕拉玛大平原，太容易被教会的军队追击。我想，我们还是朝西南走，向拜尔王都的方向前进最为安全！\nSAY 亚莲娜 村长，但是我很担心……村民们的发狂，像是一种传染病，贸然前往王都，拜尔的军队会对我们什么态度？\nSAY 村长 恩，这也是需要考虑的问题。但是迁徙也必须尽快开始，这……\nSAY 艾尔 村长，交给我和亚莲娜吧，我们俩都是孤儿，没有什么行李需要收拾，我们可以先前往王都，寻求官员的帮助。您和布帕阿姨带着村民们一起迁徙，如果等几天还没有我们的消息，你们就尽快转向北，去奥兰吧！\nSAY 村长 可是，对你们来说这也太冒险了……\nSAY 亚莲娜 村长，没问题的，现在消息应该还没传过去，如果有危险，我会带着艾尔传送离开的。\nSAY 村长 好吧……那就这么定了，尽快行动吧，我们时间不多了。\n"},3027:e=>{e.exports="\nSCENE 大路上\nSAY 艾尔 亚莲娜\nSAY 亚莲娜 恩？\nSAY 艾尔 我听说，咱们拜尔的王都，在海边？\nSAY 亚莲娜 是呀，和法师之国艾因罗丹特隔海相望。\nSAY 艾尔 亚莲娜，你很想去艾因罗丹特吗。\nSAY 亚莲娜 嗯，很想去。听说那里有很多书可以看。\nSAY 艾尔 哈哈哈，亚莲娜真的很爱读书啊。\nSAY 艾尔 好！我想这次的事情处理完，我就进城去工作，一定要挣够多多的钱，带你出海去艾因罗丹特！\nSAY 亚莲娜 艾尔。。\nSAY 艾尔 嗯……？怎么了？你不用太感动，哈哈哈~\nSAY 亚莲娜 不。。我是觉得，我们是不是走错路了……我们好像在往东南方向走……\nSAY 艾尔 啊……有吗？哈哈哈，不好意思，聊的太兴起，没注意方向，那我们就朝这边！\nSAY 亚莲娜 不……艾尔，那是东北面。。往那边就是帕拉玛大草原了……你想被安东尼奥的圣骑士追赶吗……\nSAY 艾尔 哈哈哈……还是亚莲娜你带路吧……\n"},7564:e=>{e.exports="\nSCENE 大路上\n\nSAY 亚莲娜 艾尔\nSAY 艾尔 恩？\nSAY 亚莲娜 我们走多久了？\nSAY 艾尔 不知道哎，但咱们肚子饿吃干粮应该已经……三次了吧？\nSAY 亚莲娜 那应该是十几个小时过去了。那也应该天亮了……可是为什么天上还是这么黑呢？\nSAY 艾尔 耶？有吗？说不定只是咱们赶路，饿的比较快呢？\nSAY 亚莲娜 这天上……既没有月亮，也没有星星……\nSAY 亚莲娜 而且我们走了十几个小时了，这么宽的路，没有遇到一个行人，没有遇到一辆车马。。\nSAY 艾尔 亚莲娜。。你说的我心里开始发毛了。。\nSAY 亚莲娜 而且，你有没有觉得，似乎越来越冷了……\nSAY 艾尔 亚莲娜，我觉得你想多了，你看看，前面不就有一个人拖着一辆车？\nSAY 亚莲娜 行人……吗？这么黑的夜里，不带火把……？\nSAY 艾尔 哈哈，不要想太多，也许是离他家很近了呢，你等等，我上去打个招呼。\nWAIT 1000\n\nSAY 艾尔 嗨，哥们~\nSAY 行人？ （一言不发的拖着车）\nSAY 艾尔 哥们，想问下，附近有啥村子啥的吗？咱们是打东北面来的，要上王都去，问下还有多远哈~\nSAY 行人？ 吼~\nSAY 艾尔 哎哟我去，哥们你这脸也忒吓人了。\nSAY 亚莲娜 艾尔小心，他不是人类！\nSAY 艾尔 哈？\nSAY ？？？ （刺！）\nSAY 行人？ 吼！（倒下）\nSAY ？？？ 喂，你们俩，是活人？\nSAY 艾尔 哥们你好厉害！一刀一个啊！\nSAY ？？？ 这附近都被污染了，呆在外面久了也会被感染的，你们是从哪来的？\nSAY 艾尔 大哥我们是从东北来的，要去王都。\nSAY ？？？ 王都？别开玩笑了，那地方现在谁敢去。就这一个小僵尸都能吓你们一跳的，去王都不是给僵尸投食么。\nSAY 亚莲娜 请问大哥附近发生了什么事呢？\nSAY ？？？ 拜尔已经不是活人的世界了，你们快逃去奥兰吧，别去安东尼奥，那群疯子骑士知道你们是拜尔来的，会直接灭口的。\nSAY ？？？ 别耽误时间了，我要赶去前面的一个避难所，通知他们尽快迁徙。你们也快往回走吧。\nSAY 艾尔 大哥等等……\nASIDE 那人已经瞬间没了踪影\nWAIT 1000\nSAY 艾尔 那我们接下来怎么办呢？掉头回去吗？\nSAY 亚莲娜 那个人未必可信，我们先跟上去看看吧。 \n"},8041:e=>{e.exports="\nSCENE 避难所773号\nSAY ？？？ （吐血）咳……\nSAY ？？？ 你是什么人？怎么会有我们的联络名单的？\nSAY 死灵法师奈布 哼哼，避难所773号，四十八个灵魂，一个白银三个青铜，我就收下了。这一片还有十七个避难所吧，真是甜美的晚餐啊。\nSAY ？？？ 可恶……\nSAY 亚莲娜 这是……\nSAY 死灵法师奈布 呵呵，小法师，我们又见面了。\nSAY 亚莲娜 又是你？\nSAY 艾尔 这里发生了什么事？\nSAY 亚莲娜 是那个死灵法师！我们在闪银村的时候，就是他的阵法让大家都发疯了！\nSAY 死灵法师奈布 哎哟不不不，小法师，可不要冤枉我，我的阵法只是普通的聚魂阵，至于发疯嘛，那可是另有原因的。\nSAY 艾尔 你这个邪恶的法师，拿命来！\n"},5514:e=>{e.exports='\nSCENE 避难所773号\nSAY ？？？ （吐血）咳……\nSAY 艾尔 大哥你没事吧，我们来晚一步……\nSAY ？？？ 避难所也不安全了。。我得去通知附近的其它避难所！\nSAY 艾尔 大哥你受伤这么重，还是别乱动了，那个死灵法师已经被我们打死啦。\nSAY 亚莲娜 艾尔，那个死灵法师可能会有复活的手段。之前，我在闪银村已经和他交战过了。\nASIDE 亚莲娜讲述了在邻村发生的事情。\nSAY ？？？ 你们不知道，这场瘟疫，覆盖的不只是你们村子，是整个，整个拜尔王国呀！\nSAY ？？？ 王都因为人口众多，现在已经是一片人间炼狱了！\nSAY 艾尔 圣光啊……那教会那边呢？\nSAY ？？？ 圣光……哼哼，那帮脑子里进了圣光的榆木脑袋除了净化就是净化，拜尔本土的教会除了硬刚就是硬上，一点战术都没有，现在已经全都挂成亡灵战士了。\nSAY ？？？ 安东尼奥的教会总部倒是反应快，直接宣布整个拜尔帝国都是异端之国，现在派了一大堆圣殿骑士围在拜尔边境上，见人就砍。\nSAY 艾尔 那我们……怎么办？\nSAY ？？？ 怎么办？小兄弟，不怎么办。现如今这情况，能多活一秒就是一秒。躲吧，藏吧。想尽办法吧。\nSAY 艾尔 ……\nSAY 亚莲娜 好了，大哥，我们还是先通知其他的避难所吧。赶紧通知大家要紧。\nSAY ？？？ ……\nSAY ？？？ 小兄弟，附近的避难所还是由我来通知吧。你们还是先去总部躲一躲。从这里往南十里，有一个隐秘的矿洞，从外面看只有几米深，其实里面四通八达。\nSAY ？？？ 但是你们不要乱闯，那里也设置了非常多的机关和暗哨。你们到矿洞门口大喊三声"主神大人最美丽"，会有人来引你们进去。\nSAY 艾尔 主……主什么？\nSAY ？？？ 这是暗语，你照着念就可以了。快别耽误时间了，到了你就知道了。我们快点集合所有人，准备一起迁徙到奥兰了！\nSAY 艾尔 好的……那大哥你保重，我们出发了。\nWAIT 1000\n\nSCENE 大路上\nSAY 亚莲娜 艾尔，我们先给村长飞鸽传书，让他们还是改道奥兰吧。\nSAY 艾尔 好的。\nASIDE 艾尔放飞了信鸽\nSAY 亚莲娜 然后……我们要去他说的地方吗？\nSAY 亚莲娜 认识这么久，我们都还不知道他的名字，还有什么暗语，搞的神神秘秘，我们能信任他吗？\nSAY 艾尔 我也不知道耶……我倒是觉得大哥人还是蛮好的。\nSAY 亚莲娜 我还是不放心，我想去艾因罗丹特求援。\nSAY 艾尔 去向法师求援吗？哎哎我不行，那些法师一个个躲在塔里，搞的神神秘秘的，我才不想和他们打交道呢。\nSAY 艾尔 我倒是觉得对付亡灵瘟疫，还是应该向圣光教会求助。\nSAY 亚莲娜 什么？那可是一帮是非不分的杀人凶手啊！\nSAY 艾尔 哎，可是要说到对付骷髅和僵尸，还是……而且我小时候，一直是被附近的教会照顾着，我想教会里还是好人多的。\nSAY 亚莲娜 艾尔，那我们分手吧。\nSAY 艾尔 咦咦咦咦？\nSAY 亚莲娜 我是说我们分头出发吧，我向北前往艾因罗丹特，你向东去安东尼奥找圣光教会。然后，我们去奥兰会合吧。\nSAY 艾尔 我……我考虑一下。\n\nSAY 系统 接下来，是艾尔和亚莲娜一起前往避难所总部呢，还是让艾尔去安东尼奥教会，或者是让亚莲娜前往艾因罗丹特呢？\nSAY 系统 不用担心因此错过支线剧情，没选中的支线剧情将来还可以在"故事-情报兑换"中兑换哦~\n'},9239:e=>{e.exports="\nSCENE 边界森林\nSAY 娜娜 辛巴，辛巴，森林里来了一群陌生的动物，你的子民们都被他们击败了！\nSAY 辛巴 什么？我将在前面的道路上挑战他们，看看谁才是森林的王者！\n"},5088:e=>{e.exports='\nSCENE 森林深处\nSAY 辛巴 人类，我承认你的实力，但请速速离去吧，你不属于这篇森林！\nSAY 艾尔 尊敬的狮子王大人，我无意冒犯您的权威，只要您允许我通行，让您的子民不要打扰我，我将从前方径直离开这篇森林！\nSAY 辛巴 如你所愿，人类。\n\nSAY 系统 这里已经是当前版本的剧情尽头了。作者还在努力的编写更多的剧情，您也可以继续"伐木"怪物和制造更好的装备，提前为下一个版本做好准备！\n'},8700:(e,t,n)=>{e.exports=[{key:"chapter3-1",group:"无人之境",name:"无人之境 - 1",requirement:{$or:[{stories:["eyer-grow-5"]},{stories:["aleanor-stories-6"]}]},script:n(5910)},{key:"chapter3-2",group:"无人之境",name:"无人之境 - 2",requirement:{stories:["chapter3-1"],map:"chapter3.road"},script:n(3027)},{key:"chapter3-3",group:"无人之境",name:"无人之境 - 3",requirement:{stories:["chapter3-2"],map:"chapter3.road"},script:n(7564),taskType:"kill",enemy:"chapter3.undead.zombie",killCount:10},{key:"chapter3-4",group:"无人之境",name:"无人之境 - 4",requirement:{stories:["chapter3-3"],map:"chapter3.shelter773"},script:n(8041)},{key:"chapter3-5",group:"无人之境",name:"无人之境 - 5",requirement:{stories:["chapter3-4"],map:"chapter3.shelter773"},script:n(5514),taskType:"kill",enemy:"chapter3.necromancer",killCount:1},{key:"chapter3-6",group:"前往奥兰",name:"前往奥兰 - 1",requirement:{stories:["chapter3-5"],map:"chapter3.wood"},script:n(9239),taskType:"kill",enemy:"chapter3.beast.lion",killCount:10},{key:"chapter3-7",group:"前往奥兰",name:"前往奥兰 - 2",requirement:{stories:["chapter3-5"],map:"chapter3.wood"},script:n(5088),taskType:"kill",enemy:"chapter3.beast.simba",killCount:1},{key:"career-lv80",group:"三转",name:"三转",requirement:{map:"chapter4.sanAnthony2"},taskType:"kill",enemy:"chapter4.humans.boss.evil",killCount:1}]},4589:(e,t,n)=>{e.exports=[...n(3150),...n(7811),...n(8700),...n(4987),...n(1507),...n(3220)]},1507:e=>{e.exports=[{key:"purchase-rates-lvl-60",script:"\nSAY 系统 恭喜您达到60级。从现在开始，所有的神力购买和兑换都将提升50%收益。\nSAY 系统 现在您可以继续挑战副本，提升装备，然后进行试炼挑战，就可以继续提升到70级了。\n",requirement:{level:600},awards:{purchaseRate:.5}},{key:"purchase-rates-lvl-70",script:"\nSAY 系统 恭喜您达到70级。从现在开始，所有的神力购买和兑换都将提升100%收益。\nSAY 系统 现在您可以继续挑战副本，在亚莲娜的噩梦中挽救木灵一族！\n",requirement:{level:700},awards:{purchaseRate:.5}}]},3220:(e,t,n)=>{e.exports=[{key:"soulbringer-1",group:"？？-1",name:"？？-1",requirement:{},script:n(1688),taskType:"kill",enemy:"chapter3.necromancer",killCount:100},{key:"soulbringer-2",group:"黑暗君主-2",name:"黑暗君主-2",requirement:{},script:n(961),taskType:"kill",enemy:"soul_karon",killCount:1},{key:"soulbringer-3",group:"黑暗君主-3",name:"黑暗君主-3",requirement:{role:"iPhone14promax",map:"home"}}]},1688:e=>{e.exports="\nSCENE 庇护所深处\n\nSAY 系统 这是你第101次来到庇护所\nSAY 系统 不同的是，这一次你在庇护所的深处遇到了一个奇怪的男人\nSAY 系统 男人的头顶上漂浮着“百鬼之王·卡隆”几个大字\nSAY 系统 虽然现在的你还不够强大，但他已经等你很久了\nWAIT 1500\n\nSAY 系统 尝试向他发起挑战并击败他！\nASIDE 百鬼之王·卡隆是非常强大的敌人，建议在满级且具备一定的装备基础后再发起挑战。\n \n"},961:e=>{e.exports="\nSCENE \n\nSAY 系统 你竟然轻而易举地击败了百鬼之王·卡隆\nSAY 系统 不愧是创世神艾尔所挑选的种子\nSAY 系统 作为奖励，你现在可以创建角色“恶魔五月哭”来体验新职业“黑暗君主”了\nWAIT 1500\n\nSAY 系统 忘记提醒你了，“黑暗君主”作为强大的隐藏职业，仅有一次创建角色的机会\nSAY 系统 所以，假如你误删了角色，既无法恢复，也不能再次创建\n"},9818:e=>{e.exports={bankByDiamonds:[10,10,20,30,40,60,90,130,190,280,410,600,880,1290,1890,2770,4060,5950,8720,12780,18730,27450,40230,58960,86410,126640,185600,272010],inventoryByDiamonds:[1,1,2,3,4,6,9,13,19,28,41,60,88,129,189,277,406,595,872,1278,1873,2745,4023,5896,8641,12664,18560,27201,39865,58425,85626,125491],inventory:[{},{},{},{},{},{},{},{},{},{},{},{},{gold:10},{gold:20},{gold:30},{gold:50},{gold:80,wuxingshi:1},{gold:130,wuxingshi:1},{gold:210,wuxingshi:2},{gold:340,wuxingshi:3},{gold:550,wuxingshi:4},{gold:890,wuxingshi:6},{gold:1440,wuxingshi:9},{gold:2330,wuxingshi:13},{gold:3770,wuxingshi:19},{gold:6100,wuxingshi:28},{gold:9870,wuxingshi:41},{gold:15970,wuxingshi:60},{gold:25840,wuxingshi:88},{gold:41810,wuxingshi:129},{gold:67650,wuxingshi:189},{gold:109460,wuxingshi:277},{gold:177110,wuxingshi:406},{gold:286570,wuxingshi:595},{gold:463680,wuxingshi:872},{gold:750250,wuxingshi:1278},{gold:1213930,wuxingshi:1873},{gold:1964180,wuxingshi:2745},{gold:3178110,wuxingshi:4023},{gold:5142290,wuxingshi:5896}]}},4526:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},3358:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7298:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}},e.exports=n},3527:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},7942:e=>{"use strict";e.exports=function(e){return e[1]}},5516:(e,t,n)=>{var r={EventEmitter:n(2985),EmitterSubscription:n(5435)};e.exports=r},2985:(e,t,n)=>{"use strict";var r=n(5435),i=n(9143),o=n(2205),a=n(4936),s=function(){function e(){this._subscriber=new i,this._currentSubscription=null}var t=e.prototype;return t.addListener=function(e,t,n){return this._subscriber.addSubscription(e,new r(this._subscriber,t,n))},t.once=function(e,t,n){var r=this;return this.addListener(e,(function(){r.removeCurrentListener(),t.apply(n,arguments)}))},t.removeAllListeners=function(e){this._subscriber.removeAllSubscriptions(e)},t.removeCurrentListener=function(){this._currentSubscription||o(!1),this._subscriber.removeSubscription(this._currentSubscription)},t.listeners=function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(a.thatReturnsTrue).map((function(e){return e.listener})):[]},t.emit=function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=t[n[r]];i&&(this._currentSubscription=i,this.__emitToSubscription.apply(this,[i].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},t.__emitToSubscription=function(e,t){var n=Array.prototype.slice.call(arguments,2);e.listener.apply(e.context,n)},e}();e.exports=s},5435:(e,t,n)=>{"use strict";var r=function(e){var t,n;function r(t,n,r){var i;return(i=e.call(this,t)||this).listener=n,i.context=r,i}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(n(7565));e.exports=r},7565:e=>{"use strict";var t=function(){function e(e){this.subscriber=e}return e.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},e}();e.exports=t},9143:(e,t,n)=>{"use strict";var r=n(2205),i=function(){function e(){this._subscriptionsForType={},this._currentSubscription=null}var t=e.prototype;return t.addSubscription=function(e,t){t.subscriber!==this&&r(!1),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var n=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=n,t},t.removeAllSubscriptions=function(e){void 0===e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]},t.removeSubscription=function(e){var t=e.eventType,n=e.key,r=this._subscriptionsForType[t];r&&delete r[n]},t.getSubscriptionsForType=function(e){return this._subscriptionsForType[e]},e}();e.exports=i},4936:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},2205:e=>{"use strict";e.exports=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(o=new Error(t.replace(/%s/g,(function(){return String(r[a++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},8135:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},2782:(e,t)=>{var n,r,i,o,a,s,l,c,u,h,p,d={userAgent:!1},f={},m=m||(n=Math,i=(r={}).lib={},o=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=n.ceil(t/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(4294967296*n.random()|0);return new a.init(t,e)}}),s=r.enc={},l=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},h=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,i=t.sigBytes,o=this.blockSize,s=i/(4*o),l=(s=e?n.ceil(s):n.max((0|s)-this._minBufferSize,0))*o,c=n.min(4*l,i);if(l){for(var u=0;u<l;u+=o)this._doProcessBlock(r,u);var h=r.splice(0,l);t.sigBytes-=c}return new a.init(h,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),i.Hasher=h.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),p=r.algo={},r);!function(e){var t,n=(t=m).lib,r=n.Base,i=n.WordArray;(t=t.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),m.lib.Cipher||function(e){var t=(d=m).lib,n=t.Base,r=t.WordArray,i=t.BufferedBlockAlgorithm,o=d.enc.Base64,a=d.algo.EvpKDF,s=t.Cipher=i.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?f:p).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?f:p).decrypt(e,t,n,r)}}}});t.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=d.mode={},c=function(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]},u=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();u.Encryptor=u.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;c.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),u.Decryptor=u.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),c.call(this,e,t,r),this._prevBlock=i}}),l=l.CBC=u,u=(d.pad={}).Pkcs7={pad:function(e,t){for(var n,i=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,o=[],a=0;a<n;a+=4)o.push(i);n=r.create(o,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=s.extend({cfg:s.cfg.extend({mode:l,padding:u}),reset:function(){s.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var h=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),p=(l=(d.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(o)},parse:function(e){var t=(e=o.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=r.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return h.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:l}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,h.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),d=(d.kdf={}).OpenSSL={execute:function(e,t,n,i){return i||(i=r.random(8)),e=a.create({keySize:t+n}).compute(e,i),n=r.create(e.words.slice(t),4*n),e.sigBytes=4*t,h.create({key:e,iv:n,salt:i})}},f=t.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:d}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(e=p.encrypt.call(this,e,t,n.key,r)).mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,p.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=m,t=e.lib.BlockCipher,n=e.algo,r=[],i=[],o=[],a=[],s=[],l=[],c=[],u=[],h=[],p=[],d=[],f=0;256>f;f++)d[f]=128>f?f<<1:f<<1^283;var g=0,y=0;for(f=0;256>f;f++){var v=(v=y^y<<1^y<<2^y<<3^y<<4)>>>8^255&v^99;r[g]=v,i[v]=g;var b=d[g],k=d[b],w=d[k],x=257*d[v]^16843008*v;o[g]=x<<24|x>>>8,a[g]=x<<16|x>>>16,s[g]=x<<8|x>>>24,l[g]=x,x=16843009*w^65537*k^257*b^16843008*g,c[v]=x<<24|x>>>8,u[v]=x<<16|x>>>16,h[v]=x<<8|x>>>24,p[v]=x,g?(g=b^d[d[d[w^b]]],y^=d[d[y]]):g=y=1}var _=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),i=this._keySchedule=[],o=0;o<n;o++)if(o<t)i[o]=e[o];else{var a=i[o-1];o%t?6<t&&4==o%t&&(a=r[a>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a]):(a=r[(a=a<<8|a>>>24)>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a],a^=_[o/t|0]<<24),i[o]=i[o-t]^a}for(e=this._invKeySchedule=[],t=0;t<n;t++)o=n-t,a=t%4?i[o]:i[o-4],e[t]=4>t||4>=o?a:c[r[a>>>24]]^u[r[a>>>16&255]]^h[r[a>>>8&255]]^p[r[255&a]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,a,s,l,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,u,h,p,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],h=e[t+2]^n[2],p=e[t+3]^n[3],d=4,f=1;f<l;f++){var m=r[c>>>24]^i[u>>>16&255]^o[h>>>8&255]^a[255&p]^n[d++],g=r[u>>>24]^i[h>>>16&255]^o[p>>>8&255]^a[255&c]^n[d++],y=r[h>>>24]^i[p>>>16&255]^o[c>>>8&255]^a[255&u]^n[d++];p=r[p>>>24]^i[c>>>16&255]^o[u>>>8&255]^a[255&h]^n[d++],c=m,u=g,h=y}m=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[h>>>8&255]<<8|s[255&p])^n[d++],g=(s[u>>>24]<<24|s[h>>>16&255]<<16|s[p>>>8&255]<<8|s[255&c])^n[d++],y=(s[h>>>24]<<24|s[p>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^n[d++],p=(s[p>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&h])^n[d++],e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=p},keySize:8}),e.AES=t._createHelper(n)}(),function(){function e(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function t(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}var n=m,r=(i=n.lib).WordArray,i=i.BlockCipher,o=n.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;56>n;n++){var r=a[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(e=this._subKeys=[],r=0;16>r;r++){var i=e[r]=[],o=l[r];for(n=0;24>n;n++)i[n/6|0]|=t[(s[n]-1+o)%28]<<31-n%6,i[4+(n/6|0)]|=t[28+(s[n+24]-1+o)%28]<<31-n%6;for(i[0]=i[0]<<1|i[0]>>>31,n=1;7>n;n++)i[n]>>>=4*(n-1)+3;i[7]=i[7]<<5|i[7]>>>27}for(t=this._invSubKeys=[],n=0;16>n;n++)t[n]=e[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(n,r,i){this._lBlock=n[r],this._rBlock=n[r+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var o=0;16>o;o++){for(var a=i[o],s=this._lBlock,l=this._rBlock,h=0,p=0;8>p;p++)h|=c[p][((l^a[p])&u[p])>>>0];this._lBlock=l,this._rBlock=s^h}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),n[r]=this._lBlock,n[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=i._createHelper(h),o=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=h.createEncryptor(r.create(e.slice(0,2))),this._des2=h.createEncryptor(r.create(e.slice(2,4))),this._des3=h.createEncryptor(r.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=i._createHelper(o)}(),function(){var e=m,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;4>a&&i+.75*a<n;a++)e.push(r.charAt(o>>>6*(3-a)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map;(i=r.charAt(64))&&-1!=(i=e.indexOf(i))&&(n=i);for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r.indexOf(e.charAt(a-1))<<a%4*2,l=r.indexOf(e.charAt(a))>>>6-a%4*2;i[o>>>2]|=(s|l)<<24-o%4*8,o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,r,i,o,a){return((e=e+(t&n|~t&r)+i+a)<<o|e>>>32-o)+t}function n(e,t,n,r,i,o,a){return((e=e+(t&r|n&~r)+i+a)<<o|e>>>32-o)+t}function r(e,t,n,r,i,o,a){return((e=e+(t^n^r)+i+a)<<o|e>>>32-o)+t}function i(e,t,n,r,i,o,a){return((e=e+(n^(t|~r))+i+a)<<o|e>>>32-o)+t}for(var o=m,a=(l=o.lib).WordArray,s=l.Hasher,l=o.algo,c=[],u=0;64>u;u++)c[u]=4294967296*e.abs(e.sin(u+1))|0;l=l.MD5=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var a=0;16>a;a++){var s=e[l=o+a];e[l]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}a=this._hash.words;var l=e[o+0],u=(s=e[o+1],e[o+2]),h=e[o+3],p=e[o+4],d=e[o+5],f=e[o+6],m=e[o+7],g=e[o+8],y=e[o+9],v=e[o+10],b=e[o+11],k=e[o+12],w=e[o+13],x=e[o+14],_=e[o+15],S=t(S=a[0],D=a[1],A=a[2],E=a[3],l,7,c[0]),E=t(E,S,D,A,s,12,c[1]),A=t(A,E,S,D,u,17,c[2]),D=t(D,A,E,S,h,22,c[3]);S=t(S,D,A,E,p,7,c[4]),E=t(E,S,D,A,d,12,c[5]),A=t(A,E,S,D,f,17,c[6]),D=t(D,A,E,S,m,22,c[7]),S=t(S,D,A,E,g,7,c[8]),E=t(E,S,D,A,y,12,c[9]),A=t(A,E,S,D,v,17,c[10]),D=t(D,A,E,S,b,22,c[11]),S=t(S,D,A,E,k,7,c[12]),E=t(E,S,D,A,w,12,c[13]),A=t(A,E,S,D,x,17,c[14]),S=n(S,D=t(D,A,E,S,_,22,c[15]),A,E,s,5,c[16]),E=n(E,S,D,A,f,9,c[17]),A=n(A,E,S,D,b,14,c[18]),D=n(D,A,E,S,l,20,c[19]),S=n(S,D,A,E,d,5,c[20]),E=n(E,S,D,A,v,9,c[21]),A=n(A,E,S,D,_,14,c[22]),D=n(D,A,E,S,p,20,c[23]),S=n(S,D,A,E,y,5,c[24]),E=n(E,S,D,A,x,9,c[25]),A=n(A,E,S,D,h,14,c[26]),D=n(D,A,E,S,g,20,c[27]),S=n(S,D,A,E,w,5,c[28]),E=n(E,S,D,A,u,9,c[29]),A=n(A,E,S,D,m,14,c[30]),S=r(S,D=n(D,A,E,S,k,20,c[31]),A,E,d,4,c[32]),E=r(E,S,D,A,g,11,c[33]),A=r(A,E,S,D,b,16,c[34]),D=r(D,A,E,S,x,23,c[35]),S=r(S,D,A,E,s,4,c[36]),E=r(E,S,D,A,p,11,c[37]),A=r(A,E,S,D,m,16,c[38]),D=r(D,A,E,S,v,23,c[39]),S=r(S,D,A,E,w,4,c[40]),E=r(E,S,D,A,l,11,c[41]),A=r(A,E,S,D,h,16,c[42]),D=r(D,A,E,S,f,23,c[43]),S=r(S,D,A,E,y,4,c[44]),E=r(E,S,D,A,k,11,c[45]),A=r(A,E,S,D,_,16,c[46]),S=i(S,D=r(D,A,E,S,u,23,c[47]),A,E,l,6,c[48]),E=i(E,S,D,A,m,10,c[49]),A=i(A,E,S,D,x,15,c[50]),D=i(D,A,E,S,d,21,c[51]),S=i(S,D,A,E,k,6,c[52]),E=i(E,S,D,A,h,10,c[53]),A=i(A,E,S,D,v,15,c[54]),D=i(D,A,E,S,s,21,c[55]),S=i(S,D,A,E,g,6,c[56]),E=i(E,S,D,A,_,10,c[57]),A=i(A,E,S,D,f,15,c[58]),D=i(D,A,E,S,w,21,c[59]),S=i(S,D,A,E,p,6,c[60]),E=i(E,S,D,A,b,10,c[61]),A=i(A,E,S,D,u,15,c[62]),D=i(D,A,E,S,y,21,c[63]),a[0]=a[0]+S|0,a[1]=a[1]+D|0,a[2]=a[2]+A|0,a[3]=a[3]+E|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296);for(n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,r=0;4>r;r++)i=n[r],n[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=s._createHelper(l),o.HmacMD5=s._createHmacHelper(l)}(Math),function(){var e=m,t=(i=e.lib).WordArray,n=i.Hasher,r=[],i=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=0;80>c;c++){if(16>c)r[c]=0|e[t+c];else{var u=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=u<<1|u>>>31}u=(i<<5|i>>>27)+l+r[c],u=20>c?u+(1518500249+(o&a|~o&s)):40>c?u+(1859775393+(o^a^s)):60>c?u+((o&a|o&s|a&s)-1894007588):u+((o^a^s)-899497514),l=s,s=a,a=o<<30|o>>>2,o=i,i=u}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(i),e.HmacSHA1=n._createHmacHelper(i)}(),function(e){for(var t=m,n=(i=t.lib).WordArray,r=i.Hasher,i=t.algo,o=[],a=[],s=function(e){return 4294967296*(e-(0|e))|0},l=2,c=0;64>c;){var u;e:{u=l;for(var h=e.sqrt(u),p=2;p<=h;p++)if(!(u%p)){u=!1;break e}u=!0}u&&(8>c&&(o[c]=s(e.pow(l,.5))),a[c]=s(e.pow(l,1/3)),c++),l++}var d=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],l=n[4],c=n[5],u=n[6],h=n[7],p=0;64>p;p++){if(16>p)d[p]=0|e[t+p];else{var f=d[p-15],m=d[p-2];d[p]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+d[p-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+d[p-16]}f=h+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&c^~l&u)+a[p]+d[p],m=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),h=u,u=c,c=l,l=s+f|0,s=o,o=i,i=r,r=f+m|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0,n[5]=n[5]+c|0,n[6]=n[6]+u|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=r._createHelper(i),t.HmacSHA256=r._createHmacHelper(i)}(Math),function(){var e=m,t=e.lib.WordArray,n=(r=e.algo).SHA256,r=r.SHA224=n.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=n._createHelper(r),e.HmacSHA224=n._createHmacHelper(r)}(),function(){function e(){return r.create.apply(r,arguments)}for(var t=m,n=t.lib.Hasher,r=(o=t.x64).Word,i=o.WordArray,o=t.algo,a=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],s=[],l=0;80>l;l++)s[l]=e();o=o.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=(h=this._hash.words)[0],r=h[1],i=h[2],o=h[3],l=h[4],c=h[5],u=h[6],h=h[7],p=n.high,d=n.low,f=r.high,m=r.low,g=i.high,y=i.low,v=o.high,b=o.low,k=l.high,w=l.low,x=c.high,_=c.low,S=u.high,E=u.low,A=h.high,D=h.low,C=p,P=d,R=f,O=m,T=g,B=y,F=v,M=b,N=k,I=w,j=x,H=_,L=S,q=E,z=A,U=D,V=0;80>V;V++){var K=s[V];if(16>V)var Y=K.high=0|e[t+2*V],$=K.low=0|e[t+2*V+1];else{Y=(($=(Y=s[V-15]).high)>>>1|(W=Y.low)<<31)^($>>>8|W<<24)^$>>>7;var W=(W>>>1|$<<31)^(W>>>8|$<<24)^(W>>>7|$<<25),G=(($=(G=s[V-2]).high)>>>19|(J=G.low)<<13)^($<<3|J>>>29)^$>>>6,J=(J>>>19|$<<13)^(J<<3|$>>>29)^(J>>>6|$<<26),X=($=s[V-7]).high,Q=(Z=s[V-16]).high,Z=Z.low;Y=(Y=(Y=Y+X+(($=W+$.low)>>>0<W>>>0?1:0))+G+(($+=J)>>>0<J>>>0?1:0))+Q+(($+=Z)>>>0<Z>>>0?1:0),K.high=Y,K.low=$}X=N&j^~N&L,Z=I&H^~I&q,K=C&R^C&T^R&T;var ee=P&O^P&B^O&B,te=(W=(C>>>28|P<<4)^(C<<30|P>>>2)^(C<<25|P>>>7),G=(P>>>28|C<<4)^(P<<30|C>>>2)^(P<<25|C>>>7),(J=a[V]).high),ne=J.low;Q=z+((N>>>14|I<<18)^(N>>>18|I<<14)^(N<<23|I>>>9))+((J=U+((I>>>14|N<<18)^(I>>>18|N<<14)^(I<<23|N>>>9)))>>>0<U>>>0?1:0),z=L,U=q,L=j,q=H,j=N,H=I,N=F+(Q=(Q=(Q=Q+X+((J+=Z)>>>0<Z>>>0?1:0))+te+((J+=ne)>>>0<ne>>>0?1:0))+Y+((J+=$)>>>0<$>>>0?1:0))+((I=M+J|0)>>>0<M>>>0?1:0)|0,F=T,M=B,T=R,B=O,R=C,O=P,C=Q+(K=W+K+(($=G+ee)>>>0<G>>>0?1:0))+((P=J+$|0)>>>0<J>>>0?1:0)|0}d=n.low=d+P,n.high=p+C+(d>>>0<P>>>0?1:0),m=r.low=m+O,r.high=f+R+(m>>>0<O>>>0?1:0),y=i.low=y+B,i.high=g+T+(y>>>0<B>>>0?1:0),b=o.low=b+M,o.high=v+F+(b>>>0<M>>>0?1:0),w=l.low=w+I,l.high=k+N+(w>>>0<I>>>0?1:0),_=c.low=_+H,c.high=x+j+(_>>>0<H>>>0?1:0),E=u.low=E+q,u.high=S+L+(E>>>0<q>>>0?1:0),D=h.low=D+U,h.high=A+z+(D>>>0<U>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(o),t.HmacSHA512=n._createHmacHelper(o)}(),function(){var e=m,t=(i=e.x64).Word,n=i.WordArray,r=(i=e.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(i),e.HmacSHA384=r._createHmacHelper(i)}(),function(){var e=m,t=(r=e.lib).WordArray,n=r.Hasher,r=e.algo,i=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),o=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),a=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),s=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=t.create([0,1518500249,1859775393,2400959708,2840853838]),c=t.create([1352829926,1548603684,1836072691,2053994217,0]);r=r.RIPEMD160=n.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;16>n;n++){var r=e[w=t+n];e[w]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var u,h,p,d,f,m,g,y,v,b,k,w=this._hash.words,x=(r=l.words,c.words),_=i.words,S=o.words,E=a.words,A=s.words;for(m=u=w[0],g=h=w[1],y=p=w[2],v=d=w[3],b=f=w[4],n=0;80>n;n+=1)k=u+e[t+_[n]]|0,k=16>n?k+((h^p^d)+r[0]):32>n?k+((h&p|~h&d)+r[1]):48>n?k+(((h|~p)^d)+r[2]):64>n?k+((h&d|p&~d)+r[3]):k+((h^(p|~d))+r[4]),k=(k=(k|=0)<<E[n]|k>>>32-E[n])+f|0,u=f,f=d,d=p<<10|p>>>22,p=h,h=k,k=m+e[t+S[n]]|0,k=16>n?k+((g^(y|~v))+x[0]):32>n?k+((g&v|y&~v)+x[1]):48>n?k+(((g|~y)^v)+x[2]):64>n?k+((g&y|~g&v)+x[3]):k+((g^y^v)+x[4]),k=(k=(k|=0)<<A[n]|k>>>32-A[n])+b|0,m=b,b=v,v=y<<10|y>>>22,y=g,g=k;k=w[1]+p+v|0,w[1]=w[2]+d+b|0,w[2]=w[3]+f+m|0,w[3]=w[4]+u+g|0,w[4]=w[0]+h+y|0,w[0]=k},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;for(t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,n=0;5>n;n++)r=t[n],t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.RIPEMD160=n._createHelper(r),e.HmacRIPEMD160=n._createHmacHelper(r)}(Math),function(){var e=m,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,i=4*r;n.sigBytes>i&&(n=e.finalize(n)),n.clamp();for(var o=this._oKey=n.clone(),a=this._iKey=n.clone(),s=o.words,l=a.words,c=0;c<r;c++)s[c]^=1549556828,l[c]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e,t=m,n=(e=t.lib).Base,r=e.WordArray,i=(e=t.algo).HMAC,o=e.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var n=this.cfg,o=i.create(n.hasher,e),a=r.create(),s=r.create([1]),l=a.words,c=s.words,u=n.keySize;for(n=n.iterations;l.length<u;){var h=o.update(t).finalize(s);o.reset();for(var p=h.words,d=p.length,f=h,m=1;m<n;m++){f=o.finalize(f),o.reset();for(var g=f.words,y=0;y<d;y++)p[y]^=g[y]}a.concat(h),c[0]++}return a.sigBytes=4*u,a}});t.PBKDF2=function(e,t,n){return o.create(n).compute(e,t)}}();var g,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v="=";function b(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=y.charAt(n>>6)+y.charAt(63&n);if(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=y.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=y.charAt(n>>2)+y.charAt((3&n)<<4)),v)for(;(3&r.length)>0;)r+=v;return r}function k(e){var t,n,r,i="",o=0;for(t=0;t<e.length&&e.charAt(t)!=v;++t)(r=y.indexOf(e.charAt(t)))<0||(0==o?(i+=D(r>>2),n=3&r,o=1):1==o?(i+=D(n<<2|r>>4),n=15&r,o=2):2==o?(i+=D(n),i+=D(r>>2),n=3&r,o=3):(i+=D(n<<2|r>>4),i+=D(15&r),o=0));return 1==o&&(i+=D(n<<2)),i}function w(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function x(){return new w(null)}"Microsoft Internet Explorer"==d.appName?(w.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var l=32767&this[e],c=this[e++]>>15,u=s*l+c*a;i=((l=a*l+((32767&u)<<15)+n[r]+(1073741823&i))>>>30)+(u>>>15)+s*c+(i>>>30),n[r++]=1073741823&l}return i},g=30):"Netscape"!=d.appName?(w.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},g=26):(w.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var l=16383&this[e],c=this[e++]>>14,u=s*l+c*a;i=((l=a*l+((16383&u)<<14)+n[r]+i)>>28)+(u>>14)+s*c,n[r++]=268435455&l}return i},g=28),w.prototype.DB=g,w.prototype.DM=(1<<g)-1,w.prototype.DV=1<<g,w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-g,w.prototype.F2=2*g-52;var _,S,E="0123456789abcdefghijklmnopqrstuvwxyz",A=new Array;for(_="0".charCodeAt(0),S=0;S<=9;++S)A[_++]=S;for(_="a".charCodeAt(0),S=10;S<36;++S)A[_++]=S;for(_="A".charCodeAt(0),S=10;S<36;++S)A[_++]=S;function D(e){return E.charAt(e)}function C(e,t){var n=A[e.charCodeAt(t)];return null==n?-1:n}function P(e){var t=x();return t.fromInt(e),t}function R(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function O(e){this.m=e}function T(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function B(e,t){return e&t}function F(e,t){return e|t}function M(e,t){return e^t}function N(e,t){return e&~t}function I(e){if(0==e)return-1;var t=0;return 65535&e||(e>>=16,t+=16),255&e||(e>>=8,t+=8),15&e||(e>>=4,t+=4),3&e||(e>>=2,t+=2),1&e||++t,t}function j(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function H(){}function L(e){return e}function q(e){this.r2=x(),this.q3=x(),w.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}O.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},O.prototype.revert=function(e){return e},O.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},O.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},O.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},T.prototype.convert=function(e){var t=x();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(w.ZERO)>0&&this.m.subTo(t,t),t},T.prototype.revert=function(e){var t=x();return e.copyTo(t),this.reduce(t),t},T.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},T.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},T.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},w.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},w.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},w.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var a=8==n?255&e[r]:C(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&128&e[0]&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&w.ZERO.subTo(this,this)},w.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},w.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},w.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},w.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},w.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},w.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},w.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&w.ZERO.subTo(t,t)},w.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},w.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=x());var o=x(),a=this.s,s=e.s,l=this.DB-R(r[r.t-1]);l>0?(r.lShiftTo(l,o),i.lShiftTo(l,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,u=o[c-1];if(0!=u){var h=u*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),p=this.FV/h,d=(1<<this.F1)/h,f=1<<this.F2,m=n.t,g=m-c,y=null==t?x():t;for(o.dlShiftTo(g,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),w.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--g>=0;){var v=n[--m]==u?this.DM:Math.floor(n[m]*p+(n[m-1]+f)*d);if((n[m]+=o.am(0,v,n,g,0,c))<v)for(o.dlShiftTo(g,y),n.subTo(y,n);n[m]<--v;)n.subTo(y,n)}null!=t&&(n.drShiftTo(c,t),a!=s&&w.ZERO.subTo(t,t)),n.t=c,n.clamp(),l>0&&n.rShiftTo(l,n),a<0&&w.ZERO.subTo(n,n)}}},w.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},w.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},w.prototype.exp=function(e,t){if(e>4294967295||e<1)return w.ONE;var n=x(),r=x(),i=t.convert(this),o=R(e)-1;for(i.copyTo(n);--o>=0;)if(t.sqrTo(n,r),(e&1<<o)>0)t.mulTo(r,i,n);else{var a=n;n=r,r=a}return t.revert(n)},w.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=D(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=D(n));return i?o:"0"},w.prototype.negate=function(){var e=x();return w.ZERO.subTo(this,e),e},w.prototype.abs=function(){return this.s<0?this.negate():this},w.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},w.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+R(this[this.t-1]^this.s&this.DM)},w.prototype.mod=function(e){var t=x();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(w.ZERO)>0&&e.subTo(t,t),t},w.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new O(t):new T(t),this.exp(e,n)},w.ZERO=P(0),w.ONE=P(1),H.prototype.convert=L,H.prototype.revert=L,H.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},H.prototype.sqrTo=function(e,t){e.squareTo(t)},q.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=x();return e.copyTo(t),this.reduce(t),t},q.prototype.revert=function(e){return e},q.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},q.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},q.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var z=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],U=(1<<26)/z[z.length-1];function V(){this.i=0,this.j=0,this.S=new Array}w.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},w.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=P(n),i=x(),o=x(),a="";for(this.divRemTo(r,i,o);i.signum()>0;)a=(n+o.intValue()).toString(e).substr(1)+a,i.divRemTo(r,i,o);return o.intValue().toString(e)+a},w.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,o=0,a=0,s=0;s<e.length;++s){var l=C(e,s);l<0?"-"==e.charAt(s)&&0==this.signum()&&(i=!0):(a=t*a+l,++o>=n&&(this.dMultiply(r),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),i&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(w.ONE.shiftLeft(e-1),F,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(w.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},w.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},w.prototype.changeBit=function(e,t){var n=w.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},w.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},w.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},w.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},w.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},w.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},w.prototype.millerRabin=function(e){var t=this.subtract(w.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>z.length&&(e=z.length);for(var i=x(),o=0;o<e;++o){i.fromInt(z[Math.floor(Math.random()*z.length)]);var a=i.modPow(r,this);if(0!=a.compareTo(w.ONE)&&0!=a.compareTo(t)){for(var s=1;s++<n&&0!=a.compareTo(t);)if(0==(a=a.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0},w.prototype.clone=function(){var e=x();return this.copyTo(e),e},w.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},w.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},w.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},w.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},w.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),128&n&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},w.prototype.equals=function(e){return 0==this.compareTo(e)},w.prototype.min=function(e){return this.compareTo(e)<0?this:e},w.prototype.max=function(e){return this.compareTo(e)>0?this:e},w.prototype.and=function(e){var t=x();return this.bitwiseTo(e,B,t),t},w.prototype.or=function(e){var t=x();return this.bitwiseTo(e,F,t),t},w.prototype.xor=function(e){var t=x();return this.bitwiseTo(e,M,t),t},w.prototype.andNot=function(e){var t=x();return this.bitwiseTo(e,N,t),t},w.prototype.not=function(){for(var e=x(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},w.prototype.shiftLeft=function(e){var t=x();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},w.prototype.shiftRight=function(e){var t=x();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},w.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+I(this[e]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=j(this[n]^t);return e},w.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:!!(this[t]&1<<e%this.DB)},w.prototype.setBit=function(e){return this.changeBit(e,F)},w.prototype.clearBit=function(e){return this.changeBit(e,N)},w.prototype.flipBit=function(e){return this.changeBit(e,M)},w.prototype.add=function(e){var t=x();return this.addTo(e,t),t},w.prototype.subtract=function(e){var t=x();return this.subTo(e,t),t},w.prototype.multiply=function(e){var t=x();return this.multiplyTo(e,t),t},w.prototype.divide=function(e){var t=x();return this.divRemTo(e,t,null),t},w.prototype.remainder=function(e){var t=x();return this.divRemTo(e,null,t),t},w.prototype.divideAndRemainder=function(e){var t=x(),n=x();return this.divRemTo(e,t,n),new Array(t,n)},w.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),o=P(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new O(t):t.isEven()?new q(t):new T(t);var a=new Array,s=3,l=n-1,c=(1<<n)-1;if(a[1]=r.convert(this),n>1){var u=x();for(r.sqrTo(a[1],u);s<=c;)a[s]=x(),r.mulTo(u,a[s-2],a[s]),s+=2}var h,p,d=e.t-1,f=!0,m=x();for(i=R(e[d])-1;d>=0;){for(i>=l?h=e[d]>>i-l&c:(h=(e[d]&(1<<i+1)-1)<<l-i,d>0&&(h|=e[d-1]>>this.DB+i-l)),s=n;!(1&h);)h>>=1,--s;if((i-=s)<0&&(i+=this.DB,--d),f)a[h].copyTo(o),f=!1;else{for(;s>1;)r.sqrTo(o,m),r.sqrTo(m,o),s-=2;s>0?r.sqrTo(o,m):(p=o,o=m,m=p),r.mulTo(m,a[h],o)}for(;d>=0&&!(e[d]&1<<i);)r.sqrTo(o,m),p=o,o=m,m=p,--i<0&&(i=this.DB-1,--d)}return r.revert(o)},w.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return w.ZERO;for(var n=e.clone(),r=this.clone(),i=P(1),o=P(0),a=P(0),s=P(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),t?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(a,i),o.subTo(s,o)):(r.subTo(n,r),t&&a.subTo(i,a),s.subTo(o,s))}return 0!=r.compareTo(w.ONE)?w.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},w.prototype.pow=function(e){return this.exp(e,new H)},w.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},w.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=z[z.length-1]){for(t=0;t<z.length;++t)if(n[0]==z[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<z.length;){for(var r=z[t],i=t+1;i<z.length&&r<U;)r*=z[i++];for(r=n.modInt(r);t<i;)if(r%z[t++]==0)return!1}return n.millerRabin(e)},w.prototype.square=function(){var e=x();return this.squareTo(e),e},V.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},V.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var K,Y,$,W=256;function G(){!function(e){Y[$++]^=255&e,Y[$++]^=e>>8&255,Y[$++]^=e>>16&255,Y[$++]^=e>>24&255,$>=W&&($-=W)}((new Date).getTime())}if(null==Y){var J;if(Y=new Array,$=0,void 0!==f&&(void 0!==f.crypto||void 0!==f.msCrypto)){var X=f.crypto||f.msCrypto;if(X.getRandomValues){var Q=new Uint8Array(32);for(X.getRandomValues(Q),J=0;J<32;++J)Y[$++]=Q[J]}else if("Netscape"==d.appName&&d.appVersion<"5"){var Z=f.crypto.random(32);for(J=0;J<Z.length;++J)Y[$++]=255&Z.charCodeAt(J)}}for(;$<W;)J=Math.floor(65536*Math.random()),Y[$++]=J>>>8,Y[$++]=255&J;$=0,G()}function ee(){if(null==K){for(G(),(K=new V).init(Y),$=0;$<Y.length;++$)Y[$]=0;$=0}return K.next()}function te(){}function ne(e,t){return new w(e,t)}function re(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function ie(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function oe(e,t,n){for(var r="",i=0;r.length<t;)r+=n(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return r}function ae(e,t){this.x=t,this.q=e}function se(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?w.ONE:r,this.zinv=null}function le(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new se(this,null,null)}te.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=ee()},ie.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ie.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=ne(e,16),this.e=parseInt(t,16)}},ie.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var o=new te,a=new Array;t>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new w(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 1&r.length?"0"+r:r},ie.prototype.encryptOAEP=function(e,t,n){var r=function(e,t,n,r){var i=ue.crypto.MessageDigest,o=ue.crypto.Util,a=null;if(n||(n="sha1"),"string"==typeof n&&(a=i.getCanonicalAlgName(n),r=i.getHashLength(a),n=function(e){return _e(o.hashHex(Se(e),a))}),e.length+2*r+2>t)throw"Message too long for RSA";var s,l="";for(s=0;s<t-e.length-2*r-2;s+=1)l+="\0";var c=n("")+l+""+e,u=new Array(r);(new te).nextBytes(u);var h=re(u,c.length,n),p=[];for(s=0;s<c.length;s+=1)p[s]=c.charCodeAt(s)^h.charCodeAt(s);var d=re(p,u.length,n),f=[0];for(s=0;s<u.length;s+=1)f[s+1]=u[s]^d.charCodeAt(s);return new w(f.concat(p))}(e,this.n.bitLength()+7>>3,t,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var o=i.toString(16);return 1&o.length?"0"+o:o},ie.prototype.type="RSA",ie.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},ie.prototype.setPrivate=function(e,t,n){if(this.isPrivate=!0,"string"!=typeof e)this.n=e,this.e=t,this.d=n;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key";this.n=ne(e,16),this.e=parseInt(t,16),this.d=ne(n,16)}},ie.prototype.setPrivateEx=function(e,t,n,r,i,o,a,s){if(this.isPrivate=!0,this.isPublic=!1,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=ne(e,16),this.e=parseInt(t,16),this.d=ne(n,16),this.p=ne(r,16),this.q=ne(i,16),this.dmp1=ne(o,16),this.dmq1=ne(a,16),this.coeff=ne(s,16)},ie.prototype.generate=function(e,t){var n=new te,r=e>>1;this.e=parseInt(t,16);for(var i=new w(t,16),o=e/2-100,a=w.ONE.shiftLeft(o);;){for(;this.p=new w(e-r,1,n),0!=this.p.subtract(w.ONE).gcd(i).compareTo(w.ONE)||!this.p.isProbablePrime(10););for(;this.q=new w(r,1,n),0!=this.q.subtract(w.ONE).gcd(i).compareTo(w.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var l=this.q.subtract(this.p).abs();if(!(l.bitLength()<o||l.compareTo(a)<=0)){var c=this.p.subtract(w.ONE),u=this.q.subtract(w.ONE),h=c.multiply(u);if(0==h.gcd(i).compareTo(w.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=i.modInverse(h),this.dmp1=this.d.mod(c),this.dmq1=this.d.mod(u),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},ie.prototype.decrypt=function(e){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var t=ne(e,16),n=this.doPrivate(t);return null==n?null:function(e,t){for(var n=e.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=t-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var o=255&n[r];o<128?i+=String.fromCharCode(o):o>191&&o<224?(i+=String.fromCharCode((31&o)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&o)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}(n,this.n.bitLength()+7>>3)},ie.prototype.decryptOAEP=function(e,t,n){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var r=ne(e,16),i=this.doPrivate(r);return null==i?null:function(e,t,n,r){var i=ue.crypto.MessageDigest,o=ue.crypto.Util,a=null;for(n||(n="sha1"),"string"==typeof n&&(a=i.getCanonicalAlgName(n),r=i.getHashLength(a),n=function(e){return _e(o.hashHex(Se(e),a))}),e=e.toByteArray(),s=0;s<e.length;s+=1)e[s]&=255;for(;e.length<t;)e.unshift(0);if((e=String.fromCharCode.apply(String,e)).length<2*r+2)throw"Cipher too short";var s,l=e.substr(1,r),c=e.substr(r+1),u=oe(c,r,n),h=[];for(s=0;s<l.length;s+=1)h[s]=l.charCodeAt(s)^u.charCodeAt(s);var p=oe(String.fromCharCode.apply(String,h),e.length-r,n),d=[];for(s=0;s<c.length;s+=1)d[s]=c.charCodeAt(s)^p.charCodeAt(s);if((d=String.fromCharCode.apply(String,d)).substr(0,r)!==n(""))throw"Hash mismatch";var f=(d=d.substr(r)).indexOf("");if((-1!=f?d.substr(0,f).lastIndexOf("\0"):-1)+1!=f)throw"Malformed data";return d.substr(f+1)}(i,this.n.bitLength()+7>>3,t,n)},ae.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},ae.prototype.toBigInteger=function(){return this.x},ae.prototype.negate=function(){return new ae(this.q,this.x.negate().mod(this.q))},ae.prototype.add=function(e){return new ae(this.q,this.x.add(e.toBigInteger()).mod(this.q))},ae.prototype.subtract=function(e){return new ae(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},ae.prototype.multiply=function(e){return new ae(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},ae.prototype.square=function(){return new ae(this.q,this.x.square().mod(this.q))},ae.prototype.divide=function(e){return new ae(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},ae.prototype.sqrt=function(){return new ae(this.q,this.x.sqrt().mod(this.q))},se.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},se.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},se.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(w.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(w.ZERO))},se.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(w.ZERO)&&!this.y.toBigInteger().equals(w.ZERO)},se.prototype.negate=function(){return new se(this.curve,this.x,this.y.negate(),this.z)},se.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(w.ZERO.equals(n))return w.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new w("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),a=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),s=a.multiply(n),l=i.multiply(a),c=t.square().multiply(this.z),u=c.subtract(l.shiftLeft(1)).multiply(e.z).subtract(s).multiply(n).mod(this.curve.q),h=l.multiply(r).multiply(t).subtract(o.multiply(s)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(s)).mod(this.curve.q),p=s.multiply(this.z).multiply(e.z).mod(this.curve.q);return new se(this.curve,this.curve.fromBigInteger(u),this.curve.fromBigInteger(h),p)},se.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new w("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),o=this.curve.a.toBigInteger(),a=t.square().multiply(e);w.ZERO.equals(o)||(a=a.add(this.z.square().multiply(o)));var s=(a=a.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),l=a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q),c=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new se(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(l),c)},se.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new w("3")),i=this.negate(),o=this,a=this.curve.q.subtract(e),s=a.multiply(new w("3")),l=new se(this.curve,this.x,this.y),c=l.negate();for(t=r.bitLength()-2;t>0;--t){o=o.twice();var u=r.testBit(t);u!=n.testBit(t)&&(o=o.add(u?this:i))}for(t=s.bitLength()-2;t>0;--t){l=l.twice();var h=s.testBit(t);h!=a.testBit(t)&&(l=l.add(h?l:c))}return o},se.prototype.multiplyTwo=function(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(o):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i},le.prototype.getQ=function(){return this.q},le.prototype.getA=function(){return this.a},le.prototype.getB=function(){return this.b},le.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},le.prototype.getInfinity=function(){return this.infinity},le.prototype.fromBigInteger=function(e){return new ae(this.q,e)},le.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var t=e.substr(0,2),n=(e.substr(2),this.fromBigInteger(new w(s,16))),r=this.getA(),i=this.getB(),o=n.square().add(r).multiply(n).add(i).sqrt();return"03"==t&&(o=o.negate()),new se(this,n,o);case 4:case 6:case 7:var a=(e.length-2)/2,s=e.substr(2,a),l=e.substr(a+2,a);return new se(this,this.fromBigInteger(new w(s,16)),this.fromBigInteger(new w(l,16)));default:return null}},ae.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},se.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},se.decodeFrom=function(e,t){t[0];var n=t.length-1,r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var o=new w(r),a=new w(i);return new se(e,e.fromBigInteger(o),e.fromBigInteger(a))},se.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),o=new w(r,16),a=new w(i,16);return new se(e,e.fromBigInteger(o),e.fromBigInteger(a))},se.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),r=n.square().subtract(this.x).subtract(e.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new se(this.curve,r,i)},se.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(w.valueOf(2)),t=this.curve.fromBigInteger(w.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new se(this.curve,r,i)},se.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new w("3")),i=this.negate(),o=this;for(t=r.bitLength()-2;t>0;--t){o=o.twice();var a=r.testBit(t);a!=n.testBit(t)&&(o=o.add2D(a?this:i))}return o},se.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=t.multiply(t).mod(i),a=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return o.equals(a)},se.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},se.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(w.ONE)<0||t.compareTo(e.subtract(w.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(w.ONE)<0||n.compareTo(e.subtract(w.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ce=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function r(e,t,r){return t?n[t]:String.fromCharCode(parseInt(r,16))}var i=new String(""),o=Object.hasOwnProperty;return function(n,a){var s,l,c=n.match(e),u=c[0],h=!1;"{"===u?s={}:"["===u?s=[]:(s=[],h=!0);for(var p=[s],d=1-h,f=c.length;d<f;++d){var m;switch((u=c[d]).charCodeAt(0)){default:(m=p[0])[l||m.length]=+u,l=void 0;break;case 34:if(-1!==(u=u.substring(1,u.length-1)).indexOf("\\")&&(u=u.replace(t,r)),m=p[0],!l){if(!(m instanceof Array)){l=u||i;break}l=m.length}m[l]=u,l=void 0;break;case 91:m=p[0],p.unshift(m[l||m.length]=[]),l=void 0;break;case 93:case 125:p.shift();break;case 102:(m=p[0])[l||m.length]=!1,l=void 0;break;case 110:(m=p[0])[l||m.length]=null,l=void 0;break;case 116:(m=p[0])[l||m.length]=!0,l=void 0;break;case 123:m=p[0],p.unshift(m[l||m.length]={}),l=void 0}}if(h){if(1!==p.length)throw new Error;s=s[0]}else if(p.length)throw new Error;if(a){var g=function(e,t){var n=e[t];if(n&&"object"==typeof n){var r=null;for(var i in n)if(o.call(n,i)&&n!==e){var s=g(n,i);void 0!==s?n[i]=s:(r||(r=[]),r.push(i))}if(r)for(var l=r.length;--l>=0;)delete n[r[l]]}return a.call(e,t,n)};s=g({"":s},"")}return s}}();void 0!==ue&&ue||(ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),ue.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";t=new w(r,16).xor(e).add(w.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Ae(e,t)},this.newObject=function(e){var t=ue.asn1,n=t.ASN1Object,r=t.DERBoolean,i=t.DERInteger,o=t.DERBitString,a=t.DEROctetString,s=t.DERNull,l=t.DERObjectIdentifier,c=t.DEREnumerated,u=t.DERUTF8String,h=t.DERNumericString,p=t.DERPrintableString,d=t.DERTeletexString,f=t.DERIA5String,m=t.DERUTCTime,g=t.DERGeneralizedTime,y=t.DERVisibleString,v=t.DERBMPString,b=t.DERSequence,k=t.DERSet,w=t.DERTaggedObject,x=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var _=Object.keys(e);if(1!=_.length)throw new Error("key of param shall be only one.");var S=_[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+S+":"))throw new Error("undefined key: "+S);if("bool"==S)return new r(e[S]);if("int"==S)return new i(e[S]);if("bitstr"==S)return new o(e[S]);if("octstr"==S)return new a(e[S]);if("null"==S)return new s(e[S]);if("oid"==S)return new l(e[S]);if("enum"==S)return new c(e[S]);if("utf8str"==S)return new u(e[S]);if("numstr"==S)return new h(e[S]);if("prnstr"==S)return new p(e[S]);if("telstr"==S)return new d(e[S]);if("ia5str"==S)return new f(e[S]);if("utctime"==S)return new m(e[S]);if("gentime"==S)return new g(e[S]);if("visstr"==S)return new y(e[S]);if("bmpstr"==S)return new v(e[S]);if("asn1"==S)return new n(e[S]);if("seq"==S){for(var E=e[S],A=[],D=0;D<E.length;D++){var C=x(E[D]);A.push(C)}return new b({array:A})}if("set"==S){for(E=e[S],A=[],D=0;D<E.length;D++)C=x(E[D]),A.push(C);return new k({array:A})}if("tag"==S){var P=e[S];if("[object Array]"===Object.prototype.toString.call(P)&&3==P.length){var R=x(P[2]);return new w({tag:P[0],explicit:P[1],obj:R})}return new w(P)}},this.jsonToASN1HEX=function(e){return this.newObject(e).tohex()}},ue.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),i=2;i<e.length;i+=2){var o=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);r+=o.substr(1,7),"0"==o.substr(0,1)&&(t=t+"."+new w(r,2).toString(10),r="")}return t},ue.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new w(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(r=o+r,a=0;a<r.length-1;a+=7){var s=r.substr(a,7);a!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=t(o),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);return r},ue.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+e.toString(16));return(128+n).toString(16)+t},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},ue.asn1.DERAbstractString=function(e){ue.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ke(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},Ke(ue.asn1.DERAbstractString,ue.asn1.ASN1Object),ue.asn1.DERAbstractTime=function(e){ue.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var a=o+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var s=i.getMilliseconds();if(0!=s){var l=r(String(s),3);a=a+"."+(l=l.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.setByParam=function(e){this.hV=null,this.hTLV=null,this.params=e},this.getString=function(){},this.setString=function(e){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=e},this.setByDate=function(e){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=e},this.setByDateValue=function(e,t,n,r,i,o){var a=new Date(Date.UTC(e,t-1,n,r,i,o,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},Ke(ue.asn1.DERAbstractTime,ue.asn1.ASN1Object),ue.asn1.DERAbstractStructured=function(e){ue.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},Ke(ue.asn1.DERAbstractStructured,ue.asn1.ASN1Object),ue.asn1.DERBoolean=function(e){ue.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},Ke(ue.asn1.DERBoolean,ue.asn1.ASN1Object),ue.asn1.DERInteger=function(e){ue.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ue.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new w(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Ke(ue.asn1.DERInteger,ue.asn1.ASN1Object),ue.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ue.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.tohex()}ue.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0),e+="0000000".substr(0,t);for(var n="",r=0;r<e.length-1;r+=8){var i=e.substr(r,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),n+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},Ke(ue.asn1.DERBitString,ue.asn1.ASN1Object),ue.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ue.asn1.ASN1Util.newObject(e.obj);e.hex=t.tohex()}ue.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},Ke(ue.asn1.DEROctetString,ue.asn1.DERAbstractString),ue.asn1.DERNull=function(){ue.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Ke(ue.asn1.DERNull,ue.asn1.ASN1Object),ue.asn1.DERObjectIdentifier=function(e){ue.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=parseInt(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(r=o+r,a=0;a<r.length-1;a+=7){var s=r.substr(a,7);a!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};try{if(!e.match(/^[0-9.]+$/))return null;var r="",i=e.split("."),o=40*parseInt(i[0],10)+parseInt(i[1],10);r+=t(o),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);return r}catch(e){return null}}(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=ue.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.DERObjectIdentifier,ue.asn1.ASN1Object),ue.asn1.DEREnumerated=function(e){ue.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ue.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new w(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Ke(ue.asn1.DEREnumerated,ue.asn1.ASN1Object),ue.asn1.DERUTF8String=function(e){ue.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},Ke(ue.asn1.DERUTF8String,ue.asn1.DERAbstractString),ue.asn1.DERNumericString=function(e){ue.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},Ke(ue.asn1.DERNumericString,ue.asn1.DERAbstractString),ue.asn1.DERPrintableString=function(e){ue.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},Ke(ue.asn1.DERPrintableString,ue.asn1.DERAbstractString),ue.asn1.DERTeletexString=function(e){ue.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},Ke(ue.asn1.DERTeletexString,ue.asn1.DERAbstractString),ue.asn1.DERIA5String=function(e){ue.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},Ke(ue.asn1.DERIA5String,ue.asn1.DERAbstractString),ue.asn1.DERVisibleString=function(e){ue.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},Ke(ue.asn1.DERVisibleString,ue.asn1.DERAbstractString),ue.asn1.DERBMPString=function(e){ue.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},Ke(ue.asn1.DERBMPString,ue.asn1.DERAbstractString),ue.asn1.DERUTCTime=function(e){ue.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var e=this.params;if(null==this.params&&(e={date:new Date}),"string"==typeof e){if(!e.match(/^[0-9]{12}Z$/)&&!e.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+e);this.hV=me(e)}else if(null!=e.str)this.hV=me(e.str);else if(null==e.date&&1==e.millis){var t=new Date;this.hV=me(this.formatDate(t,"utc",!0))}else if(null!=e.date&&e.date instanceof Date){var n=!0===e.millis;this.hV=me(this.formatDate(e.date,"utc",n))}else e instanceof Date&&(this.hV=me(this.formatDate(e,"utc")));if(null==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},null!=e&&this.setByParam(e)},Ke(ue.asn1.DERUTCTime,ue.asn1.DERAbstractTime),ue.asn1.DERGeneralizedTime=function(e){ue.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.params=e,this.getFreshValueHex=function(){var e=this.params;if(null==this.params&&(e={date:new Date}),"string"==typeof e){if(!e.match(/^[0-9]{14}Z$/)&&!e.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+e);this.hV=me(e)}else if(null!=e.str)this.hV=me(e.str);else if(null==e.date&&1==e.millis){var t=new Date;this.hV=me(this.formatDate(t,"gen",!0))}else if(null!=e.date&&e.date instanceof Date){var n=!0===e.millis;this.hV=me(this.formatDate(e.date,"gen",n))}else e instanceof Date&&(this.hV=me(this.formatDate(e,"gen")));if(null==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=e&&this.setByParam(e)},Ke(ue.asn1.DERGeneralizedTime,ue.asn1.DERAbstractTime),ue.asn1.DERSequence=function(e){ue.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].tohex();return this.hV=e,this.hV}},Ke(ue.asn1.DERSequence,ue.asn1.DERAbstractStructured),ue.asn1.DERSet=function(e){ue.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.tohex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},Ke(ue.asn1.DERSet,ue.asn1.DERAbstractStructured),ue.asn1.DERTaggedObject=function(e){ue.asn1.DERTaggedObject.superclass.constructor.call(this);var t=ue.asn1,n=de,r=n.getV,i=(n.isASN1HEX,t.ASN1Util.newObject);this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(e,t,n){this.params={tag:t,explicit:e,obj:n}},this.getFreshValueHex=function(){var e=this.params;if(null==e.explicit&&(e.explicit=!0),null!=e.tage&&(e.tag=e.tage,e.explicit=!0),null!=e.tagi&&(e.tag=e.tagi,e.explicit=!1),null!=e.str)this.hV=ke(e.str);else if(null!=e.hex)this.hV=e.hex;else{if(null==e.obj)throw new Error("str, hex nor obj not specified");var n;e.obj instanceof t.ASN1Object?n=e.obj.tohex():"object"==typeof e.obj&&(n=i(e.obj).tohex()),e.explicit?this.hV=n:this.hV=r(n,0)}return null==e.tag&&(e.tag="a0"),this.hT=e.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.DERTaggedObject,ue.asn1.ASN1Object);var ue,he,pe,de=new function(){};function fe(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function me(e){return fe(function(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e))}function ge(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ye(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function ve(e){return e.length%2==1&&(e="0"+e),ge(b(e))}function be(e){return k(ye(e))}function ke(e){return Pe(je(e)).toLowerCase()}function we(e){try{return decodeURIComponent(Re(e))}catch(e){return null}}function xe(e){return we(function(e){for(var t=e.match(/.{1,2}/g),n=[],r=0;r<t.length;r++){var i=parseInt(t[r],16);161<=i&&i<=191?(n.push("c2"),n.push(t[r])):192<=i&&i<=255?(n.push("c3"),n.push((i-64).toString(16))):n.push(t[r])}return n.join("")}(e))}function _e(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function Se(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function Ee(e){var t=function(e){return b(e)}(e).replace(/(.{64})/g,"$1\r\n");return t.replace(/\r\n$/,"")}function Ae(e,t){return"-----BEGIN "+t+"-----\r\n"+Ee(e)+"\r\n-----END "+t+"-----\r\n"}function De(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return function(e){return k(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Ce(e){return Math.round(function(e){var t,n,r,i,o,a,s,l,c,u,h;if(h=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return l=h[1],t=parseInt(l),2===l.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(h[2])-1,r=parseInt(h[3]),i=parseInt(h[4]),o=parseInt(h[5]),a=parseInt(h[6]),s=0,""!==(c=h[7])&&(u=(c.substr(1)+"00").substr(0,3),s=parseInt(u)),Date.UTC(t,n,r,i,o,a,s);throw new Error("unsupported zulu format: "+e)}(e)/1e3)}function Pe(e){return e.replace(/%/g,"")}function Re(e){return e.replace(/(..)/g,"%$1")}function Oe(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var r=":".repeat(7-n+2),i=(e=e.replace("::",r)).split(":");if(8!=i.length)throw t;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function Te(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+e);var t=(e=e.toLowerCase()).match(/.{1,4}/g);t=t.map((function(e){return e.replace(/^0+/,"")})),t=t.map((function(e){return""==e?"0":e}));var n=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null==n)return e.slice(1,-1);var r=n.sort().slice(-1)[0];return"::"!=(e=e.replace(r.substr(0,r.length-1),":")).substr(0,2)&&(e=e.substr(1)),"::"!=e.substr(-2,2)&&(e=e.substr(0,e.length-1)),e}function Be(e){var t=new Error("malformed hex value");if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8==e.length)try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}else{if(16!=e.length){if(32==e.length)return Te(e);if(64==e.length){try{return Te(e.substr(0,32))+"/"+Fe(e.substr(32))}catch(e){throw t}return}return e}try{return Be(e.substr(0,8))+"/"+Fe(e.substr(8))}catch(e){throw t}}}function Fe(e){var t,n=new Error("malformed mask");try{t=new w(e,16).toString(2)}catch(e){throw n}if(!t.match(/^1*0*$/))throw n;return t.replace(/0+$/,"").length}function Me(e){var t=new Error("malformed IP address");if(!(e=e.toLowerCase(e)).match(/^[0-9a-f.:/]+$/))throw t;if(!e.match(/^[0-9.]+$/)){var n;if(e.match(/^[0-9.]+\/[0-9]+$/))return Me((n=e.split("/"))[0])+Ne(parseInt(n[1]),32);if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Oe(e);if(e.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==e.indexOf(":"))return Oe((n=e.split("/"))[0])+Ne(parseInt(n[1]),128);throw t}var r=e.split(".");if(4!==r.length)throw t;var i="";try{for(var o=0;o<4;o++)i+=("0"+parseInt(r[o]).toString(16)).slice(-2);return i}catch(e){throw t}}function Ne(e,t){return 32==t&&0==e?"00000000":128==t&&0==e?"00000000000000000000000000000000":new w(Array(e+1).join("1")+Array(t-e+1).join("0"),2).toString(16)}function Ie(e){var t=e.match(/.{4}/g).map((function(e){var t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2),16);if(0==t&n<128)return String.fromCharCode(n);if(t<8){var r=128|63&n;return we((192|(7&t)<<3|(192&n)>>6).toString(16)+r.toString(16))}r=128|(15&t)<<2|(192&n)>>6;var i=128|63&n;return we((224|(240&t)>>4).toString(16)+r.toString(16)+i.toString(16))}));return t.join("")}function je(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+me(t[r]);return n}function He(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Le(e){return!!e.match(/^[0-9A-Za-z-_.]+$/)}function qe(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function ze(e){if(!He(e))return null;try{var t=[],n=e.substr(0,2),r=parseInt(n,16);t[0]=new String(Math.floor(r/40)),t[1]=new String(r%40);for(var i=e.substr(2),o=[],a=0;a<i.length/2;a++)o.push(parseInt(i.substr(2*a,2),16));var s=[],l="";for(a=0;a<o.length;a++)128&o[a]?l+=Ue((127&o[a]).toString(2),7):(l+=Ue((127&o[a]).toString(2),7),s.push(new String(parseInt(l,2))),l="");var c=t.join(".");return s.length>0&&(c=c+"."+s.join(".")),c}catch(e){return null}}de.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},de.getL=function(e,t){var n=de.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},de.getVblen=function(e,t){var n;return""==(n=de.getL(e,t))?-1:("8"===n.substr(0,1)?new w(n.substr(2),16):new w(n,16)).intValue()},de.getVidx=function(e,t){var n=de.getLblen(e,t);return n<0?n:t+2*(n+1)},de.getV=function(e,t){var n=de.getVidx(e,t),r=de.getVblen(e,t);return e.substr(n,2*r)},de.getTLV=function(e,t){return e.substr(t,2)+de.getL(e,t)+de.getV(e,t)},de.getTLVblen=function(e,t){return 2+2*de.getLblen(e,t)+2*de.getVblen(e,t)},de.getNextSiblingIdx=function(e,t){return de.getVidx(e,t)+2*de.getVblen(e,t)},de.getChildIdx=function(e,t){var n,r,i,o=de,a=[];n=o.getVidx(e,t),r=2*o.getVblen(e,t),"03"==e.substr(t,2)&&(n+=2,r-=2),i=0;for(var s=n;i<=r;){var l=o.getTLVblen(e,s);if((i+=l)<=r&&a.push(s),s+=l,i>=r)break}return a},de.getNthChildIdx=function(e,t,n){return de.getChildIdx(e,t)[n]},de.getIdxbyList=function(e,t,n,r){var i,o,a=de;return 0==n.length?void 0!==r&&e.substr(t,2)!==r?-1:t:(i=n.shift())>=(o=a.getChildIdx(e,t)).length?-1:a.getIdxbyList(e,o[i],n,r)},de.getIdxbyListEx=function(e,t,n,r){var i,o,a=de;if(0==n.length)return void 0!==r&&e.substr(t,2)!==r?-1:t;i=n.shift(),o=a.getChildIdx(e,t);for(var s=0,l=0;l<o.length;l++){var c=e.substr(o[l],2);if("number"==typeof i&&!a.isContextTag(c)&&s==i||"string"==typeof i&&a.isContextTag(c,i))return a.getIdxbyListEx(e,o[l],n,r);a.isContextTag(c)||s++}return-1},de.getTLVbyList=function(e,t,n,r){var i=de,o=i.getIdxbyList(e,t,n,r);return-1==o||o>=e.length?null:i.getTLV(e,o)},de.getTLVbyListEx=function(e,t,n,r){var i=de,o=i.getIdxbyListEx(e,t,n,r);return-1==o?null:i.getTLV(e,o)},de.getVbyList=function(e,t,n,r,i){var o,a,s=de;return-1==(o=s.getIdxbyList(e,t,n,r))||o>=e.length?null:(a=s.getV(e,o),!0===i&&(a=a.substr(2)),a)},de.getVbyListEx=function(e,t,n,r,i){var o,a,s=de;return-1==(o=s.getIdxbyListEx(e,t,n,r))?null:(a=s.getV(e,o),"03"==e.substr(o,2)&&!1!==i&&(a=a.substr(2)),a)},de.getInt=function(e,t,n){null==n&&(n=-1);try{var r=e.substr(t,2);if("02"!=r&&"03"!=r)return n;var i=de.getV(e,t);return"02"==r?parseInt(i,16):function(e){if(e.length%2!=0)return-1;if(null==(e=e.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var n=parseInt(t,16);if(n>7)return-1;var r=e.substr(2),i=parseInt(r,16).toString(2);"0"==i&&(i="00000000"),i=i.slice(0,0-n);var o=parseInt(i,2);return NaN==o?-1:o}catch(e){return-1}}(i)}catch(e){return n}},de.getOID=function(e,t,n){null==n&&(n=null);try{return"06"!=e.substr(t,2)?n:ze(de.getV(e,t))}catch(e){return n}},de.getOIDName=function(e,t,n){null==n&&(n=null);try{var r=de.getOID(e,t,n);if(r==n)return n;var i=ue.asn1.x509.OID.oid2name(r);return""==i?r:i}catch(e){return n}},de.getString=function(e,t,n){null==n&&(n=null);try{return _e(de.getV(e,t))}catch(e){return n}},de.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var o=e.substr(2),a=[],s=0;s<o.length/2;s++)a.push(parseInt(o.substr(2*s,2),16));var l=[],c="";for(s=0;s<a.length;s++)128&a[s]?c+=t((127&a[s]).toString(2),7):(c+=t((127&a[s]).toString(2),7),l.push(new String(parseInt(c,2))),c="");var u=n.join(".");return l.length>0&&(u=u+"."+l.join(".")),u},de.dump=function(e,t,n,r){var i=de,o=i.getV,a=i.dump,s=i.getChildIdx,l=e;e instanceof ue.asn1.ASN1Object&&(l=e.tohex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var u,h=t.ommit_long_octet;if("01"==(u=l.substr(n,2)))return"00"==(p=o(l,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==u)return r+"INTEGER "+c(p=o(l,n),h)+"\n";if("03"==u){var p=o(l,n);return i.isASN1HEX(p.substr(2))?(w=r+"BITSTRING, encapsulates\n")+a(p.substr(2),t,0,r+"  "):r+"BITSTRING "+c(p,h)+"\n"}if("04"==u)return p=o(l,n),i.isASN1HEX(p)?(w=r+"OCTETSTRING, encapsulates\n")+a(p,t,0,r+"  "):r+"OCTETSTRING "+c(p,h)+"\n";if("05"==u)return r+"NULL\n";if("06"==u){var d=o(l,n),f=ue.asn1.ASN1Util.oidHexToInt(d),m=ue.asn1.x509.OID.oid2name(f),g=f.replace(/\./g," ");return""!=m?r+"ObjectIdentifier "+m+" ("+g+")\n":r+"ObjectIdentifier ("+g+")\n"}if("0a"==u)return r+"ENUMERATED "+parseInt(o(l,n))+"\n";if("0c"==u)return r+"UTF8String '"+we(o(l,n))+"'\n";if("13"==u)return r+"PrintableString '"+we(o(l,n))+"'\n";if("14"==u)return r+"TeletexString '"+we(o(l,n))+"'\n";if("16"==u)return r+"IA5String '"+we(o(l,n))+"'\n";if("17"==u)return r+"UTCTime "+we(o(l,n))+"\n";if("18"==u)return r+"GeneralizedTime "+we(o(l,n))+"\n";if("1a"==u)return r+"VisualString '"+we(o(l,n))+"'\n";if("1e"==u)return r+"BMPString '"+Ie(o(l,n))+"'\n";if("30"==u){if("3000"==l.substr(n,4))return r+"SEQUENCE {}\n";w=r+"SEQUENCE\n";var y=t;if((2==(k=s(l,n)).length||3==k.length)&&"06"==l.substr(k[0],2)&&"04"==l.substr(k[k.length-1],2)){m=i.oidname(o(l,k[0]));var v=JSON.parse(JSON.stringify(t));v.x509ExtName=m,y=v}for(var b=0;b<k.length;b++)w+=a(l,y,k[b],r+"  ");return w}if("31"==u){w=r+"SET\n";var k=s(l,n);for(b=0;b<k.length;b++)w+=a(l,t,k[b],r+"  ");return w}if(128&(u=parseInt(u,16))){var w,x=31&u;if(32&u){for(w=r+"["+x+"]\n",k=s(l,n),b=0;b<k.length;b++)w+=a(l,t,k[b],r+"  ");return w}return p=o(l,n),de.isASN1HEX(p)?(w=r+"["+x+"]\n")+a(p,t,0,r+"  "):(("68747470"==p.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==x)&&(p=we(p)),r+"["+x+"] "+p+"\n")}return r+"UNKNOWN("+u+") "+o(l,n)+"\n"},de.parse=function(e){var t=de,n=t.parse,r=t.isASN1HEX,i=t.getV,o=t.getTLV,a=t.getChildIdx,s=ue.asn1,l=s.ASN1Util.oidHexToInt,c=s.x509.OID.oid2name,u=we,h=Ie,p=xe,d={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},f=e.substr(0,2),m={},g=i(e,0);if("01"==f)return"0101ff"==e?{bool:!0}:{bool:!1};if("02"==f)return{int:{hex:g}};if("03"==f)try{if("00"!=g.substr(0,2))throw"not encap";var y=g.substr(2);if(!r(y))throw"not encap";return{bitstr:{obj:n(y)}}}catch(e){var v=null;return g.length<=10&&(v=function(e){if("string"!=typeof e)return null;if(e.length%2!=0)return null;if(!e.match(/^[0-9a-f]+$/))return null;try{var t=parseInt(e.substr(0,2),16);if(t<0||7<t)return null;for(var n=e.substr(2),r="",i=0;i<n.length;i+=2){var o=n.substr(i,2),a=parseInt(o,16).toString(2);r+=a=("0000000"+a).slice(-8)}return r.substr(0,r.length-t)}catch(e){return null}}(g)),null==v?{bitstr:{hex:g}}:{bitstr:{bin:v}}}else if("04"==f)try{if(!r(g))throw"not encap";return{octstr:{obj:n(g)}}}catch(e){return{octstr:{hex:g}}}else{if("05"==f)return{null:""};if("06"==f){var b=l(g),k=c(b);return""==k?{oid:b}:{oid:k}}if("0a"==f)return g.length>4?{enum:{hex:g}}:{enum:parseInt(g,16)};if("30"==f||"31"==f)return m[d[f]]=function(e){for(var t=[],r=a(e,0),i=0;i<r.length;i++){var s=r[i],l=o(e,s),c=n(l);t.push(c)}return t}(e),m;if("14"==f){var w=p(g);return m[d[f]]={str:w},m}if("1e"==f)return w=h(g),m[d[f]]={str:w},m;if(-1!=":0c:12:13:16:17:18:1a:".indexOf(f))return w=u(g),m[d[f]]={str:w},m;if(f.match(/^8[0-9]$/))return null==(w=u(g))|""==w||null!=w.match(/[\x00-\x1F\x7F-\x9F]/)||null!=w.match(/[\u0000-\u001F\u0080–\u009F]/)?{tag:{tag:f,explicit:!1,hex:g}}:{tag:{tag:f,explicit:!1,str:w}};if(!f.match(/^a[0-9]$/)){var x=new ue.asn1.ASN1Object;return x.hV=g,{asn1:{tlv:f+x.getLengthHexFromValue()+g}}}try{if(!r(g))throw new Error("not encap");return{tag:{tag:f,explicit:!0,obj:n(g)}}}catch(e){return{tag:{tag:f,explicit:!0,hex:g}}}}},de.isContextTag=function(e,t){var n,r;e=e.toLowerCase();try{n=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&n);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((r=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&n)&&(31&n)==r}catch(e){return!1}},de.isASN1HEX=function(e){var t=de;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},de.checkStrictDER=function(e,t,n,r,i){var o=de;if(void 0===n){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ue.lang.String.isHex(e))throw new Error("not hex string");n=e.length,i=(r=e.length/2)<128?1:Math.ceil(r.toString(16))+1}if(o.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var a=o.getVblen(e,t);if(a>r)throw new Error("value of L too long than hex: idx="+t);var s=o.getTLV(e,t),l=s.length-2-o.getL(e,t).length;if(l!==2*a)throw new Error("V string length and L's value not the same:"+l+"/"+2*a);if(0===t&&e.length!=s.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+s.length);var c=e.substr(t,2);if("02"===c){var u=o.getVidx(e,t);if("00"==e.substr(u,2)&&e.charCodeAt(u+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var h=o.getVblen(e,t),p=0,d=o.getChildIdx(e,t),f=0;f<d.length;f++)p+=o.getTLV(e,d[f]).length,o.checkStrictDER(e,d[f],n,r,i);if(2*h!=p)throw new Error("sum of children's TLV length and L unmatch: "+2*h+"!="+p)}},de.oidname=function(e){var t=ue.asn1;ue.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==ue&&ue||(ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),void 0!==ue.asn1.x509&&ue.asn1.x509||(ue.asn1.x509={}),ue.asn1.x509.Certificate=function(e){ue.asn1.x509.Certificate.superclass.constructor.call(this);var t=ue.asn1,n=t.DERBitString,r=t.DERSequence,i=t.x509,o=i.TBSCertificate,a=i.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.sigalg;null!=e.sigalg.name&&(t=e.sigalg.name);var n=e.tbsobj.tohex(),r=new ue.crypto.Signature({alg:t});r.init(e.cakey),r.updateHex(n),e.sighex=r.sign()},this.getPEM=function(){return Ae(this.tohex(),"CERTIFICATE")},this.tohex=function(){var e=this.params;if(null!=e.tbsobj&&null!=e.tbsobj||(e.tbsobj=new o(e)),null==e.sighex&&null!=e.cakey&&this.sign(),null==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new a({name:e.sigalg})),t.push(new n({hex:"00"+e.sighex})),new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&(this.params=e)},Ke(ue.asn1.x509.Certificate,ue.asn1.ASN1Object),ue.asn1.x509.TBSCertificate=function(e){ue.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=ue.asn1,n=t.x509,r=t.DERTaggedObject,i=t.DERInteger,o=t.DERSequence,a=n.AlgorithmIdentifier,s=n.Time,l=n.X500Name,c=n.Extensions,u=n.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=[],t=this.params;if(null!=t.version||1!=t.version){var n=2;null!=t.version&&(n=t.version-1);var h=new r({obj:new i({int:n})});e.push(h)}return e.push(new i(t.serial)),e.push(new a({name:t.sigalg})),e.push(new l(t.issuer)),e.push(new o({array:[new s(t.notbefore),new s(t.notafter)]})),e.push(new l(t.subject)),e.push(new u(Ye.getKey(t.sbjpubkey))),void 0!==t.ext&&t.ext.length>0&&e.push(new r({tag:"a3",obj:new c(t.ext)})),new ue.asn1.DERSequence({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.x509.TBSCertificate,ue.asn1.ASN1Object),ue.asn1.x509.Extensions=function(e){ue.asn1.x509.Extensions.superclass.constructor.call(this);var t=ue.asn1,n=t.DERSequence,r=t.x509;this.aParam=[],this.setByParam=function(e){this.aParam=e},this.tohex=function(){for(var e=[],t=0;t<this.aParam.length;t++){var i=this.aParam[t],o=i.extname,a=null;if(null!=i.extn)a=new r.PrivateExtension(i);else if("subjectKeyIdentifier"==o)a=new r.SubjectKeyIdentifier(i);else if("keyUsage"==o)a=new r.KeyUsage(i);else if("subjectAltName"==o)a=new r.SubjectAltName(i);else if("issuerAltName"==o)a=new r.IssuerAltName(i);else if("basicConstraints"==o)a=new r.BasicConstraints(i);else if("nameConstraints"==o)a=new r.NameConstraints(i);else if("cRLDistributionPoints"==o)a=new r.CRLDistributionPoints(i);else if("certificatePolicies"==o)a=new r.CertificatePolicies(i);else if("policyMappings"==o)a=new r.PolicyMappings(i);else if("policyConstraints"==o)a=new r.PolicyConstraints(i);else if("inhibitAnyPolicy"==o)a=new r.InhibitAnyPolicy(i);else if("authorityKeyIdentifier"==o)a=new r.AuthorityKeyIdentifier(i);else if("extKeyUsage"==o)a=new r.ExtKeyUsage(i);else if("authorityInfoAccess"==o)a=new r.AuthorityInfoAccess(i);else if("cRLNumber"==o)a=new r.CRLNumber(i);else if("cRLReason"==o)a=new r.CRLReason(i);else if("ocspNonce"==o)a=new r.OCSPNonce(i);else if("ocspNoCheck"==o)a=new r.OCSPNoCheck(i);else if("adobeTimeStamp"==o)a=new r.AdobeTimeStamp(i);else{if("subjectDirectoryAttributes"!=o)throw new Error("extension not supported:"+JSON.stringify(i));a=new r.SubjectDirectoryAttributes(i)}null!=a&&e.push(a)}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.x509.Extensions,ue.asn1.ASN1Object),ue.asn1.x509.Extension=function(e){ue.asn1.x509.Extension.superclass.constructor.call(this);var t=ue.asn1,n=t.DERObjectIdentifier,r=t.DEROctetString,i=(t.DERBitString,t.DERBoolean),o=t.DERSequence;this.tohex=function(){var e=new n({oid:this.oid}),t=new r({hex:this.getExtnValueHex()}),a=new Array;return a.push(e),this.critical&&a.push(new i),a.push(t),new o({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==e&&void 0!==e.critical&&(this.critical=e.critical)},Ke(ue.asn1.x509.Extension,ue.asn1.ASN1Object),ue.asn1.x509.KeyUsage=function(e){ue.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=Error,n={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var e=this.getBinValue();return this.asn1ExtnValue=new ue.asn1.DERBitString({bin:e}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var e=this.params;if("object"!=typeof e||"object"!=typeof e.names&&"string"!=typeof e.bin)throw new t("parameter not yet set");if(null!=e.names)return Ve(e.names,n);if(null!=e.bin)return e.bin;throw new t("parameter not set properly")},this.oid="2.5.29.15",void 0!==e&&(this.params=e)},Ke(ue.asn1.x509.KeyUsage,ue.asn1.x509.Extension),ue.asn1.x509.BasicConstraints=function(e){ue.asn1.x509.BasicConstraints.superclass.constructor.call(this,e);var t=ue.asn1,n=t.DERBoolean,r=t.DERInteger,i=t.DERSequence;this.getExtnValueHex=function(){var e=new Array;this.cA&&e.push(new n),this.pathLen>-1&&e.push(new r({int:this.pathLen}));var t=new i({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==e&&(void 0!==e.cA&&(this.cA=e.cA),void 0!==e.pathLen&&(this.pathLen=e.pathLen))},Ke(ue.asn1.x509.BasicConstraints,ue.asn1.x509.Extension),ue.asn1.x509.CRLDistributionPoints=function(e){ue.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=ue.asn1,n=t.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(e){for(var r=[],i=0;i<e.length;i++)if(e[i]instanceof ue.asn1.ASN1Object)r.push(e[i]);else{var o=new n.DistributionPoint(e[i]);r.push(o)}this.asn1ExtnValue=new t.DERSequence({array:r})},this.setByOneURI=function(e){var t=new n.DistributionPoint({fulluri:e});this.setByDPArray([t])},this.oid="2.5.29.31",void 0!==e&&(void 0!==e.array?this.setByDPArray(e.array):void 0!==e.uri&&this.setByOneURI(e.uri))},Ke(ue.asn1.x509.CRLDistributionPoints,ue.asn1.x509.Extension),ue.asn1.x509.DistributionPoint=function(e){ue.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=ue.asn1,n=t.x509.DistributionPointName;this.tohex=function(){var e=new t.DERSequence;if(null!=this.asn1DP){var n=new t.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});e.appendASN1Object(n)}return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.dpobj?this.asn1DP=e.dpobj:void 0!==e.dpname?this.asn1DP=new n(e.dpname):void 0!==e.fulluri&&(this.asn1DP=new n({full:[{uri:e.fulluri}]})))},Ke(ue.asn1.x509.DistributionPoint,ue.asn1.ASN1Object),ue.asn1.x509.DistributionPointName=function(e){ue.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=ue.asn1,n=t.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new n({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e)if(t.x509.GeneralNames.prototype.isPrototypeOf(e))this.type="full",this.tag="a0",this.asn1V=e;else{if(void 0===e.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new t.x509.GeneralNames(e.full)}},Ke(ue.asn1.x509.DistributionPointName,ue.asn1.ASN1Object),ue.asn1.x509.CertificatePolicies=function(e){ue.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var t=ue.asn1,n=t.x509,r=t.DERSequence,i=n.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++)e.push(new i(this.params.array[t]));var n=new r({array:e});return this.asn1ExtnValue=n,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==e&&(this.params=e)},Ke(ue.asn1.x509.CertificatePolicies,ue.asn1.x509.Extension),ue.asn1.x509.PolicyInformation=function(e){ue.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var t=ue.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=t.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var e=[new r(this.params.policyoid)];if(void 0!==this.params.array){for(var t=[],o=0;o<this.params.array.length;o++)t.push(new i(this.params.array[o]));t.length>0&&e.push(new n({array:t}))}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ke(ue.asn1.x509.PolicyInformation,ue.asn1.ASN1Object),ue.asn1.x509.PolicyQualifierInfo=function(e){ue.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var t=ue.asn1,n=t.DERSequence,r=t.DERIA5String,i=t.DERObjectIdentifier,o=t.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new n({array:[new i({oid:"1.3.6.1.5.5.7.2.1"}),new r({str:this.params.cps})]}).tohex():null!=this.params.unotice?new n({array:[new i({oid:"1.3.6.1.5.5.7.2.2"}),new o(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ke(ue.asn1.x509.PolicyQualifierInfo,ue.asn1.ASN1Object),ue.asn1.x509.UserNotice=function(e){ue.asn1.x509.UserNotice.superclass.constructor.call(this,e);var t=ue.asn1.DERSequence,n=(ue.asn1.DERInteger,ue.asn1.x509.DisplayText),r=ue.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var e=[];return void 0!==this.params.noticeref&&e.push(new r(this.params.noticeref)),void 0!==this.params.exptext&&e.push(new n(this.params.exptext)),new t({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ke(ue.asn1.x509.UserNotice,ue.asn1.ASN1Object),ue.asn1.x509.NoticeReference=function(e){ue.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var t=ue.asn1.DERSequence,n=ue.asn1.DERInteger,r=ue.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var e=[];if(void 0!==this.params.org&&e.push(new r(this.params.org)),void 0!==this.params.noticenum){for(var i=[],o=this.params.noticenum,a=0;a<o.length;a++)i.push(new n(o[a]));e.push(new t({array:i}))}if(0==e.length)throw new Error("parameter is empty");return new t({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ke(ue.asn1.x509.NoticeReference,ue.asn1.ASN1Object),ue.asn1.x509.DisplayText=function(e){ue.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",void 0!==e&&("ia5"===e.type?this.hT="16":"vis"===e.type?this.hT="1a":"bmp"===e.type&&(this.hT="1e"))},Ke(ue.asn1.x509.DisplayText,ue.asn1.DERAbstractString),ue.asn1.x509.PolicyMappings=function(e){ue.asn1.x509.PolicyMappings.superclass.constructor.call(this,e);var t=ue.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){for(var e=this.params,t=[],r=0;r<e.array.length;r++){var i=e.array[r];t.push({seq:[{oid:i[0]},{oid:i[1]}]})}return this.asn1ExtnValue=n({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==e&&(this.params=e)},Ke(ue.asn1.x509.PolicyMappings,ue.asn1.x509.Extension),ue.asn1.x509.PolicyConstraints=function(e){ue.asn1.x509.PolicyConstraints.superclass.constructor.call(this,e);var t=ue.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[];return null!=e.reqexp&&t.push({tag:{tagi:"80",obj:{int:e.reqexp}}}),null!=e.inhibit&&t.push({tag:{tagi:"81",obj:{int:e.inhibit}}}),this.asn1ExtnValue=n({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==e&&(this.params=e)},Ke(ue.asn1.x509.PolicyConstraints,ue.asn1.x509.Extension),ue.asn1.x509.InhibitAnyPolicy=function(e){ue.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,e);var t=ue.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=n({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==e&&(this.params=e)},Ke(ue.asn1.x509.InhibitAnyPolicy,ue.asn1.x509.Extension),ue.asn1.x509.NameConstraints=function(e){ue.asn1.x509.NameConstraints.superclass.constructor.call(this,e);var t=ue.asn1,n=t.x509,r=t.ASN1Util.newObject,i=n.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[];if(null!=e.permit&&null!=e.permit.length){for(var n=[],o=0;o<e.permit.length;o++)n.push(new i(e.permit[o]));t.push({tag:{tagi:"a0",obj:{seq:n}}})}if(null!=e.exclude&&null!=e.exclude.length){var a=[];for(o=0;o<e.exclude.length;o++)a.push(new i(e.exclude[o]));t.push({tag:{tagi:"a1",obj:{seq:a}}})}return this.asn1ExtnValue=r({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==e&&(this.params=e)},Ke(ue.asn1.x509.NameConstraints,ue.asn1.x509.Extension),ue.asn1.x509.GeneralSubtree=function(e){ue.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var t=ue.asn1,n=t.x509.GeneralName,r=t.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params,t=[new n(e)];return null!=e.min&&t.push({tag:{tagi:"80",obj:{int:e.min}}}),null!=e.max&&t.push({tag:{tagi:"81",obj:{int:e.max}}}),r({seq:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.x509.GeneralSubtree,ue.asn1.ASN1Object),ue.asn1.x509.ExtKeyUsage=function(e){ue.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=ue.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new t.DERSequence;for(var n=0;n<e.length;n++){var r=new t.DERObjectIdentifier(e[n]);this.asn1ExtnValue.appendASN1Object(r)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==e&&void 0!==e.array&&this.setPurposeArray(e.array)},Ke(ue.asn1.x509.ExtKeyUsage,ue.asn1.x509.Extension),ue.asn1.x509.AuthorityKeyIdentifier=function(e){ue.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=ue,n=t.asn1,r=n.DERTaggedObject,i=n.x509.GeneralNames;t.crypto.Util.isKey,this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var e=new Array;this.asn1KID&&e.push(new r({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&e.push(new r({explicit:!1,tag:"a1",obj:new i([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&e.push(new r({explicit:!1,tag:"82",obj:this.asn1CertSN}));var t=new n.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new ue.asn1.DEROctetString(e);else if("object"==typeof e&&ue.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN ")){var t=e;"string"==typeof e&&(t=Ye.getKey(e));var n=Ye.getKeyID(t);this.asn1KID=new ue.asn1.DEROctetString({hex:n})}},this.setCertIssuerByParam=function(e){void 0!==e.str||void 0!==e.ldapstr||void 0!==e.hex||void 0!==e.certsubject||void 0!==e.certissuer?this.asn1CertIssuer=new ue.asn1.x509.X500Name(e):"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&-1!=e.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new ue.asn1.x509.X500Name({certissuer:e}))},this.setCertSNByParam=function(e){if(void 0!==e.str||void 0!==e.bigint||void 0!==e.hex)this.asn1CertSN=new ue.asn1.DERInteger(e);else if("string"==typeof e&&-1!=e.indexOf("BEGIN ")&&e.indexOf("CERTIFICATE")){var t=new Je;t.readCertPEM(e);var n=t.getSerialNumberHex();this.asn1CertSN=new ue.asn1.DERInteger({hex:n})}},this.oid="2.5.29.35",void 0!==e&&(void 0!==e.kid&&this.setKIDByParam(e.kid),void 0!==e.issuer&&this.setCertIssuerByParam(e.issuer),void 0!==e.sn&&this.setCertSNByParam(e.sn),void 0!==e.issuersn&&"string"==typeof e.issuersn&&-1!=e.issuersn.indexOf("BEGIN ")&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))},Ke(ue.asn1.x509.AuthorityKeyIdentifier,ue.asn1.x509.Extension),ue.asn1.x509.SubjectKeyIdentifier=function(e){ue.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var t=ue.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new t(e);else if("object"==typeof e&&ue.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN")){var n=e;"string"==typeof e&&(n=Ye.getKey(e));var r=Ye.getKeyID(n);this.asn1KID=new ue.asn1.DEROctetString({hex:r})}},this.oid="2.5.29.14",void 0!==e&&void 0!==e.kid&&this.setKIDByParam(e.kid)},Ke(ue.asn1.x509.SubjectKeyIdentifier,ue.asn1.x509.Extension),ue.asn1.x509.AuthorityInfoAccess=function(e){ue.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(e){for(var t=new Array,n=ue.asn1,r=n.DERSequence,i=n.DERObjectIdentifier,o=n.x509.GeneralName,a=0;a<e.length;a++){var s,l=e[a];if(void 0!==l.ocsp)s=new r({array:[new i({oid:"1.3.6.1.5.5.7.48.1"}),new o({uri:l.ocsp})]});else{if(void 0===l.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(l));s=new r({array:[new i({oid:"1.3.6.1.5.5.7.48.2"}),new o({uri:l.caissuer})]})}t.push(s)}this.asn1ExtnValue=new r({array:t})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==e&&void 0!==e.array&&this.setAccessDescriptionArray(e.array)},Ke(ue.asn1.x509.AuthorityInfoAccess,ue.asn1.x509.Extension),ue.asn1.x509.SubjectAltName=function(e){ue.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ue.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},Ke(ue.asn1.x509.SubjectAltName,ue.asn1.x509.Extension),ue.asn1.x509.IssuerAltName=function(e){ue.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ue.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},Ke(ue.asn1.x509.IssuerAltName,ue.asn1.x509.Extension),ue.asn1.x509.SubjectDirectoryAttributes=function(e){ue.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,e);var t=ue.asn1,n=t.DERSequence,r=t.ASN1Util.newObject,i=t.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++){var o=this.params.array[t],a={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==o.attr)a.seq[0].oid=i(o.attr),a.seq[1].set[0]={gentime:o.str};else if("placeOfBirth"==o.attr)a.seq[0].oid=i(o.attr),a.seq[1].set[0]={utf8str:o.str};else if("gender"==o.attr)a.seq[0].oid=i(o.attr),a.seq[1].set[0]={prnstr:o.str};else if("countryOfCitizenship"==o.attr)a.seq[0].oid=i(o.attr),a.seq[1].set[0]={prnstr:o.str};else{if("countryOfResidence"!=o.attr)throw new Error("unsupported attribute: "+o.attr);a.seq[0].oid=i(o.attr),a.seq[1].set[0]={prnstr:o.str}}e.push(new r(a))}var s=new n({array:e});return this.asn1ExtnValue=s,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==e&&(this.params=e)},Ke(ue.asn1.x509.SubjectDirectoryAttributes,ue.asn1.x509.Extension),ue.asn1.x509.PrivateExtension=function(e){ue.asn1.x509.PrivateExtension.superclass.constructor.call(this,e);var t=ue,n=t.lang.String.isHex,r=t.asn1,i=r.x509.OID.name2oid,o=r.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.oid=i(e.extname),this.params=e},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var e=this.params.extn;if("string"==typeof e&&n(e))return e;if("object"==typeof e)try{return o(e).tohex()}catch(e){}throw new Error("unsupported extn value")},null!=e&&this.setByParam(e)},Ke(ue.asn1.x509.PrivateExtension,ue.asn1.x509.Extension),ue.asn1.x509.CRL=function(e){ue.asn1.x509.CRL.superclass.constructor.call(this);var t=ue.asn1,n=t.DERSequence,r=t.DERBitString,i=t.x509,o=i.AlgorithmIdentifier,a=i.TBSCertList;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=new a(this.params).tohex(),t=new ue.crypto.Signature({alg:this.params.sigalg});t.init(this.params.cakey),t.updateHex(e);var n=t.sign();this.params.sighex=n},this.getPEM=function(){return Ae(this.tohex(),"X509 CRL")},this.tohex=function(){var e=this.params;if(null==e.tbsobj&&(e.tbsobj=new a(e)),null==e.sighex&&null!=e.cakey&&this.sign(),null==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new o({name:e.sigalg})),t.push(new r({hex:"00"+e.sighex})),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&(this.params=e)},Ke(ue.asn1.x509.CRL,ue.asn1.ASN1Object),ue.asn1.x509.TBSCertList=function(e){ue.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=ue.asn1,n=t.DERInteger,r=t.DERSequence,i=t.DERTaggedObject,o=(t.DERObjectIdentifier,t.x509),a=o.AlgorithmIdentifier,s=o.Time,l=o.Extensions,c=o.X500Name;this.params=null,this.setByParam=function(e){this.params=e},this.getRevCertSequence=function(){for(var e=[],t=this.params.revcert,i=0;i<t.length;i++){var o=[new n(t[i].sn),new s(t[i].date)];null!=t[i].ext&&o.push(new l(t[i].ext)),e.push(new r({array:o}))}return new r({array:e})},this.tohex=function(){var e=[],t=this.params;if(null!=t.version){var o=t.version-1,u=new n({int:o});e.push(u)}if(e.push(new a({name:t.sigalg})),e.push(new c(t.issuer)),e.push(new s(t.thisupdate)),null!=t.nextupdate&&e.push(new s(t.nextupdate)),null!=t.revcert&&e.push(this.getRevCertSequence()),null!=t.ext){var h=new l(t.ext);e.push(new i({tag:"a0",explicit:!0,obj:h}))}return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.x509.TBSCertList,ue.asn1.ASN1Object),ue.asn1.x509.CRLEntry=function(e){ue.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=ue.asn1;this.setCertSerial=function(e){this.sn=new t.DERInteger(e)},this.setRevocationDate=function(e){this.time=new t.x509.Time(e)},this.tohex=function(){var e=new t.DERSequence({array:[this.sn,this.time]});return this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.time&&this.setRevocationDate(e.time),void 0!==e.sn&&this.setCertSerial(e.sn))},Ke(ue.asn1.x509.CRLEntry,ue.asn1.ASN1Object),ue.asn1.x509.CRLNumber=function(e){ue.asn1.x509.CRLNumber.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ue.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=e&&(this.params=e)},Ke(ue.asn1.x509.CRLNumber,ue.asn1.x509.Extension),ue.asn1.x509.CRLReason=function(e){ue.asn1.x509.CRLReason.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ue.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=e&&(this.params=e)},Ke(ue.asn1.x509.CRLReason,ue.asn1.x509.Extension),ue.asn1.x509.OCSPNonce=function(e){ue.asn1.x509.OCSPNonce.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ue.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=e&&(this.params=e)},Ke(ue.asn1.x509.OCSPNonce,ue.asn1.x509.Extension),ue.asn1.x509.OCSPNoCheck=function(e){ue.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ue.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=e&&(this.params=e)},Ke(ue.asn1.x509.OCSPNoCheck,ue.asn1.x509.Extension),ue.asn1.x509.AdobeTimeStamp=function(e){ue.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,e);var t=ue.asn1,n=t.DERInteger,r=t.DERBoolean,i=t.DERSequence,o=t.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[new n(1)];return t.push(new o({uri:e.uri})),null!=e.reqauth&&t.push(new r(e.reqauth)),this.asn1ExtnValue=new i({array:t}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==e&&this.setByParam(e)},Ke(ue.asn1.x509.AdobeTimeStamp,ue.asn1.x509.Extension),ue.asn1.x509.X500Name=function(e){ue.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=ue.asn1,n=t.x509,r=n.RDN;this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var n=e.split("/");n.shift();for(var i=[],o=0;o<n.length;o++)if(n[o].match(/^[^=]+=.+$/))i.push(n[o]);else{var a=i.length-1;i[a]=i[a]+"/"+n[o]}for(o=0;o<i.length;o++)this.asn1Array.push(new r({str:i[o],rule:this.sRule}))},this.setByLdapString=function(e,t){void 0!==t&&(this.sRule=t);var r=n.X500Name.ldapToCompat(e);this.setByString(r,t)},this.setByObject=function(e,t){for(var n in void 0!==t&&(this.sRule=t),e)if(e.hasOwnProperty(n)){var i=new r({str:n+"="+e[n],rule:this.sRule});this.asn1Array?this.asn1Array.push(i):this.asn1Array=[i]}},this.setByParam=function(e){var t;void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.array?this.paramArray=e.array:void 0!==e.str?this.setByString(e.str):void 0!==e.ldapstr?this.setByLdapString(e.ldapstr):void 0!==e.hex?this.hTLV=e.hex:void 0!==e.certissuer?((t=new Je).readCertPEM(e.certissuer),this.hTLV=t.getIssuerHex()):void 0!==e.certsubject?((t=new Je).readCertPEM(e.certsubject),this.hTLV=t.getSubjectHex()):"object"==typeof e&&void 0===e.certsubject&&void 0===e.certissuer&&this.setByObject(e)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var n={array:this.paramArray[e]};"utf8"!=this.sRule&&(n.rule=this.sRule);var i=new r(n);this.asn1Array.push(i)}var o=new t.DERSequence({array:this.asn1Array});return this.hTLV=o.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.x509.X500Name,ue.asn1.ASN1Object),ue.asn1.x509.X500Name.compatToLDAP=function(e){if("/"!==e.substr(0,1))throw"malformed input";var t=(e=e.substr(1)).split("/");return t.reverse(),t=t.map((function(e){return e.replace(/,/,"\\,")})),t.join(",")},ue.asn1.x509.X500Name.onelineToLDAP=function(e){return ue.asn1.x509.X500Name.compatToLDAP(e)},ue.asn1.x509.X500Name.ldapToCompat=function(e){for(var t=e.split(","),n=!1,r=[],i=0;t.length>0;i++){var o=t.shift();if(!0===n){var a=(r.pop()+","+o).replace(/\\,/g,",");r.push(a),n=!1}else r.push(o);"\\"===o.substr(-1,1)&&(n=!0)}return r=r.map((function(e){return e.replace("/","\\/")})),r.reverse(),"/"+r.join("/")},ue.asn1.x509.X500Name.ldapToOneline=function(e){return ue.asn1.x509.X500Name.ldapToCompat(e)},ue.asn1.x509.RDN=function(e){ue.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=ue.asn1.x509.AttributeTypeAndValue;this.setByParam=function(e){void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.str&&this.addByMultiValuedString(e.str),void 0!==e.array&&(this.paramArray=e.array)},this.addByString=function(e){this.asn1Array.push(new ue.asn1.x509.AttributeTypeAndValue({str:e,rule:this.sRule}))},this.addByMultiValuedString=function(e){for(var t=ue.asn1.x509.RDN.parseString(e),n=0;n<t.length;n++)this.addByString(t[n])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var n=this.paramArray[e];void 0!==n.rule&&"utf8"!=this.sRule&&(n.rule=this.sRule);var r=new t(n);this.asn1Array.push(r)}var i=new ue.asn1.DERSet({array:this.asn1Array});return this.TLV=i.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.x509.RDN,ue.asn1.ASN1Object),ue.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),n=!1,r=[],i=0;t.length>0;i++){var o=t.shift();if(!0===n){var a=(r.pop()+"+"+o).replace(/\\\+/g,"+");r.push(a),n=!1}else r.push(o);"\\"===o.substr(-1,1)&&(n=!0)}var s=!1,l=[];for(i=0;r.length>0;i++){if(o=r.shift(),!0===s){var c=l.pop();o.match(/"$/)?(a=(c+"+"+o).replace(/^([^=]+)="(.*)"$/,"$1=$2"),l.push(a),s=!1):l.push(c+"+"+o)}else l.push(o);o.match(/^[^=]+="/)&&(s=!0)}return l},ue.asn1.x509.AttributeTypeAndValue=function(e){ue.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var t=ue,n=t.asn1,r=n.DERSequence,i=n.DERUTF8String,o=n.DERPrintableString,a=n.DERTeletexString,s=n.DERIA5String,l=n.DERVisibleString,c=n.DERBMPString,u=t.lang.String.isMail,h=t.lang.String.isPrintable;this.setByParam=function(e){if(void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.ds&&(this.dsType=e.ds),void 0===e.value&&void 0!==e.str){var t=e.str.match(/^([^=]+)=(.+)$/);if(!t)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=t[1],this.sValue=t[2]}else this.sType=e.type,this.sValue=e.value},this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var n=e.match(/^([^=]+)=(.+)$/);if(!n)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(n[1],n[2])},this._getDsType=function(){var e=this.sType,t=this.sValue,n=this.sRule;return"prn"===n?"CN"==e&&u(t)?"ia5":h(t)?"prn":"utf8":"utf8"===n?"CN"==e&&u(t)?"ia5":"C"==e?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(e,t,n){void 0!==n&&(this.sRule=n),this.sType=e,this.sValue=t},this.getValueObj=function(e,t){if("utf8"==e)return new i({str:t});if("prn"==e)return new o({str:t});if("tel"==e)return new a({str:t});if("ia5"==e)return new s({str:t});if("vis"==e)return new l({str:t});if("bmp"==e)return new c({str:t});throw new Error("unsupported directory string type: type="+e+" value="+t)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var e=ue.asn1.x509.OID.atype2obj(this.sType),t=this.getValueObj(this.dsType,this.sValue),n=new r({array:[e,t]});return this.TLV=n.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.x509.AttributeTypeAndValue,ue.asn1.ASN1Object),ue.asn1.x509.SubjectPublicKeyInfo=function(e){ue.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=ue,n=t.asn1,r=n.DERInteger,i=n.DERBitString,o=n.DERObjectIdentifier,a=n.DERSequence,s=n.ASN1Util.newObject,l=n.x509.AlgorithmIdentifier,c=t.crypto;c.ECDSA,c.DSA,this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new a({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var e=this.getASN1Object();return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(e){try{if(e instanceof ie){var t=s({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]}).tohex();this.asn1AlgId=new l({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+t})}}catch(e){}try{if(e instanceof ue.crypto.ECDSA){var n=new o({name:e.curveName});this.asn1AlgId=new l({name:"ecPublicKey",asn1params:n}),this.asn1SubjPKey=new i({hex:"00"+e.pubKeyHex})}}catch(e){}try{if(e instanceof ue.crypto.DSA){n=new s({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}),this.asn1AlgId=new l({name:"dsa",asn1params:n});var a=new r({bigint:e.y});this.asn1SubjPKey=new i({hex:"00"+a.tohex()})}}catch(e){}},void 0!==e&&this.setPubKey(e)},Ke(ue.asn1.x509.SubjectPublicKeyInfo,ue.asn1.ASN1Object),ue.asn1.x509.Time=function(e){ue.asn1.x509.Time.superclass.constructor.call(this);var t=ue.asn1,n=t.DERUTCTime,r=t.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(e){this.timeParams=e},this.setByParam=function(e){this.params=e},this.getType=function(e){return e.match(/^[0-9]{12}Z$/)?"utc":e.match(/^[0-9]{14}Z$/)?"gen":e.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":e.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var e=this.params,t=null;if("string"==typeof e&&(e={str:e}),null==e||!e.str||null!=e.type&&null!=e.type||(e.type=this.getType(e.str)),null!=e&&e.str?("utc"==e.type&&(t=new n(e.str)),"gen"==e.type&&(t=new r(e.str))):t="gen"==this.type?new r:new n,null==t)throw new Error("wrong setting for Time");return this.TLV=t.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},ue.asn1.x509.Time_bak=function(e){ue.asn1.x509.Time_bak.superclass.constructor.call(this);var t=ue.asn1,n=t.DERUTCTime,r=t.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e},this.tohex=function(){var e=null;return e=null!=this.timeParams?"utc"==this.type?new n(this.timeParams):new r(this.timeParams):"utc"==this.type?new n:new r,this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==e&&(void 0!==e.type?this.type=e.type:void 0!==e.str&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},Ke(ue.asn1.x509.Time,ue.asn1.ASN1Object),ue.asn1.x509.AlgorithmIdentifier=function(e){ue.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=ue.asn1,n=t.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var e=null;for(var r in n)r===this.nameAlg&&(e=n[r]);if(null!==e)return this.hTLV=e,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=t.x509.OID.name2obj(this.nameAlg));var i=[this.asn1Alg];null!==this.asn1Params&&i.push(this.asn1Params);var o=new t.DERSequence({array:i});return this.hTLV=o.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.name&&(this.nameAlg=e.name),void 0!==e.asn1params&&(this.asn1Params=e.asn1params),void 0!==e.paramempty&&(this.paramEmpty=e.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var r=this.nameAlg.toLowerCase();"withdsa"!==r.substr(-7,7)&&"withecdsa"!==r.substr(-9,9)&&(this.asn1Params=new t.DERNull)}},Ke(ue.asn1.x509.AlgorithmIdentifier,ue.asn1.ASN1Object),ue.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},ue.asn1.x509.GeneralName=function(e){ue.asn1.x509.GeneralName.superclass.constructor.call(this);var t=ue.asn1,n=t.x509,r=n.X500Name,i=n.OtherName,o=t.DERIA5String,a=(t.DERPrintableString,t.DEROctetString),s=t.DERTaggedObject,l=t.ASN1Object,c=Error;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e,t,n=this.params,u=!1;if(void 0!==n.other)e="a0",t=new i(n.other);else if(void 0!==n.rfc822)e="81",t=new o({str:n.rfc822});else if(void 0!==n.dns)e="82",t=new o({str:n.dns});else if(void 0!==n.dn)e="a4",u=!0,t="string"==typeof n.dn?new r({str:n.dn}):n.dn instanceof ue.asn1.x509.X500Name?n.dn:new r(n.dn);else if(void 0!==n.ldapdn)e="a4",u=!0,t=new r({ldapstr:n.ldapdn});else if(void 0!==n.certissuer||void 0!==n.certsubj){var h,p;e="a4",u=!0;var d=null;if(void 0!==n.certsubj?(h=!1,p=n.certsubj):(h=!0,p=n.certissuer),p.match(/^[0-9A-Fa-f]+$/),-1!=p.indexOf("-----BEGIN ")&&(d=De(p)),null==d)throw new Error("certsubj/certissuer not cert");var f,m=new Je;m.hex=d,f=h?m.getIssuerHex():m.getSubjectHex(),(t=new l).hTLV=f}else if(void 0!==n.uri)e="86",t=new o({str:n.uri});else{if(void 0===n.ip)throw new c("improper params");var g;e="87";var y=n.ip;try{if(y.match(/^[0-9a-f]+$/)){var v=y.length;if(8!=v&&16!=v&&32!=v&&64!=v)throw"err";g=y}else g=Me(y)}catch(e){throw new c("malformed IP address: "+n.ip+":"+e.message)}t=new a({hex:g})}return new s({tag:e,explicit:u,obj:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.x509.GeneralName,ue.asn1.ASN1Object),ue.asn1.x509.GeneralNames=function(e){ue.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=ue.asn1;this.setByParamArray=function(e){for(var n=0;n<e.length;n++){var r=new t.x509.GeneralName(e[n]);this.asn1Array.push(r)}},this.tohex=function(){return new t.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,void 0!==e&&this.setByParamArray(e)},Ke(ue.asn1.x509.GeneralNames,ue.asn1.ASN1Object),ue.asn1.x509.OtherName=function(e){ue.asn1.x509.OtherName.superclass.constructor.call(this);var t=ue.asn1,n=t.DERObjectIdentifier,r=t.DERSequence,i=t.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if(null==e.oid||null==e.value)throw new Error("oid or value not specified");var t=new n({oid:e.oid}),o=i({tag:{tag:"a0",explicit:!0,obj:e.value}});return new r({array:[t,o]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.x509.OtherName,ue.asn1.ASN1Object),ue.asn1.x509.OID=new function(){var e=ue.asn1.DERObjectIdentifier;this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];if(void 0===this.name2oidList[t])throw"Name of ObjectIdentifier not defined: "+t;var n=this.name2oidList[t],r=new e({oid:n});return this.objCache[t]=r,r},this.atype2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];var n;if(t.match(/^\d+\.\d+\.[0-9.]+$/))n=t;else if(void 0!==this.atype2oidList[t])n=this.atype2oidList[t];else{if(void 0===this.name2oidList[t])throw new Error("AttributeType name undefined: "+t);n=this.name2oidList[t]}var r=new e({oid:n});return this.objCache[t]=r,r},this.registerOIDs=function(e){if(this.checkOIDs(e))for(var t in e)this.name2oidList[t]=e[t]},this.checkOIDs=function(e){try{var t=Object.keys(e);return 0!=t.length&&(t.map((function(e,t,n){if(!this[e].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")}),e),!0)}catch(e){return!1}}},ue.asn1.x509.OID.oid2name=function(e){var t=ue.asn1.x509.OID.name2oidList;for(var n in t)if(t[n]==e)return n;return""},ue.asn1.x509.OID.oid2atype=function(e){var t=ue.asn1.x509.OID.atype2oidList;for(var n in t)if(t[n]==e)return n;return e},ue.asn1.x509.OID.name2oid=function(e){if(e.match(/^[0-9.]+$/))return e;var t=ue.asn1.x509.OID.name2oidList;return void 0===t[e]?"":t[e]},ue.asn1.x509.X509Util={},ue.asn1.x509.X509Util.newCertPEM=function(e){var t=ue.asn1.x509;return t.TBSCertificate,new(0,t.Certificate)(e).getPEM()},void 0!==ue&&ue||(ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),void 0!==ue.asn1.cms&&ue.asn1.cms||(ue.asn1.cms={}),ue.asn1.cms.Attribute=function(e){var t=Error,n=ue.asn1,r=n.DERSequence,i=n.DERSet,o=n.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(e){this.params=e},this.getValueArray=function(){throw new t("not yet implemented abstract")},this.tohex=function(){var e=new o({oid:this.typeOid}),t=new i({array:this.getValueArray()});return new r({array:[e,t]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},Ke(ue.asn1.cms.Attribute,ue.asn1.ASN1Object),ue.asn1.cms.ContentType=function(e){var t=ue.asn1;t.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new t.DERObjectIdentifier(this.params.type)]},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.ContentType,ue.asn1.cms.Attribute),ue.asn1.cms.MessageDigest=function(e){var t=ue.asn1,n=t.DEROctetString;t.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new n(this.params)]},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.MessageDigest,ue.asn1.cms.Attribute),ue.asn1.cms.SigningTime=function(e){var t=ue.asn1;t.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new t.x509.Time(this.params)]},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.SigningTime,ue.asn1.cms.Attribute),ue.asn1.cms.SigningCertificate=function(e){var t=Error,n=ue,r=n.asn1,i=r.DERSequence,o=r.cms,a=o.ESSCertID;n.crypto,o.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new t("parameter 'array' not specified");for(var n=this.params.array,r=[],o=0;o<n.length;o++){var s=n[o];0!=e.hasis||"string"!=typeof s||-1==s.indexOf("-----BEGIN")&&!de.isASN1HEX(s)||(s={cert:s}),0!=s.hasis&&0==e.hasis&&(s.hasis=!1),r.push(new a(s))}var l=new i({array:r});return[new i({array:[l]})]},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.SigningCertificate,ue.asn1.cms.Attribute),ue.asn1.cms.ESSCertID=function(e){ue.asn1.cms.ESSCertID.superclass.constructor.call(this);var t=Error,n=ue,r=n.asn1,i=r.DEROctetString,o=r.DERSequence,a=r.cms.IssuerSerial;this.params=null,this.getCertHash=function(e,r){if(null!=e.hash)return e.hash;if("string"==typeof e&&-1==e.indexOf("-----BEGIN")&&!de.isASN1HEX(e))return e;var i,o,a;if("string"==typeof e)i=e;else{if(null==e.cert)throw new t("hash nor cert unspecified");i=e.cert}if(o=-1!=i.indexOf("-----BEGIN")?De(i):i,"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?o=De(e):de.isASN1HEX(e)&&(o=e)),null!=e.alg)a=e.alg;else{if(null==r)throw new t("hash alg unspecified");a=r}return n.crypto.Util.hashHex(o,a)},this.tohex=function(){var e=this.params,t=this.getCertHash(e,"sha1"),n=[];return n.push(new i({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||null!=e.cert&&0!=e.hasis||null!=e.issuer&&null!=e.serial)&&n.push(new a(e)),new o({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.ESSCertID,ue.asn1.ASN1Object),ue.asn1.cms.SigningCertificateV2=function(e){var t=Error,n=ue,r=n.asn1,i=r.DERSequence,o=(r.x509,r.cms),a=o.ESSCertIDv2;n.crypto,o.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new t("parameter 'array' not specified");for(var n=this.params.array,r=[],o=0;o<n.length;o++){var s=n[o];null==e.alg&&0!=e.hasis||"string"!=typeof s||-1==s.indexOf("-----BEGIN")&&!de.isASN1HEX(s)||(s={cert:s}),null==s.alg&&null!=e.alg&&(s.alg=e.alg),0!=s.hasis&&0==e.hasis&&(s.hasis=!1),r.push(new a(s))}var l=new i({array:r});return[new i({array:[l]})]},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.SigningCertificateV2,ue.asn1.cms.Attribute),ue.asn1.cms.ESSCertIDv2=function(e){ue.asn1.cms.ESSCertIDv2.superclass.constructor.call(this),Error;var t=ue.asn1,n=t.DEROctetString,r=t.DERSequence,i=t.cms.IssuerSerial,o=t.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var e=this.params,t=this.getCertHash(e,"sha256"),a=[];return null!=e.alg&&"sha256"!=e.alg&&a.push(new o({name:e.alg})),a.push(new n({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||null!=e.cert&&0!=e.hasis||null!=e.issuer&&null!=e.serial)&&a.push(new i(e)),new r({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.ESSCertIDv2,ue.asn1.cms.ESSCertID),ue.asn1.cms.IssuerSerial=function(e){var t=Error,n=ue.asn1,r=n.DERInteger,i=n.DERSequence,o=n.cms,a=n.x509.GeneralNames,s=Je;o.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.tohex=function(){var e,n,o=this.params;if("string"==typeof o&&-1!=o.indexOf("-----BEGIN")||null!=o.cert){var l;l=null!=o.cert?o.cert:o;var c=new s;c.readCertPEM(l),e=c.getIssuer(),n={hex:c.getSerialNumberHex()}}else{if(null==o.issuer||!o.serial)throw new t("cert or issuer and serial parameter not specified");e=o.issuer,n=o.serial}var u=new a([{dn:e}]),h=new r(n);return new i({array:[u,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.IssuerSerial,ue.asn1.ASN1Object),ue.asn1.cms.SignerIdentifier=function(e){var t=ue.asn1,n=(t.DERInteger,t.DERSequence,t.cms),r=n.IssuerAndSerialNumber,i=n.SubjectKeyIdentifier;t.x509.X500Name,Error,n.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if("isssn"==e.type)return new r(e).tohex();if("skid"==e.type)return new i(e).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.SignerIdentifier,ue.asn1.ASN1Object),ue.asn1.cms.IssuerAndSerialNumber=function(e){var t=ue.asn1,n=t.DERInteger,r=t.DERSequence,i=t.cms,o=t.x509.X500Name,a=Je,s=Error;i.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e,t,i=this.params;if("string"==typeof i&&-1!=i.indexOf("-----BEGIN")||null!=i.cert){var l;l=null!=i.cert?i.cert:i;var c=new a;c.readCertPEM(l),e=c.getIssuer(),t={hex:c.getSerialNumberHex()}}else{if(null==i.issuer||!i.serial)throw new s("cert or issuer and serial parameter not specified");e=i.issuer,t=i.serial}var u=new o(e),h=new n(t);return new r({array:[u,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.IssuerAndSerialNumber,ue.asn1.ASN1Object),ue.asn1.cms.SubjectKeyIdentifier=function(e){var t=ue.asn1,n=(t.DERInteger,t.DERSequence,t.ASN1Util.newObject),r=t.cms,i=(r.IssuerAndSerialName,r.SubjectKeyIdentifier,t.x509.X500Name,Je),o=Error;r.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var e,t=this.params;if(null==t.cert&&null==t.skid)throw new o("property cert nor skid undefined");return null!=t.cert?e=new i(t.cert).getExtSubjectKeyIdentifier().kid.hex:null!=t.skid&&(e=t.skid),n({tag:{tage:"a0",obj:{octstr:{hex:e}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.SubjectKeyIdentifier,ue.asn1.ASN1Object),ue.asn1.cms.AttributeList=function(e){var t=Error,n=ue.asn1,r=n.DERSet,i=n.cms;i.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if(null!=this.hTLV)return this.hTLV;var n=!0;null!=e.sortflag&&(n=e.sortflag);for(var o=e.array,a=[],s=0;s<o.length;s++){var l=o[s],c=l.attr;if("contentType"==c)a.push(new i.ContentType(l));else if("messageDigest"==c)a.push(new i.MessageDigest(l));else if("signingTime"==c)a.push(new i.SigningTime(l));else if("signingCertificate"==c)a.push(new i.SigningCertificate(l));else if("signingCertificateV2"==c)a.push(new i.SigningCertificateV2(l));else if("signaturePolicyIdentifier"==c)a.push(new ue.asn1.cades.SignaturePolicyIdentifier(l));else{if("signatureTimeStamp"!=c&&"timeStampToken"!=c)throw new t("unknown attr: "+c);a.push(new ue.asn1.cades.SignatureTimeStamp(l))}}var u=new r({array:a,sortflag:n});return this.hTLV=u.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.AttributeList,ue.asn1.ASN1Object),ue.asn1.cms.SignerInfo=function(e){var t=Error,n=ue,r=n.asn1,i=r.DERInteger,o=r.DEROctetString,a=r.DERSequence,s=r.DERTaggedObject,l=r.cms,c=l.SignerIdentifier,u=l.AttributeList,h=(l.ContentType,l.EncapsulatedContentInfo,l.MessageDigest,l.SignedData,r.x509.AlgorithmIdentifier),p=n.crypto,d=Ye;l.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var e=this.params,t=e.sigalg,n=new u(e.sattrs).tohex(),r=d.getKey(e.signkey),i=new p.Signature({alg:t});i.init(r),i.updateHex(n);var o=i.sign();e.sighex=o},this.tohex=function(){var e=this.params,n=[];if(n.push(new i({int:e.version})),n.push(new c(e.id)),n.push(new h({name:e.hashalg})),null!=e.sattrs){var r=new u(e.sattrs);try{n.push(new s({tag:"a0",explicit:!1,obj:r}))}catch(e){throw new t("si sattr error: "+e)}}if(null!=e.sigalgfield?n.push(new h({name:e.sigalgfield})):n.push(new h({name:e.sigalg})),null==e.sighex&&null!=e.signkey&&this.sign(),n.push(new o({hex:e.sighex})),null!=e.uattrs){r=new u(e.uattrs);try{n.push(new s({tag:"a1",explicit:!1,obj:r}))}catch(e){throw new t("si uattr error: "+e)}}return new a({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.SignerInfo,ue.asn1.ASN1Object),ue.asn1.cms.EncapsulatedContentInfo=function(e){var t=ue.asn1,n=t.DERTaggedObject,r=t.DERSequence,i=t.DERObjectIdentifier,o=t.DEROctetString;t.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];if(t.push(new i(e.type)),null!=e.content&&(null!=e.content.hex||null!=e.content.str)&&1!=e.isDetached){var a=new o(e.content),s=new n({tag:"a0",explicit:!0,obj:a});t.push(s)}return new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.EncapsulatedContentInfo,ue.asn1.ASN1Object),ue.asn1.cms.ContentInfo=function(e){var t=ue.asn1,n=t.DERTaggedObject,r=t.DERSequence,i=t.DERObjectIdentifier;t.x509.OID.name2obj,ue.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];t.push(new i(e.type));var o=new n({tag:"a0",explicit:!0,obj:e.obj});return t.push(o),new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.ContentInfo,ue.asn1.ASN1Object),ue.asn1.cms.SignedData=function(e){Error;var t=ue.asn1,n=(t.ASN1Object,t.DERInteger),r=t.DERSet,i=t.DERSequence,o=(t.DERTaggedObject,t.cms),a=o.EncapsulatedContentInfo,s=o.SignerInfo,l=o.ContentInfo,c=o.CertificateSet,u=o.RevocationInfoChoices,h=t.x509.AlgorithmIdentifier;ue.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var e=this.params;this._setDigestAlgs(e),this._setContentTypeByEContent(e),this._setMessageDigestByEContent(e),this._setSignerInfoVersion(e),this._setSignedDataVersion(e)},this._setDigestAlgs=function(e){for(var t={},n=e.sinfos,r=0;r<n.length;r++)t[n[r].hashalg]=1;e.hashalgs=Object.keys(t).sort()},this._setContentTypeByEContent=function(e){for(var t=e.econtent.type,n=e.sinfos,r=0;r<n.length;r++){var i=n[r];this._getAttrParamByName(i,"contentType").type=t}},this._setMessageDigestByEContent=function(e){var t=e.econtent,n=(e.econtent.type,t.content.hex);null==n&&"data"==t.type&&null!=t.content.str&&(n=Se(t.content.str));for(var r=e.sinfos,i=0;i<r.length;i++){var o=r[i],a=o.hashalg,s=this._getAttrParamByName(o,"messageDigest"),l=ue.crypto.Util.hashHex(n,a);s.hex=l}},this._getAttrParamByName=function(e,t){for(var n=e.sattrs.array,r=0;r<n.length;r++)if(n[r].attr==t)return n[r]},this._setSignerInfoVersion=function(e){for(var t=e.sinfos,n=0;n<t.length;n++){var r=t[n],i=1;"skid"==r.id.type&&(i=3),r.version=i}},this._setSignedDataVersion=function(e){var t=this._getSignedDataVersion(e);e.version=t},this._getSignedDataVersion=function(e){if(null!=e.revinfos)for(var t=e.revinfos,n=0;n<t.length;n++)if(null!=t[n].ocsp)return 5;var r=e.sinfos;for(n=0;n<r.length;n++)if(3==e.sinfos[n].version)return 3;return"data"!=e.econtent.type?3:1},this.tohex=function(){var e=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=e.fixed&&this.checkAndFixParam();var t=[];t.push(new n({int:e.version}));for(var o=[],l=0;l<e.hashalgs.length;l++){var p=e.hashalgs[l];o.push(new h({name:p}))}t.push(new r({array:o})),t.push(new a(e.econtent)),null!=e.certs&&t.push(new c(e.certs)),null!=e.revinfos&&t.push(new u(e.revinfos));var d=[];for(l=0;l<e.sinfos.length;l++){var f=e.sinfos[l];d.push(new s(f))}return t.push(new r({array:d})),new i({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new l({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.SignedData,ue.asn1.ASN1Object),ue.asn1.cms.CertificateSet=function(e){ue.asn1.cms.CertificateSet.superclass.constructor.call(this);var t=Error,n=ue.asn1,r=n.DERTaggedObject,i=n.DERSet,o=n.ASN1Object;this.params=null,this.tohex=function(){var e,n=this.params,a=[];if(n instanceof Array)e=n;else{if(null==n.array)throw new t("cert array not specified");e=n.array}for(var s=0;s<e.length;s++){var l=De(e[s]),c=new o;c.hTLV=l,a.push(c)}var u={array:a};0==n.sortflag&&(u.sortflag=!1);var h=new i(u);return new r({tag:"a0",explicit:!1,obj:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.CertificateSet,ue.asn1.ASN1Object),ue.asn1.cms.RevocationInfoChoices=function(e){ue.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(!e instanceof Array)throw new Error("params is not array");for(var t=[],n=0;n<e.length;n++)t.push(new ue.asn1.cms.RevocationInfoChoice(e[n]));return ue.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:t}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.RevocationInfoChoices,ue.asn1.ASN1Object),ue.asn1.cms.RevocationInfoChoice=function(e){ue.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(null!=e.crl&&"string"==typeof e.crl){var t=e.crl;return-1!=e.crl.indexOf("-----BEGIN")&&(t=De(e.crl)),t}if(null!=e.ocsp)return ue.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new ue.asn1.cms.OtherRevocationFormat(e)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.RevocationInfoChoice,ue.asn1.ASN1Object),ue.asn1.cms.OtherRevocationFormat=function(e){ue.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var t=Error,n=ue,r=n.asn1.ASN1Util.newObject,i=n.lang.String.isHex;this.params=null,this.tohex=function(){var e=this.params;if(null==e.ocsp)throw new t("property ocsp not specified");if(!i(e.ocsp)||!de.isASN1HEX(e.ocsp))throw new t("ocsp value not ASN.1 hex string");return r({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:e.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cms.OtherRevocationFormat,ue.asn1.ASN1Object),ue.asn1.cms.CMSUtil=new function(){},ue.asn1.cms.CMSUtil.newSignedData=function(e){return new ue.asn1.cms.SignedData(e)},ue.asn1.cms.CMSUtil.verifySignedData=function(e){var t=ue,n=t.asn1,r=n.cms,i=(r.SignerInfo,r.SignedData,r.SigningTime,r.SigningCertificate,r.SigningCertificateV2,n.cades.SignaturePolicyIdentifier,t.lang.String.isHex),o=de,a=o.getVbyList,s=o.getTLVbyList,l=o.getIdxbyList,c=o.getChildIdx,u=o.getTLV,h=o.oidname,p=t.crypto.Util.hashHex;void 0===e.cms&&i(e.cms);var d=e.cms,f=function(e,t){var n=t.idx;t.signerid_issuer1=s(e,n,[1,0],"30"),t.signerid_serial1=a(e,n,[1,1],"02"),t.hashalg=h(a(e,n,[2,0],"06"));var r=l(e,n,[3],"a0");t.idxSignedAttrs=r,m(e,t,r);var i=c(e,n).length;if(i<6)throw"malformed SignerInfo";t.sigalg=h(a(e,n,[i-2,0],"06")),t.sigval=a(e,n,[i-1],"04")},m=function(e,t,n){var r=c(e,n);t.signedAttrIdxList=r;for(var i=0;i<r.length;i++){var o,s=r[i],l=a(e,s,[0],"06");"2a864886f70d010905"===l?(o=we(a(e,s,[1,0])),t.saSigningTime=o):"2a864886f70d010904"===l&&(o=a(e,s,[1,0],"04"),t.saMessageDigest=o)}},g=function(e,t,n,r){n.verifyDetail={};var i=n.verifyDetail,o=t.parse.econtent,a=n.hashalg,s=n.saMessageDigest;i.validMessageDigest=!1,p(o,a)===s&&(i.validMessageDigest=!0),function(e,t,n,r){var i,o=t.parse.certsIdx;if(void 0===t.certs){i=[],t.certkeys=[];for(var a=c(e,o),s=0;s<a.length;s++){var l=u(e,a[s]),h=new Je;h.readCertHex(l),i[s]=h,t.certkeys[s]=h.getPublicKey()}t.certs=i}else i=t.certs;for(t.cccc=i.length,t.cccci=a.length,s=0;s<i.length;s++){var p=h.getIssuerHex(),d=h.getSerialNumberHex();n.signerid_issuer1===p&&n.signerid_serial1===d&&(n.certkey_idx=s)}}(e,t,n),i.validSignatureValue=!1;var l=n.sigalg,h="31"+u(e,n.idxSignedAttrs).substr(2);n.signedattrshex=h;var d=t.certs[n.certkey_idx].getPublicKey(),f=new ue.crypto.Signature({alg:l});f.init(d),f.updateHex(h);var m=f.verify(n.sigval);i.validSignatureValue_isValid=m,!0===m&&(i.validSignatureValue=!0),n.isValid=!1,i.validMessageDigest&&i.validSignatureValue&&(n.isValid=!0)},y={isValid:!1,parse:{}};return function(e,t){if("2a864886f70d010702"!==a(e,0,[0],"06"))return t;t.cmsType="signedData",t.econtent=a(e,0,[1,0,2,1,0]),function(e,t){for(var n,r=3;r<6;r++)if(void 0!==(n=l(e,0,[1,0,r]))){var i=e.substr(n,2);"a0"===i&&(t.certsIdx=n),"a1"===i&&(t.revinfosIdx=n),"31"===i&&(t.signerinfosIdx=n)}}(e,t),t.signerInfos=[],function(e,t){var n=t.signerinfosIdx;if(void 0!==n){var r=c(e,n);t.signerInfoIdxList=r;for(var i=0;i<r.length;i++){var o={idx:r[i]};f(e,o),t.signerInfos.push(o)}}}(e,t)}(d,y.parse),function(e,t){for(var n=t.parse.signerInfos,r=n.length,i=!0,o=0;o<r;o++){var a=n[o];g(e,t,a),a.isValid||(i=!1)}t.isValid=i}(d,y),y},ue.asn1.cms.CMSParser=function(){var e=Error,t=Je,n=new t,r=de,i=r.getV,o=r.getTLV,a=(r.getIdxbyList,r.getTLVbyList),s=r.getTLVbyListEx,l=r.getVbyList,c=r.getVbyListEx,u=r.getChildIdx;this.getCMSSignedData=function(e){var t=a(e,0,[1,0]);return this.getSignedData(t)},this.getSignedData=function(e){var t=u(e,0),n={},r=i(e,t[0]),a=parseInt(r,16);n.version=a;var l=o(e,t[1]);n.hashalgs=this.getHashAlgArray(l);var c=o(e,t[2]);n.econtent=this.getEContent(c);var h=s(e,0,["[0]"]);null!=h&&(n.certs=this.getCertificateSet(h)),s(e,0,["[1]"]);var p=s(e,0,[3]);return n.sinfos=this.getSignerInfos(p),n},this.getHashAlgArray=function(e){for(var n=u(e,0),r=new t,i=[],a=0;a<n.length;a++){var s=o(e,n[a]),l=r.getAlgorithmIdentifierName(s);i.push(l)}return i},this.getEContent=function(e){var t={},n=l(e,0,[0]),r=l(e,0,[1,0]);return t.type=ue.asn1.x509.OID.oid2name(de.hextooidstr(n)),t.content={hex:r},t},this.getSignerInfos=function(e){for(var t=[],n=u(e,0),r=0;r<n.length;r++){var i=o(e,n[r]),a=this.getSignerInfo(i);t.push(a)}return t},this.getSignerInfo=function(e){var t={},i=u(e,0),a=r.getInt(e,i[0],-1);-1!=a&&(t.version=a);var l=o(e,i[1]),h=this.getIssuerAndSerialNumber(l);t.id=h;var p=o(e,i[2]),d=n.getAlgorithmIdentifierName(p);t.hashalg=d;var f=s(e,0,["[0]"]);if(null!=f){var m=this.getAttributeList(f);t.sattrs=m}var g=s(e,0,[3]),y=n.getAlgorithmIdentifierName(g);t.sigalg=y;var v=c(e,0,[4]);t.sighex=v;var b=s(e,0,["[1]"]);if(null!=b){var k=this.getAttributeList(b);t.uattrs=k}return t},this.getSignerIdentifier=function(e){if("30"==e.substr(0,2))return this.getIssuerAndSerialNumber(e);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(e){var t={type:"isssn"},r=u(e,0),a=o(e,r[0]);t.issuer=n.getX500Name(a);var s=i(e,r[1]);return t.serial={hex:s},t},this.getAttributeList=function(e){for(var t=[],n=u(e,0),r=0;r<n.length;r++){var i=o(e,n[r]),a=this.getAttribute(i);t.push(a)}return{array:t}},this.getAttribute=function(e){var t={},n=u(e,0),i=r.getOID(e,n[0]),a=ue.asn1.x509.OID.oid2name(i);t.attr=a;var s=o(e,n[1]),l=u(s,0);if(1==l.length)t.valhex=o(s,l[0]);else{for(var c=[],h=0;h<l.length;h++)c.push(o(s,l[h]));t.valhex=c}return"contentType"==a?this.setContentType(t):"messageDigest"==a?this.setMessageDigest(t):"signingTime"==a?this.setSigningTime(t):"signingCertificate"==a?this.setSigningCertificate(t):"signingCertificateV2"==a?this.setSigningCertificateV2(t):"signaturePolicyIdentifier"==a&&this.setSignaturePolicyIdentifier(t),t},this.setContentType=function(e){var t=r.getOIDName(e.valhex,0,null);null!=t&&(e.type=t,delete e.valhex)},this.setSigningTime=function(e){var t=we(i(e.valhex,0));e.str=t,delete e.valhex},this.setMessageDigest=function(e){var t=i(e.valhex,0);e.hex=t,delete e.valhex},this.setSigningCertificate=function(e){var t=u(e.valhex,0);if(t.length>0){for(var n=o(e.valhex,t[0]),r=u(n,0),i=[],a=0;a<r.length;a++){var s=o(n,r[a]),l=this.getESSCertID(s);i.push(l)}e.array=i}if(t.length>1){var c=o(e.valhex,t[1]);e.polhex=c}delete e.valhex},this.setSignaturePolicyIdentifier=function(e){var n=u(e.valhex,0);if(n.length>0){var a=r.getOID(e.valhex,n[0]);e.oid=a}if(n.length>1){var s=new t,l=u(e.valhex,n[1]),c=o(e.valhex,l[0]),h=s.getAlgorithmIdentifierName(c);e.alg=h;var p=i(e.valhex,l[1]);e.hash=p}delete e.valhex},this.setSigningCertificateV2=function(e){var t=u(e.valhex,0);if(t.length>0){for(var n=o(e.valhex,t[0]),r=u(n,0),i=[],a=0;a<r.length;a++){var s=o(n,r[a]),l=this.getESSCertIDv2(s);i.push(l)}e.array=i}if(t.length>1){var c=o(e.valhex,t[1]);e.polhex=c}delete e.valhex},this.getESSCertID=function(e){var t={},n=u(e,0);if(n.length>0){var r=i(e,n[0]);t.hash=r}if(n.length>1){var a=o(e,n[1]),s=this.getIssuerSerial(a);null!=s.serial&&(t.serial=s.serial),null!=s.issuer&&(t.issuer=s.issuer)}return t},this.getESSCertIDv2=function(t){var r={},a=u(t,0);if(a.length<1||3<a.length)throw new e("wrong number of elements");var s=0;if("30"==t.substr(a[0],2)){var l=o(t,a[0]);r.alg=n.getAlgorithmIdentifierName(l),s++}else r.alg="sha256";var c=i(t,a[s]);if(r.hash=c,a.length>s+1){var h=o(t,a[s+1]),p=this.getIssuerSerial(h);r.issuer=p.issuer,r.serial=p.serial}return r},this.getIssuerSerial=function(e){var t={},r=u(e,0),a=o(e,r[0]),s=n.getGeneralNames(a)[0].dn;t.issuer=s;var l=i(e,r[1]);return t.serial={hex:l},t},this.getCertificateSet=function(e){for(var t=u(e,0),n=[],r=0;r<t.length;r++){var i=o(e,t[r]);if("30"==i.substr(0,2)){var a=Ae(i,"CERTIFICATE");n.push(a)}}return{array:n,sortflag:!1}}},void 0!==ue&&ue||(ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),void 0!==ue.asn1.tsp&&ue.asn1.tsp||(ue.asn1.tsp={}),ue.asn1.tsp.TimeStampToken=function(e){var t=ue.asn1.tsp;t.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var e=new t.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=e.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.tsp.TimeStampToken,ue.asn1.cms.SignedData),ue.asn1.tsp.TSTInfo=function(e){Error;var t=ue.asn1,n=t.DERSequence,r=t.DERInteger,i=t.DERBoolean,o=t.DERGeneralizedTime,a=t.DERObjectIdentifier,s=t.DERTaggedObject,l=t.tsp,c=l.MessageImprint,u=l.Accuracy,h=(t.x509.X500Name,t.x509.GeneralName);if(l.TSTInfo.superclass.constructor.call(this),this.dVersion=new r({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var e=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(e.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(e.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(e.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");e.push(this.dGenTime),null!=this.dAccuracy&&e.push(this.dAccuracy),null!=this.dOrdering&&e.push(this.dOrdering),null!=this.dNonce&&e.push(this.dNonce),null!=this.dTsa&&e.push(this.dTsa);var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e){if("string"==typeof e.policy){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new a({oid:e.policy})}void 0!==e.messageImprint&&(this.dMessageImprint=new c(e.messageImprint)),void 0!==e.serial&&(this.dSerial=new r(e.serial)),void 0!==e.genTime&&(this.dGenTime=new o(e.genTime)),void 0!==e.accuracy&&(this.dAccuracy=new u(e.accuracy)),void 0!==e.ordering&&1==e.ordering&&(this.dOrdering=new i),void 0!==e.nonce&&(this.dNonce=new r(e.nonce)),void 0!==e.tsa&&(this.dTsa=new s({tag:"a0",explicit:!0,obj:new h({dn:e.tsa})}))}},Ke(ue.asn1.tsp.TSTInfo,ue.asn1.ASN1Object),ue.asn1.tsp.Accuracy=function(e){var t=ue.asn1,n=t.ASN1Util.newObject;t.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return null!=e.seconds&&"number"==typeof e.seconds&&t.push({int:e.seconds}),null!=e.millis&&"number"==typeof e.millis&&t.push({tag:{tagi:"80",obj:{int:e.millis}}}),null!=e.micros&&"number"==typeof e.micros&&t.push({tag:{tagi:"81",obj:{int:e.micros}}}),n({seq:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.tsp.Accuracy,ue.asn1.ASN1Object),ue.asn1.tsp.MessageImprint=function(e){var t=ue.asn1,n=t.DERSequence,r=t.DEROctetString,i=t.x509.AlgorithmIdentifier;t.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=new i({name:e.alg}),o=new r({hex:e.hash});return new n({array:[t,o]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.tsp.MessageImprint,ue.asn1.ASN1Object),ue.asn1.tsp.TimeStampReq=function(e){var t=ue.asn1,n=t.DERSequence,r=t.DERInteger,i=t.DERBoolean,o=(t.ASN1Object,t.DERObjectIdentifier),a=t.tsp,s=a.MessageImprint;a.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return t.push(new r({int:1})),e.messageImprint instanceof ue.asn1.ASN1Object?t.push(e.messageImprint):t.push(new s(e.messageImprint)),null!=e.policy&&t.push(new o(e.policy)),null!=e.nonce&&t.push(new r(e.nonce)),1==e.certreq&&t.push(new i),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.tsp.TimeStampReq,ue.asn1.ASN1Object),ue.asn1.tsp.TimeStampResp=function(e){var t=ue.asn1,n=t.DERSequence,r=(t.ASN1Object,t.tsp),i=r.PKIStatusInfo;r.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,o=[];if(null!=e.econtent||null!=e.tst)if(null!=e.statusinfo?o.push(new i(e.statusinfo)):o.push(new i("granted")),null!=e.econtent)o.push(new r.TimeStampToken(e).getContentInfo());else{if(!(e.tst instanceof t.ASN1Object))throw new Error("improper member tst value");o.push(e.tst)}else{if(null==e.statusinfo)throw new Error("parameter for token nor statusinfo not specified");o.push(new i(e.statusinfo))}return new n({array:o}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.tsp.TimeStampResp,ue.asn1.ASN1Object),ue.asn1.tsp.PKIStatusInfo=function(e){var t=Error,n=ue.asn1,r=n.DERSequence,i=n.tsp,o=i.PKIStatus,a=i.PKIFreeText,s=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,n=[];if("string"==typeof e)n.push(new o(e));else{if(null==e.status)throw new t("property 'status' unspecified");n.push(new o(e.status)),null!=e.statusstr&&n.push(new a(e.statusstr)),null!=e.failinfo&&n.push(new s(e.failinfo))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.tsp.PKIStatusInfo,ue.asn1.ASN1Object),ue.asn1.tsp.PKIStatus=function(e){var t=Error,n=ue.asn1,r=n.DERInteger;n.tsp.PKIStatus.superclass.constructor.call(this);var i={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var e,n=this.params;if("string"==typeof n)try{e=i[n]}catch(e){throw new t("undefined name: "+n)}else{if("number"!=typeof n)throw new t("unsupported params");e=n}return new r({int:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.tsp.PKIStatus,ue.asn1.ASN1Object),ue.asn1.tsp.PKIFreeText=function(e){var t=Error,n=ue.asn1,r=n.DERSequence,i=n.DERUTF8String;n.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(!e instanceof Array)throw new t("wrong params: not array");for(var n=[],o=0;o<e.length;o++)n.push(new i({str:e[o]}));return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.tsp.PKIFreeText,ue.asn1.ASN1Object),ue.asn1.tsp.PKIFailureInfo=function(e){var t=Error,n=ue.asn1,r=n.DERBitString,i=n.tsp.PKIFailureInfo,o={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};i.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var e=this.params,n=0;if("number"==typeof e&&0<=e&&e<=25){for(var r=(n|=1<<e).toString(2),i="",a=r.length-1;a>=0;a--)i+=r[a];return i}if("string"==typeof e&&null!=o[e])return Ve([e],o);if("object"==typeof e&&null!=e.length)return Ve(e,o);throw new t("wrong params")},this.tohex=function(){this.params;var e=this.getBinValue();return new r({bin:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.tsp.PKIFailureInfo,ue.asn1.ASN1Object),ue.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}},ue.asn1.tsp.SimpleTSAAdapter=function(e){var t=ue,n=t.asn1.tsp,r=t.crypto.Util.hashHex;n.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(e,t){var i=r(e,t);this.params.econtent.content.messageImprint={alg:t,hash:i},this.params.econtent.content.serial={int:this.serial++};var o=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:o},new n.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},Ke(ue.asn1.tsp.SimpleTSAAdapter,ue.asn1.tsp.AbstractTSAAdapter),ue.asn1.tsp.FixedTSAAdapter=function(e){var t=ue,n=t.asn1.tsp,r=t.crypto.Util.hashHex;n.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(e,t){var i=r(e,t);return this.params.econtent.content.messageImprint={alg:t,hash:i},new n.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},Ke(ue.asn1.tsp.FixedTSAAdapter,ue.asn1.tsp.AbstractTSAAdapter),ue.asn1.tsp.TSPUtil=new function(){},ue.asn1.tsp.TSPUtil.newTimeStampToken=function(e){return new ue.asn1.tsp.TimeStampToken(e)},ue.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){return(new ue.asn1.tsp.TSPParser).getTimeStampReq(e)},ue.asn1.tsp.TSPUtil.parseMessageImprint=function(e){return(new ue.asn1.tsp.TSPParser).getMessageImprint(e)},ue.asn1.tsp.TSPParser=function(){Error;var e=new Je,t=de,n=t.getV,r=t.getTLV,i=t.getIdxbyList,o=(t.getTLVbyListEx,t.getChildIdx),a=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],s={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(e){var t=o(e,0);if(1==t.length)return this.getPKIStatusInfo(r(e,t[0]));if(t.length>1){var n=this.getPKIStatusInfo(r(e,t[0])),i=r(e,t[1]),a=this.getToken(i);return a.statusinfo=n,a}},this.getToken=function(e){var t=(new ue.asn1.cms.CMSParser).getCMSSignedData(e);return this.setTSTInfo(t),t},this.setTSTInfo=function(e){var t=e.econtent;if("tstinfo"==t.type){var n=t.content.hex,r=this.getTSTInfo(n);t.content=r}},this.getTSTInfo=function(t){var i={},a=o(t,0),s=n(t,a[1]);i.policy=ze(s);var l=r(t,a[2]);i.messageImprint=this.getMessageImprint(l);var c=n(t,a[3]);i.serial={hex:c};var u=n(t,a[4]);i.genTime={str:we(u)};var h=0;if(a.length>5&&"30"==t.substr(a[5],2)){var p=r(t,a[5]);i.accuracy=this.getAccuracy(p),h++}if(a.length>5+h&&"01"==t.substr(a[5+h],2)&&("ff"==n(t,a[5+h])&&(i.ordering=!0),h++),a.length>5+h&&"02"==t.substr(a[5+h],2)){var d=n(t,a[5+h]);i.nonce={hex:d},h++}if(a.length>5+h&&"a0"==t.substr(a[5+h],2)){var f=r(t,a[5+h]);f="30"+f.substr(2),pGeneralNames=e.getGeneralNames(f);var m=pGeneralNames[0].dn;i.tsa=m,h++}if(a.length>5+h&&"a1"==t.substr(a[5+h],2)){var g=r(t,a[5+h]);g="30"+g.substr(2);var y=e.getExtParamArray(g);i.ext=y,h++}return i},this.getAccuracy=function(e){for(var t={},r=o(e,0),i=0;i<r.length;i++){var a=e.substr(r[i],2),s=n(e,r[i]),l=parseInt(s,16);"02"==a?t.seconds=l:"80"==a?t.millis=l:"81"==a&&(t.micros=l)}return t},this.getMessageImprint=function(e){if("30"!=e.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var r={},a=(o(e,0),i(e,0,[0,0])),s=n(e,a),l=t.hextooidstr(s),c=ue.asn1.x509.OID.oid2name(l);if(""==c)throw new Error("hashAlg name undefined: "+l);var u=c,h=i(e,0,[1]);return r.alg=u,r.hash=n(e,h),r},this.getPKIStatusInfo=function(e){var t={},i=o(e,0),s=0;try{var l=n(e,i[0]),c=parseInt(l,16);t.status=a[c]}catch(e){}if(i.length>1&&"30"==e.substr(i[1],2)){var u=r(e,i[1]);t.statusstr=this.getPKIFreeText(u),s++}if(i.length>s&&"03"==e.substr(i[1+s],2)){var h=r(e,i[1+s]);t.failinfo=this.getPKIFailureInfo(h)}return t},this.getPKIFreeText=function(e){for(var n=[],r=o(e,0),i=0;i<r.length;i++)n.push(t.getString(e,r[i]));return n},this.getPKIFailureInfo=function(e){var n=t.getInt(e,0);return null!=s[n]?s[n]:n},this.getTimeStampReq=function(e){var i={certreq:!1},a=o(e,0);if(a.length<2)throw new Error("TimeStampReq must have at least 2 items");var s=r(e,a[1]);i.messageImprint=ue.asn1.tsp.TSPUtil.parseMessageImprint(s);for(var l=2;l<a.length;l++){var c=a[l],u=e.substr(c,2);if("06"==u){var h=n(e,c);i.policy=t.hextooidstr(h)}"02"==u&&(i.nonce=n(e,c)),"01"==u&&(i.certreq=!0)}return i}},void 0!==ue&&ue||(ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),void 0!==ue.asn1.cades&&ue.asn1.cades||(ue.asn1.cades={}),ue.asn1.cades.SignaturePolicyIdentifier=function(e){var t=ue.asn1.cades,n=t.SignaturePolicyId;t.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new n(this.params)]},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ue.asn1.cades.SignaturePolicyIdentifier,ue.asn1.cms.Attribute),ue.asn1.cades.SignaturePolicyId=function(e){var t=ue.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=(t.x509.AlgorithmIdentifier,t.cades),o=i.SignaturePolicyId,a=i.OtherHashAlgAndValue;o.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return t.push(new r(e.oid)),t.push(new a(e)),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ue.asn1.cades.SignaturePolicyId,ue.asn1.ASN1Object),ue.asn1.cades.OtherHashAlgAndValue=function(e){var t=Error,n=ue.asn1,r=n.DERSequence,i=n.DEROctetString,o=n.x509.AlgorithmIdentifier;n.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(null==e.alg)throw new t("property 'alg' not specified");if(null==e.hash&&null==e.cert)throw new t("property 'hash' nor 'cert' not specified");var n=null;if(null!=e.hash)n=e.hash;else if(null!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var a=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(a=De(e.cert)),n=ue.crypto.Util.hashHex(a,e.alg)}var s=[];return s.push(new o({name:e.alg})),s.push(new i({hex:n})),new r({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cades.OtherHashAlgAndValue,ue.asn1.ASN1Object),ue.asn1.cades.OtherHashValue=function(e){ue.asn1.cades.OtherHashValue.superclass.constructor.call(this);var t=Error,n=ue,r=(n.lang.String.isHex,n.asn1.DEROctetString);n.crypto.Util.hashHex,this.params=null,this.tohex=function(){var e=this.params;if(null==e.hash&&null==e.cert)throw new t("hash or cert not specified");var n=null;if(null!=e.hash)n=e.hash;else if(null!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var i=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(i=De(e.cert)),n=ue.crypto.Util.hashHex(i,"sha1")}return new r({hex:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cades.OtherHashValue,ue.asn1.ASN1Object),ue.asn1.cades.SignatureTimeStamp=function(e){var t=Error,n=ue,r=n.lang.String.isHex,i=n.asn1,o=i.ASN1Object;i.x509,i.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var e=this.params;if(null!=e.tst){if(r(e.tst))return(n=new o).hTLV=e.tst,[n];if(e.tst instanceof o)return[e.tst];throw new t("params.tst has wrong value")}if(null!=e.res){var n,i=e.res;if(i instanceof o&&(i=i.tohex()),"string"!=typeof i||!r(i))throw new t("params.res has wrong value");return de.getTLVbyList(i,0,[1]),(n=new o).hTLV=e.tst,[n]}},null!=e&&this.setByParam(e)},Ke(ue.asn1.cades.SignatureTimeStamp,ue.asn1.cms.Attribute),ue.asn1.cades.CompleteCertificateRefs=function(e){var t=Error,n=ue,r=n.asn1,i=r.DERSequence,o=r.cades,a=o.OtherCertID,s=n.lang.String.isHex;o.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var e=this.params,n=[],r=0;r<e.array.length;r++){var o=e.array[r];if("string"==typeof o)if(-1!=o.indexOf("-----BEGIN"))o={cert:o};else{if(!s(o))throw new t("unsupported value: "+o);o={hash:o}}null!=e.alg&&null==o.alg&&(o.alg=e.alg),null!=e.hasis&&null==o.hasis&&(o.hasis=e.hasis);var l=new a(o);n.push(l)}return[new i({array:n})]},null!=e&&this.setByParam(e)},Ke(ue.asn1.cades.CompleteCertificateRefs,ue.asn1.cms.Attribute),ue.asn1.cades.OtherCertID=function(e){var t=ue.asn1,n=t.DERSequence,r=t.cms.IssuerSerial,i=t.cades,o=i.OtherHashValue,a=i.OtherHashAlgAndValue;i.OtherCertID.superclass.constructor.call(this),this.params=e,this.tohex=function(){var e=this.params;"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:_isHex(e)&&(e={hash:e}));var t,i=[];if(t=null!=e.alg?new a(e):new o(e),i.push(t),null!=e.cert&&1==e.hasis||null!=e.issuer&&null!=e.serial){var s=new r(e);i.push(s)}return new n({array:i}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cades.OtherCertID,ue.asn1.ASN1Object),ue.asn1.cades.OtherHash=function(e){Error;var t=ue,n=t.asn1,r=(n.cms,n.cades),i=r.OtherHashAlgAndValue,o=r.OtherHashValue,a=(t.crypto.Util.hashHex,t.lang.String.isHex);r.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;return"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:a(e)&&(e={hash:e})),(null!=e.alg?new i(e):new o(e)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.cades.OtherHash,ue.asn1.ASN1Object),ue.asn1.cades.CAdESUtil=new function(){},ue.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){return(new ue.asn1.cms.CMSParser).getCMSSignedData(e)},ue.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,n){var r=de,i=r.getChildIdx,o=r.getTLV,a=r.getV,s=ue.asn1,l=s.ASN1Object,c=s.cms,u=c.AttributeList,h=c.SignerInfo,p={},d=i(e,t);if(6!=d.length)throw"not supported items for SignerInfo (!=6)";var f=d.shift();p.version=o(e,f);var m=d.shift();p.si=o(e,m);var g=d.shift();p.digalg=o(e,g);var y=d.shift();p.sattrs=o(e,y);var v=d.shift();p.sigalg=o(e,v);var b=d.shift();p.sig=o(e,b),p.sigval=a(e,b);var k=null;return p.obj=new h,(k=new l).hTLV=p.version,p.obj.dCMSVersion=k,(k=new l).hTLV=p.si,p.obj.dSignerIdentifier=k,(k=new l).hTLV=p.digalg,p.obj.dDigestAlgorithm=k,(k=new l).hTLV=p.sattrs,p.obj.dSignedAttrs=k,(k=new l).hTLV=p.sigalg,p.obj.dSigAlg=k,(k=new l).hTLV=p.sig,p.obj.dSig=k,p.obj.dUnsignedAttrs=new u,p},void 0!==ue.asn1.csr&&ue.asn1.csr||(ue.asn1.csr={}),ue.asn1.csr.CertificationRequest=function(e){var t=ue.asn1,n=t.DERBitString,r=t.DERSequence,i=t.csr,o=(t.x509,i.CertificationRequestInfo);i.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.sign=function(){var e=new o(this.params).tohex(),t=new ue.crypto.Signature({alg:this.params.sigalg});t.init(this.params.sbjprvkey),t.updateHex(e);var n=t.sign();this.params.sighex=n},this.getPEM=function(){return Ae(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var e=this.params,t=new ue.asn1.csr.CertificationRequestInfo(this.params),i=new ue.asn1.x509.AlgorithmIdentifier({name:e.sigalg});if(null==e.sighex&&null!=e.sbjprvkey&&this.sign(),null==e.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var o=new n({hex:"00"+e.sighex});return new r({array:[t,i,o]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.csr.CertificationRequest,ue.asn1.ASN1Object),ue.asn1.csr.CertificationRequestInfo=function(e){var t=ue.asn1,n=(t.DERBitString,t.DERSequence),r=t.DERInteger,i=t.DERUTF8String,o=t.DERTaggedObject,a=t.ASN1Util.newObject,s=t.csr,l=t.x509,c=l.X500Name,u=l.Extensions,h=l.SubjectPublicKeyInfo;s.AttributeList,s.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(e){null!=e&&(this.params=e)},this.tohex=function(){var e=this.params,t=[];if(t.push(new r({int:0})),t.push(new c(e.subject)),t.push(new h(Ye.getKey(e.sbjpubkey))),null!=e.attrs){var s=function(e){for(var t=Error,n=ue.asn1.x509.Extensions,r=[],i=0;i<e.length;i++){var o=e[i],a=o.attr;if("extensionRequest"==a){var s={seq:[{oid:"1.2.840.113549.1.9.14"},{set:[new n(o.ext)]}]};r.push(s)}else if("unstructuredName"==a)s={seq:[{oid:"1.2.840.113549.1.9.2"},{set:o.names}]},r.push(s);else{if("challengePassword"!=a)throw new t("unknown CSR attribute");s={seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:o.password}]}]},r.push(s)}}return{set:r}}(e.attrs),l=a({tag:{tage:"a0",obj:s}});t.push(l)}else if(null!=e.extreq){var p=new u(e.extreq);l=a({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[p]}]}}}),t.push(l)}else t.push(new o({tag:"a0",explicit:!1,obj:new i({str:""})}));return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ue.asn1.csr.CertificationRequestInfo,ue.asn1.ASN1Object),ue.asn1.csr.AttributeList=function(e){},Ke(ue.asn1.csr.AttributeList,ue.asn1.ASN1Object),ue.asn1.csr.CSRUtil=new function(){},ue.asn1.csr.CSRUtil.newCSRPEM=function(e){return new ue.asn1.csr.CertificationRequest(e).getPEM()},ue.asn1.csr.CSRUtil.getParam=function(e,t){var n=de,r=n.getV,i=n.getIdxbyList,o=n.getTLVbyList,a=n.getTLVbyListEx,s=n.getVbyListEx,l={};if(-1==e.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var c=De(e,"CERTIFICATE REQUEST");t&&(l.tbs=o(c,0,[0]));try{var u=a(c,0,[0,1]);if("3000"==u)l.subject={};else{var h=new Je;l.subject=h.getX500Name(u)}}catch(e){}var p=a(c,0,[0,2]),d=Ye.getKey(p,null,"pkcs8pub");l.sbjpubkey=Ye.getPEM(d,"PKCS8PUB");var f=function(e){var t=i(e,0,[0,3,0,0],"06");return"2a864886f70d01090e"!=r(e,t)?null:o(e,0,[0,3,0,1,0],"30")}(c);h=new Je,null!=f&&(l.extreq=h.getExtParamArray(f));try{var m=a(c,0,[1],"30");h=new Je,l.sigalg=h.getAlgorithmIdentifierName(m)}catch(e){}try{var g=s(c,0,[2]);l.sighex=g}catch(e){}return l},ue.asn1.csr.CSRUtil.verifySignature=function(e){try{var t=null;if("string"==typeof e&&-1!=e.indexOf("-----BEGIN CERTIFICATE REQUEST")?t=ue.asn1.csr.CSRUtil.getParam(e,!0):"object"==typeof e&&null!=e.sbjpubkey&&null!=e.sigalg&&null!=e.sighex&&null!=e.tbs&&(t=e),null==t)return!1;var n=new ue.crypto.Signature({alg:t.sigalg});return n.init(t.sbjpubkey),n.updateHex(t.tbs),n.verify(t.sighex)}catch(e){return alert(e),!1}},void 0!==ue&&ue||(ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),void 0!==ue.asn1.ocsp&&ue.asn1.ocsp||(ue.asn1.ocsp={}),ue.asn1.ocsp.DEFAULT_HASH="sha1",ue.asn1.ocsp.OCSPResponse=function(e){ue.asn1.ocsp.OCSPResponse.superclass.constructor.call(this),ue.asn1.DEREnumerated;var t=ue.asn1.ASN1Util.newObject,n=ue.asn1.ocsp.ResponseBytes,r=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var e=this.params.resstatus;return"number"==typeof e?e:"string"!=typeof e?-1:r.indexOf(e)},this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params,r=this._getStatusCode();if(-1==r)throw new Error("responseStatus not supported: "+e.resstatus);if(0!=r)return t({seq:[{enum:{int:r}}]}).tohex();var i=new n(e);return t({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:i}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.ocsp.OCSPResponse,ue.asn1.ASN1Object),ue.asn1.ocsp.ResponseBytes=function(e){ue.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var t=ue.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=t.DEROctetString,o=t.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if("ocspBasic"!=e.restype)throw new Error("not supported responseType: "+e.restype);var t=new o(e),a=[];return a.push(new r({name:"ocspBasic"})),a.push(new i({hex:t.tohex()})),new n({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.ocsp.ResponseBytes,ue.asn1.ASN1Object),ue.asn1.ocsp.BasicOCSPResponse=function(e){ue.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var t=Error,n=ue.asn1,r=n.ASN1Object,i=n.DERSequence,o=(n.DERGeneralizedTime,n.DERTaggedObject),a=n.DERBitString,s=(n.x509.Extensions,n.x509.AlgorithmIdentifier),l=n.ocsp;l.ResponderID,_SingleResponseList=l.SingleResponseList,_ResponseData=l.ResponseData,this.params=null,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.tbsresp.tohex(),n=new ue.crypto.Signature({alg:e.sigalg});n.init(e.reskey),n.updateHex(t),e.sighex=n.sign()},this.tohex=function(){var e=this.params;null==e.tbsresp&&(e.tbsresp=new _ResponseData(e)),null==e.sighex&&null!=e.reskey&&this.sign();var n=[];if(n.push(e.tbsresp),n.push(new s({name:e.sigalg})),n.push(new a({hex:"00"+e.sighex})),null!=e.certs&&null!=e.certs.length){for(var l=[],c=0;c<e.certs.length;c++){var u=e.certs[c],h=null;if(de.isASN1HEX(u))h=u;else{if(!u.match(/-----BEGIN/))throw new t("certs["+c+"] not hex or PEM");h=De(u)}l.push(new r({tlv:h}))}var p=new i({array:l});n.push(new o({tag:"a0",explicit:!0,obj:p}))}return new i({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.ocsp.BasicOCSPResponse,ue.asn1.ASN1Object),ue.asn1.ocsp.ResponseData=function(e){ue.asn1.ocsp.ResponseData.superclass.constructor.call(this);var t=Error,n=ue.asn1,r=n.DERSequence,i=n.DERGeneralizedTime,o=n.DERTaggedObject,a=n.x509.Extensions,s=n.ocsp,l=s.ResponderID;_SingleResponseList=s.SingleResponseList,this.params=null,this.tohex=function(){var e=this.params;null!=e.respid&&new t("respid not specified"),null!=e.prodat&&new t("prodat not specified"),null!=e.array&&new t("array not specified");var n=[];if(n.push(new l(e.respid)),n.push(new i(e.prodat)),n.push(new _SingleResponseList(e.array)),null!=e.ext){var s=new a(e.ext);n.push(new o({tag:"a1",explicit:!0,obj:s}))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.ocsp.ResponseData,ue.asn1.ASN1Object),ue.asn1.ocsp.ResponderID=function(e){ue.asn1.ocsp.ResponderID.superclass.constructor.call(this);var t=ue,n=t.asn1,r=n.ASN1Util.newObject,i=n.x509.X500Name,o=t.lang.String.isHex,a=Error;this.params=null,this.tohex=function(){var e=this.params;if(null!=e.key){var t,n=null;if("string"==typeof e.key?(o(e.key)&&(n=e.key),e.key.match(/-----BEGIN CERTIFICATE/)&&null!=(t=new Je(e.key).getExtSubjectKeyIdentifier())&&(n=t.kid.hex)):e.key instanceof Je&&null!=(t=e.key.getExtSubjectKeyIdentifier())&&(n=t.kid.hex),null==n)throw new a("wrong key member value");return r({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:n}}}}).tohex()}if(null!=e.name){var s=null;if("string"==typeof e.name&&e.name.match(/-----BEGIN CERTIFICATE/)?s=new Je(e.name).getSubject():e.name instanceof Je?s=e.name.getSubject():"object"!=typeof e.name||null==e.name.array&&null==e.name.str||(s=e.name),null==s)throw new a("wrong name member value");return r({tag:{tag:"a1",explicit:!0,obj:new i(s)}}).tohex()}throw new a("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.ocsp.ResponderID,ue.asn1.ASN1Object),ue.asn1.ocsp.SingleResponseList=function(e){ue.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var t=ue.asn1,n=t.DERSequence,r=t.ocsp.SingleResponse;this.params=null,this.tohex=function(){var e=this.params;if("object"!=typeof e||null==e.length)throw new Error("params not specified properly");for(var t=[],i=0;i<e.length;i++)t.push(new r(e[i]));return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.ocsp.SingleResponseList,ue.asn1.ASN1Object),ue.asn1.ocsp.SingleResponse=function(e){var t=Error,n=ue.asn1,r=n.DERSequence,i=n.DERGeneralizedTime,o=n.DERTaggedObject,a=n.ocsp,s=a.CertID,l=a.CertStatus,c=n.x509.Extensions;a.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,n=[];if(null==e.certid)throw new t("certid unspecified");if(null==e.status)throw new t("status unspecified");if(null==e.thisupdate)throw new t("thisupdate unspecified");if(n.push(new s(e.certid)),n.push(new l(e.status)),n.push(new i(e.thisupdate)),null!=e.nextupdate){var a=new i(e.nextupdate);n.push(new o({tag:"a0",explicit:!0,obj:a}))}if(null!=e.ext){var u=new c(e.ext);n.push(new o({tag:"a1",explicit:!0,obj:u}))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.ocsp.SingleResponse,ue.asn1.ASN1Object),ue.asn1.ocsp.CertID=function(e){var t=ue,n=t.asn1,r=n.DEROctetString,i=n.DERInteger,o=n.DERSequence,a=n.x509.AlgorithmIdentifier,s=n.ocsp,l=(s.DEFAULT_HASH,t.crypto.Util.hashHex),c=Je,u=de.getVbyList;s.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(e,t,n,r){null==r&&(r=this.DEFAULT_HASH),this.params={alg:r,issname:e,isskey:t,sbjsn:n}},this.setByCert=function(e,t,n){null==n&&(n=this.DEFAULT_HASH),this.params={alg:n,issuerCert:e,subjectCert:t}},this.getParamByCerts=function(e,t,n){null==n&&(n=this.DEFAULT_HASH);var r=new c(e),i=new c(t),o=l(r.getSubjectHex(),n),a=r.getPublicKeyHex();return{alg:n,issname:o,isskey:l(u(a,0,[1],"03",!0),n),sbjsn:i.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var e,t,n,s,l=this.params;if(s=null==l.alg?this.DEFAULT_HASH:l.alg,null!=l.issuerCert&&null!=l.subjectCert){var c=this.getParamByCerts(l.issuerCert,l.subjectCert,s);e=c.issname,t=c.isskey,n=c.sbjsn}else{if(null==l.issname||null==l.isskey||null==l.sbjsn)throw new Error("required param members not defined");e=l.issname,t=l.isskey,n=l.sbjsn}var u=new a({name:s}),h=new r({hex:e}),p=new r({hex:t}),d=new i({hex:n}),f=new o({array:[u,h,p,d]});return this.hTLV=f.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.ocsp.CertID,ue.asn1.ASN1Object),ue.asn1.ocsp.CertStatus=function(e){ue.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if("good"==e.status)return"8000";if("unknown"==e.status)return"8200";if("revoked"==e.status){var t=[{gentime:{str:e.time}}];null!=e.reason&&t.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:e.reason}}}});var n={tag:"a1",explicit:!1,obj:{seq:t}};return ue.asn1.ASN1Util.newObject({tag:n}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ue.asn1.ocsp.CertStatus,ue.asn1.ASN1Object),ue.asn1.ocsp.Request=function(e){var t=ue.asn1,n=t.DERSequence,r=t.ocsp;if(r.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var e=[];if(null===this.dReqCert)throw"reqCert not set";e.push(this.dReqCert);var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e){var i=new r.CertID(e);this.dReqCert=i}},Ke(ue.asn1.ocsp.Request,ue.asn1.ASN1Object),ue.asn1.ocsp.TBSRequest=function(e){var t=ue.asn1,n=t.DERSequence,r=t.ocsp;r.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(e){for(var t=[],n=0;n<e.length;n++){var i=new r.Request(e[0]);t.push(i)}this.dRequestList=t},this.tohex=function(){var e=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var t=new n({array:this.dRequestList});if(e.push(t),null!==this.dRequestExt)throw"requestExtensions not supported";var r=new n({array:e});return this.hTLV=r.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&void 0!==e.reqList&&this.setRequestListByParam(e.reqList)},Ke(ue.asn1.ocsp.TBSRequest,ue.asn1.ASN1Object),ue.asn1.ocsp.OCSPRequest=function(e){var t=ue.asn1,n=t.DERSequence,r=t.ocsp;if(r.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var e=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(e.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&void 0!==e.reqList){var i=new r.TBSRequest(e);this.dTbsRequest=i}},Ke(ue.asn1.ocsp.OCSPRequest,ue.asn1.ASN1Object),ue.asn1.ocsp.OCSPUtil={},ue.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,n){var r=ue.asn1.ocsp;void 0===n&&(n=r.DEFAULT_HASH);var i={alg:n,issuerCert:e,subjectCert:t};return new r.OCSPRequest({reqList:[i]}).tohex()},ue.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=de,n=t.getVbyList,r=t.getVbyListEx,i=t.getIdxbyList,o=(t.getIdxbyListEx,t.getV),a={};try{var s=r(e,0,[0],"0a");a.responseStatus=parseInt(s,16)}catch(e){}if(0!==a.responseStatus)return a;try{var l=i(e,0,[1,0,1,0,0,2,0,1]);"80"===e.substr(l,2)?a.certStatus="good":"a1"===e.substr(l,2)?(a.certStatus="revoked",a.revocationTime=we(n(e,l,[0]))):"82"===e.substr(l,2)&&(a.certStatus="unknown")}catch(e){}try{var c=i(e,0,[1,0,1,0,0,2,0,2]);a.thisUpdate=we(o(e,c))}catch(e){}try{var u=i(e,0,[1,0,1,0,0,2,0,3]);"a0"===e.substr(u,2)&&(a.nextUpdate=we(n(e,u,[0])))}catch(e){}return a},ue.asn1.ocsp.OCSPParser=function(){var e=Error,t=Je,n=new t,r=de,i=r.getV,o=r.getTLV,a=r.getIdxbyList,s=r.getVbyList,l=r.getTLVbyList,c=r.getVbyListEx,u=r.getTLVbyListEx,h=r.getChildIdx;this.getOCSPRequest=function(t){var n=h(t,0);if(1!=n.length&&2!=n.length)throw new e("wrong number elements: "+n.length);return this.getTBSRequest(o(t,n[0]))},this.getTBSRequest=function(e){var t={},r=u(e,0,[0],"30");t.array=this.getRequestList(r);var i=u(e,0,["[2]",0],"30");return null!=i&&(t.ext=n.getExtParamArray(i)),t},this.getRequestList=function(e){for(var t=[],n=h(e,0),r=0;r<n.length;r++)e=o(e,n[r]),t.push(this.getRequest(e));return t},this.getRequest=function(t){var r=h(t,0);if(1!=r.length&&2!=r.length)throw new e("wrong number elements: "+r.length);var i=this.getCertID(o(t,r[0]));if(2==r.length){var s=a(t,0,[1,0]);i.ext=n.getExtParamArray(o(t,s))}return i},this.getCertID=function(n){var r=h(n,0);if(4!=r.length)throw new e("wrong number elements: "+r.length);var a=new t,s={};return s.alg=a.getAlgorithmIdentifierName(o(n,r[0])),s.issname=i(n,r[1]),s.isskey=i(n,r[2]),s.sbjsn=i(n,r[3]),s},this.getOCSPResponse=function(e){var t,n=h(e,0),r=i(e,n[0]),o=parseInt(r);if(1==n.length)return{resstatus:o};var a=l(e,0,[1,0]);return(t=this.getResponseBytes(a)).resstatus=o,t},this.getResponseBytes=function(e){var t,n=h(e,0),r=l(e,0,[1,0]);t=this.getBasicOCSPResponse(r);var o=i(e,n[0]);return t.restype=ue.asn1.x509.OID.oid2name(ze(o)),t},this.getBasicOCSPResponse=function(e){var t,n=h(e,0);t=this.getResponseData(o(e,n[0]));var r=new Je;t.alg=r.getAlgorithmIdentifierName(o(e,n[1]));var a=i(e,n[2]);t.sighex=a.substr(2);var s=c(e,0,["[0]"]);if(null!=s){for(var l=h(s,0),u=[],p=0;p<l.length;p++){var d=o(s,l[p]);u.push(d)}t.certs=u}return t},this.getResponseData=function(e){var t=h(e,0),n=t.length,r={},a=0;"a0"==e.substr(t[0],2)&&a++,r.respid=this.getResponderID(o(e,t[a++]));var s=i(e,t[a++]);if(r.prodat=we(s),r.array=this.getSingleResponseList(o(e,t[a++])),"a1"==e.substr(t[n-1],2)){var c=l(e,t[n-1],[0]),u=new Je;r.ext=u.getExtParamArray(c)}return r},this.getResponderID=function(e){var t={};if("a2"==e.substr(0,2)){var n=s(e,0,[0]);t.key=n}if("a1"==e.substr(0,2)){var r=l(e,0,[0]),i=new Je;t.name=i.getX500Name(r)}return t},this.getSingleResponseList=function(e){for(var t=h(e,0),n=[],r=0;r<t.length;r++){var i=this.getSingleResponse(o(e,t[r]));n.push(i)}return n},this.getSingleResponse=function(e){var t=h(e,0),n={},r=this.getCertID(o(e,t[0]));n.certid=r;var a=this.getCertStatus(o(e,t[1]));if(n.status=a,"18"==e.substr(t[2],2)){var c=i(e,t[2]);n.thisupdate=we(c)}for(var u=3;u<t.length;u++){if("a0"==e.substr(t[u],2)){var p=s(e,t[u],[0],"18");n.nextupdate=we(p)}if("a1"==e.substr(t[u],2)){var d=new Je,f=l(e,0,[u,0]);n.ext=d.getExtParamArray(f)}}return n},this.getCertStatus=function(e){var t={};if("8000"==e)return{status:"good"};if("8200"==e)return{status:"unknown"};if("a1"==e.substr(0,2)){t.status="revoked";var n=we(s(e,0,[0]));t.time=n}return t}},void 0!==ue&&ue||(ue={}),void 0!==ue.lang&&ue.lang||(ue.lang={}),ue.lang.String=function(){},"function"==typeof Buffer?(he=function(e){return ge(Buffer.from(e,"utf8").toString("base64"))},pe=function(e){return Buffer.from(ye(e),"base64").toString("utf8")}):(he=function(e){return ve(Pe(je(e)))},pe=function(e){return decodeURIComponent(Re(be(e)))}),ue.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ue.lang.String.isHex=function(e){return He(e)},ue.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ue.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ye(e),ue.lang.String.isBase64(e))},ue.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ue.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ue.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},ue.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Ue=function(e,t,n){return null==n&&(n="0"),e.length>=t?e:new Array(t-e.length+1).join(n)+e};function Ve(e,t){for(var n=0,r=0;r<e.length;r++)n|=1<<t[e[r]];var i=n.toString(2),o="";for(r=i.length-1;r>=0;r--)o+=i[r];return o}function Ke(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}void 0!==ue&&ue||(ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:m.algo.MD5,sha1:m.algo.SHA1,sha224:m.algo.SHA224,sha256:m.algo.SHA256,sha384:m.algo.SHA384,sha512:m.algo.SHA512,ripemd160:m.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var o="00"+r,a="",s=i-4-o.length,l=0;l<s;l+=2)a+="ff";return"0001"+a+o},this.hashString=function(e,t){return new ue.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ue.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ie||e instanceof ue.crypto.DSA||e instanceof ue.crypto.ECDSA}},ue.crypto.Util.md5=function(e){return new ue.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ue.crypto.Util.ripemd160=function(e){return new ue.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ue.crypto.Util.SECURERANDOMGEN=new te,ue.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ue.crypto.Util.SECURERANDOMGEN.nextBytes(t),fe(t)},ue.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new w(ue.crypto.Util.getRandomHexOfNbytes(e),16)},ue.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return ue.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],fe(n)},ue.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new w(ue.crypto.Util.getRandomHexOfNbits(e),16)},ue.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=ue.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},ue.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return ue.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},ue.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ue.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ue.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ue.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=m.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(m.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ue.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ue.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ue.crypto.MessageDigest.getHashLength=function(e){var t=ue.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},ue.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ue.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ue.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{var r=ue.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=m.algo.HMAC.create(r,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=m.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(m.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=Se(e)),void(this.pass=m.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=ke(e.utf8)),void 0!==e.rstr&&(t=Se(e.rstr)),void 0!==e.b64&&(t=k(e.b64)),void 0!==e.b64u&&(t=be(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=m.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ue.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ue.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ue.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var n=null;try{n=void 0===t?Ye.getKey(e):Ye.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ue.crypto.ECDSA&&(this.prvKey=new ue.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ie&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ue.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ue.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ue.crypto.ECDSA&&(this.pubKey=new ue.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ie&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ue.crypto.ECDSA&&this.pubKey instanceof ue.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ue.crypto.DSA&&this.pubKey instanceof ue.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=ue.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=Ye.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},ue.crypto.Cipher=function(e){},ue.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof ie&&t.isPublic){var r=ue.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},ue.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof ie&&t.isPrivate){var r=ue.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},ue.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ie){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ue.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ue&&ue||(ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.ECDSA=function(e){var t=Error,n=w,r=se,i=ue.crypto.ECDSA,o=ue.crypto.ECParameterDB,a=i.getName,s=de,l=s.getVbyListEx,c=s.isASN1HEX,u=new te;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new n(e.bitLength(),u).mod(e.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(e){this.ecparams=o.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keycharlen;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":"secp521r1"===e||"NIST P-521"===e||"P-521"===e?"P-521":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),n=this.ecparams.keycharlen,r=("0000000000"+t.toString(16)).slice(-n);return this.setPrivateKeyHex(r),{ecprvhex:r,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var e=new n(this.prvKeyHex,16),t=this.ecparams.G.multiply(e),r=t.getX().toBigInteger(),i=t.getY().toBigInteger(),o=this.ecparams.keycharlen,a="04"+("0000000000"+r.toString(16)).slice(-o)+("0000000000"+i.toString(16)).slice(-o);return this.setPublicKeyHex(a),a},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new n(t,16),o=this.ecparams.n,a=new n(e.substring(0,this.ecparams.keycharlen),16);do{var s=this.getBigRandom(o),l=this.ecparams.G.multiply(s).getX().toBigInteger().mod(o)}while(l.compareTo(n.ZERO)<=0);var c=s.modInverse(o).multiply(a.add(r.multiply(l))).mod(o);return i.biRSSigToASN1Sig(l,c)},this.sign=function(e,t){var r=t,i=this.ecparams.n,o=n.fromByteArrayUnsigned(e);do{var a=this.getBigRandom(i),s=this.ecparams.G.multiply(a).getX().toBigInteger().mod(i)}while(s.compareTo(w.ZERO)<=0);var l=a.modInverse(i).multiply(o.add(r.multiply(s))).mod(i);return this.serializeSig(s,l)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,o){try{var a,s,l=i.parseSigHex(t);a=l.r,s=l.s;var c=r.decodeFromHex(this.ecparams.curve,o),u=new n(e.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(u,a,s,c)}catch(e){return!1}},this.verify=function(e,t,i){var o,a,s;if(Bitcoin.Util.isArray(t)){var l=this.parseSig(t);o=l.r,a=l.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";o=t.r,a=t.s}if(i instanceof se)s=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=r.decodeFrom(this.ecparams.curve,i)}var c=n.fromByteArrayUnsigned(e);return this.verifyRaw(c,o,a,s)},this.verifyRaw=function(e,t,r,i){var o=this.ecparams.n,a=this.ecparams.G;if(t.compareTo(n.ONE)<0||t.compareTo(o)>=0)return!1;if(r.compareTo(n.ONE)<0||r.compareTo(o)>=0)return!1;var s=r.modInverse(o),l=e.multiply(s).mod(o),c=t.multiply(s).mod(o);return a.multiply(l).add(i.multiply(c)).getX().toBigInteger().mod(o).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:n.fromByteArrayUnsigned(r),s:n.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:n.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:n.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===c(e))throw new Error("not ASN.1 hex string");var t,n,r;try{t=l(e,0,["[0]",0],"06"),n=l(e,0,[1],"04");try{r=l(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=a(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===c(e))throw new t("not ASN.1 hex string");var n,r,i;try{l(e,0,[1,0],"06"),n=l(e,0,[1,1],"06"),r=l(e,0,[2,0,1],"04");try{i=l(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=a(n),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===c(e))throw new t("not ASN.1 hex string");var n,r;try{l(e,0,[0,0],"06"),n=l(e,0,[0,1],"06"),r=l(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=a(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(e,n){if(!1===c(e))throw new t("not ASN.1 hex string");var r,i;try{r=l(e,0,[0,5,0,1],"06"),i=l(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=a(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ue.crypto.ECDSA.parseSigHex=function(e){var t=ue.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new w(t.r,16),s:new w(t.s,16)}},ue.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=de,n=t.getChildIdx,r=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=n(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var o=i[0],a=i[1];if("02"!=e.substr(o,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(a,2))throw new Error("2nd item not ASN.1 integer");return{r:r(e,o),s:r(e,a)}},ue.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ue.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if(n.length>=130&&n.length<=134){if(n.length%2!=0)throw Error("unknown ECDSA sig r length error");if(r.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==n.substr(0,2)&&(n=n.substr(2)),"00"==r.substr(0,2)&&(r=r.substr(2));var i=Math.max(n.length,r.length);return(n=("000000"+n).slice(-i))+("000000"+r).slice(-i)}if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw Error("unknown ECDSA sig r length error");if(r.length%32!=0)throw Error("unknown ECDSA sig s length error");return n+r},ue.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return ue.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},ue.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new w(e,16),r=new w(t,16);return ue.crypto.ECDSA.biRSSigToASN1Sig(n,r)},ue.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=ue.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).tohex()},ue.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":"2b81040023"===e?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(e)?"secp521r1":null},void 0!==ue&&ue||(ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new w(e,16)}this.getByName=function(n){var r=n;if(void 0!==t[r]&&(r=t[n]),void 0!==e[r])return e[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,o,a,s,l,c,u,h,p,d,f){e[r]={};var m=n(o),g=n(a),y=n(s),v=n(l),b=n(c),k=new le(m,g,y),w=k.decodePointHex("04"+u+h);e[r].name=r,e[r].keylen=i,e[r].keycharlen=2*Math.ceil(i/8),e[r].curve=k,e[r].G=w,e[r].n=v,e[r].h=b,e[r].oid=d,e[r].info=f;for(var x=0;x<p.length;x++)t[p[x]]=r}},ue.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ue.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ue.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ue.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ue.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ue.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ue.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ue.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ue.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ue.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==ue&&ue||(ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.DSA=function(){var e=de,t=(e.getVbyList,e.getVbyListEx),n=e.isASN1HEX,r=w;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(e,t,n,r,i){this.isPrivate=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=i},this.setPrivateHex=function(e,t,n,r,i){var o,a,s,l,c;o=new w(e,16),a=new w(t,16),s=new w(n,16),l="string"==typeof r&&r.length>1?new w(r,16):null,c=new w(i,16),this.setPrivate(o,a,s,l,c)},this.setPublic=function(e,t,n,r){this.isPublic=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=null},this.setPublicHex=function(e,t,n,r){var i,o,a,s;i=new w(e,16),o=new w(t,16),a=new w(n,16),s=new w(r,16),this.setPublic(i,o,a,s)},this.signWithMessageHash=function(e){var t=this.p,n=this.q,r=this.g,i=(this.y,this.x),o=ue.crypto.Util.getRandomBigIntegerMinToMax(w.ONE.add(w.ONE),n.subtract(w.ONE)),a=new w(e.substr(0,n.bitLength()/4),16),s=r.modPow(o,t).mod(n),l=o.modInverse(n).multiply(a.add(i.multiply(s))).mod(n);return ue.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:s}},{int:{bigint:l}}]})},this.verifyWithMessageHash=function(e,t){var n=this.p,r=this.q,i=this.g,o=this.y,a=this.parseASN1Signature(t),s=a[0],l=a[1],c=new w(e.substr(0,r.bitLength()/4),16);if(w.ZERO.compareTo(s)>0||s.compareTo(r)>0)throw"invalid DSA signature";if(w.ZERO.compareTo(l)>=0||l.compareTo(r)>0)throw"invalid DSA signature";var u=l.modInverse(r),h=c.multiply(u).mod(r),p=s.multiply(u).mod(r);return 0==i.modPow(h,n).multiply(o.modPow(p,n)).mod(n).mod(r).compareTo(s)},this.parseASN1Signature=function(e){try{return[new r(t(e,0,[0],"02"),16),new r(t(e,0,[1],"02"),16)]}catch(e){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(e){var r,i,o,a,s;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[1],"02"),i=t(e,0,[2],"02"),o=t(e,0,[3],"02"),a=t(e,0,[4],"02"),s=t(e,0,[5],"02")}catch(e){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(r,i,o,a,s)},this.readPKCS8PrvKeyHex=function(e){var r,i,o,a;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[1,1,0],"02"),i=t(e,0,[1,1,1],"02"),o=t(e,0,[1,1,2],"02"),a=t(e,0,[2,0],"02")}catch(e){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(r,i,o,null,a)},this.readPKCS8PubKeyHex=function(e){var r,i,o,a;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[0,1,0],"02"),i=t(e,0,[0,1,1],"02"),o=t(e,0,[0,1,2],"02"),a=t(e,0,[1,0],"02")}catch(e){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(r,i,o,a)},this.readCertPubKeyHex=function(e,r){var i,o,a,s;if(!1===n(e))throw new Error("not ASN.1 hex string");try{i=t(e,0,[0,5,0,1,0],"02"),o=t(e,0,[0,5,0,1,1],"02"),a=t(e,0,[0,5,0,1,2],"02"),s=t(e,0,[0,5,1,0],"02")}catch(e){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(i,o,a,s)}};var Ye=function(){var e=function(e,n,r){return t(m.AES,e,n,r)},t=function(e,t,n,r){var i=m.enc.Hex.parse(t),o=m.enc.Hex.parse(n),a=m.enc.Hex.parse(r),s={};s.key=o,s.iv=a,s.ciphertext=i;var l=e.decrypt(s,o,{iv:a});return m.enc.Hex.stringify(l)},n=function(e,t,n){return r(m.AES,e,t,n)},r=function(e,t,n,r){var i=m.enc.Hex.parse(t),o=m.enc.Hex.parse(n),a=m.enc.Hex.parse(r),s=e.encrypt(i,o,{iv:a}),l=m.enc.Hex.parse(s.toString());return m.enc.Base64.stringify(l)},i={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,r){return t(m.TripleDES,e,n,r)},eproc:function(e,t,n){return r(m.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,r){return t(m.DES,e,n,r)},eproc:function(e,t,n){return r(m.DES,e,t,n)},keylen:8,ivlen:8}},o=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,o=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),o=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),o=1);var a=e.indexOf("-----END");if(-1!=i&&-1!=a){var s=e.substring(i+2*o,a-o);s=s.replace(/\s+/g,""),t.data=s}return t},a=function(e,t,n){for(var r=n.substring(0,16),o=m.enc.Hex.parse(r),a=m.enc.Utf8.parse(t),s=i[e].keylen+i[e].ivlen,l="",c=null;;){var u=m.algo.MD5.create();if(null!=c&&u.update(c),u.update(a),u.update(o),c=u.finalize(),(l+=m.enc.Hex.stringify(c)).length>=2*s)break}var h={};return h.keyhex=l.substr(0,2*i[e].keylen),h.ivhex=l.substr(2*i[e].keylen,2*i[e].ivlen),h},s=function(e,t,n,r){var o=m.enc.Base64.parse(e),a=m.enc.Hex.stringify(o);return(0,i[t].proc)(a,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return o(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return a(e,t,n)},decryptKeyB64:function(e,t,n,r){return s(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=o(e),r=(n.type,n.cipher),i=n.ivsalt,l=n.data,c=a(r,t,i).keyhex;return s(l,r,c,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,o){var s="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw new Error("KEYUTIL unsupported algorithm: "+r);if(void 0===o||null==o){var l=function(e){var t=m.lib.WordArray.random(e);return m.enc.Hex.stringify(t)}(i[r].ivlen);o=l.toUpperCase()}var c=function(e,t,n,r){return(0,i[t].eproc)(e,n,r)}(t,r,a(r,n,o).keyhex,o);return s="-----BEGIN "+e+" PRIVATE KEY-----\r\n",s+="Proc-Type: 4,ENCRYPTED\r\n",s+="DEK-Info: "+r+","+o+"\r\n",s+="\r\n",(s+=c.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={},o=n(e,0);if(2!=o.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+o.length);i.ciphertext=r(e,o[1]);var a=n(e,o[0]);if(2!=a.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+a.length);if("2a864886f70d01050d"!=r(e,a[0]))throw new Error("this only supports pkcs5PBES2");var s=n(e,a[1]);if(2!=a.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+s.length);var l=n(e,s[1]);if(2!=l.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+l.length);if("2a864886f70d0307"!=r(e,l[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(e,l[1]);var c=n(e,s[0]);if(2!=c.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+c.length);if("2a864886f70d01050c"!=r(e,c[0]))throw new Error("this only supports pkcs5PBKDF2");var u=n(e,c[1]);if(u.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+u.length);i.pbkdf2Salt=r(e,u[0]);var h=r(e,u[1]);try{i.pbkdf2Iter=parseInt(h,16)}catch(e){throw new Error("malformed format pbkdf2Iter: "+h)}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=m.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,i=m.PBKDF2(t,n,{keySize:6,iterations:r});return m.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=De(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=Ye.getPBKDF2KeyHexFromParam(r,t),o={};o.ciphertext=m.enc.Hex.parse(r.ciphertext);var a=m.enc.Hex.parse(i),s=m.enc.Hex.parse(r.encryptionSchemeIV),l=m.TripleDES.decrypt(o,a,{iv:s});return m.enc.Hex.stringify(l)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var o=n(e,0);if(o.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=e.substr(o[1],2))throw new Error("malformed PKCS8 private key(code:003)");var a=n(e,o[1]);if(2!=a.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=e.substr(a[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(i.algoid=r(e,a[0]),"06"==e.substr(a[1],2)&&(i.algparam=r(e,a[1])),"04"!=e.substr(o[2],2))throw new Error("malformed PKCS8 private key(code:006)");return i.keyidx=t.getVidx(e,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=De(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new ie;else if("2a8648ce380401"==n.algoid)t=new ue.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw new Error("unsupported private key algorithm");t=new ue.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=de.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new ie;else if("2a8648ce380401"===n)t=new ue.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw new Error("unsupported PKCS#8 public key hex");t=new ue.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw new Error("malformed RSA key(code:001)");var o=n(e,0);if(2!=o.length)throw new Error("malformed RSA key(code:002)");if("02"!=e.substr(o[0],2))throw new Error("malformed RSA key(code:003)");if(i.n=r(e,o[0]),"02"!=e.substr(o[1],2))throw new Error("malformed RSA key(code:004)");return i.e=r(e,o[1]),i},parsePublicPKCS8Hex:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={algparam:null},o=n(e,0);if(2!=o.length)throw new Error("outer DERSequence shall have 2 elements: "+o.length);var a=o[0];if("30"!=e.substr(a,2))throw new Error("malformed PKCS8 public key(code:001)");var s=n(e,a);if(2!=s.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=e.substr(s[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)?i.algparam=r(e,s[1]):"30"==e.substr(s[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,s[1],[0],"02"),i.algparam.q=t.getVbyList(e,s[1],[1],"02"),i.algparam.g=t.getVbyList(e,s[1],[2],"02")),"03"!=e.substr(o[1],2))throw new Error("malformed PKCS8 public key(code:004)");return i.key=r(e,o[1]).substr(2),i}}}();function $e(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function We(e,t,n){for(var r="",i=0;r.length<t;)r+=_e(n(Se(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function Ge(e){for(var t in ue.crypto.Util.DIGESTINFOHEAD){var n=ue.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n)return[t,e.substring(r)]}return[]}function Je(e){var t,n=de,r=n.getChildIdx,i=n.getV,o=(n.dump,n.parse),a=n.getTLV,s=n.getVbyList,l=n.getVbyListEx,c=n.getTLVbyList,u=n.getTLVbyListEx,h=n.getIdxbyList,p=n.getIdxbyListEx,d=n.getVidx,f=n.getInt,m=n.oidname,g=n.hextooidstr,y=De,v=Error;try{t=ue.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var e=c(this.hex,0,[0,0]);if("a0"==e.substr(0,2)){var t=c(e,0,[0]),n=f(t,0);if(n<0||2<n)throw new Error("malformed version field");return this.version=n+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return l(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=u(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var n in t)if(e===t[n])return n;return m(l(e,0,[0],"06"))},this.getIssuer=function(e,t){return this.getX500Name(this.getIssuerHex(),e,t)},this.getIssuerHex=function(){return c(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(e,t){return this.getX500Name(this.getSubjectHex(),e,t)},this.getSubjectHex=function(){return c(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var e=s(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=s(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return c(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var e=this.getSPKI();return null==e?null:s(e,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return h(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return h(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return Ye.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=c(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return s(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=c(this.hex,0,[0],"30"),i=new ue.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(e){var t,o,a;if(void 0===e){if(a=this.hex,3!==this.version)return-1;t=h(a,0,[0,7,0],"30"),o=r(a,t)}else{a=De(e);var l=h(a,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(a,l))return void(this.aExtInfo=new Array);t=h(a,0,[0,3,0,1,0],"30"),o=r(a,t),this.hex=a}this.aExtInfo=new Array;for(var c=0;c<o.length;c++){var u={critical:!1},p=0;3===r(a,o[c]).length&&(u.critical=!0,p=1),u.oid=n.hextooidstr(s(a,o[c],[0],"06"));var f=h(a,o[c],[1+p]);u.vidx=d(a,f),this.aExtInfo.push(u)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=ue.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getCriticalExtV=function(e,t,n){if(null!=t)return[t,n];var r=this.getExtInfo(e);return null==r?[null,null]:[a(this.hex,r.vidx),r.critical]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("basicConstraints");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var r={extname:"basicConstraints"};if(t&&(r.critical=!0),"3000"===e)return r;if("30030101ff"===e)return r.cA=!0,r;if("30060101ff02"===e.substr(0,12)){var o=i(e,10),s=parseInt(o,16);return r.cA=!0,r.pathLen=s,r}throw new Error("hExtV parse error: "+e)},this.getExtNameConstraints=function(e,t){var n=this.getCriticalExtV("nameConstraints",e,t);if(e=n[0],t=n[1],null!=e){var i={extname:"nameConstraints"};t&&(i.critical=!0);for(var o=r(e,0),s=0;s<o.length;s++){for(var l=[],c=r(e,o[s]),u=0;u<c.length;u++){var h=a(e,c[u]),p=this.getGeneralSubtree(h);l.push(p)}var d=e.substr(o[s],2);"a0"==d?i.permit=l:"a1"==d&&(i.exclude=l)}return i}},this.getGeneralSubtree=function(e){var t=r(e,0),n=t.length;if(n<1||2<n)throw new Error("wrong num elements");for(var o=this.getGeneralName(a(e,t[0])),s=1;s<n;s++){var l=e.substr(t[s],2),c=i(e,t[s]),u=parseInt(c,16);"80"==l&&(o.min=u),"81"==l&&(o.max=u)}return o},this.getExtKeyUsage=function(e,t){var n=this.getCriticalExtV("keyUsage",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"keyUsage"};return t&&(r.critical=!0),r.names=this.getExtKeyUsageString(e).split(","),r}},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=a(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var n="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(n=n.slice(-8)),10==e.length&&(n=n.slice(-16)),""==(n=n.replace(/0+$/,""))&&(n="0"),n},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),n=new Array,r=0;r<t.length;r++)"1"==t.substr(r,1)&&n.push(Je.KEYUSAGE_NAME[r]);return n.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectKeyIdentifier");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var r={extname:"subjectKeyIdentifier"};t&&(r.critical=!0);var o=i(e,0);return r.kid={hex:o},r},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityKeyIdentifier");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var o={extname:"authorityKeyIdentifier"};t&&(o.critical=!0);for(var s=r(e,0),l=0;l<s.length;l++){var c=e.substr(s[l],2);if("80"===c&&(o.kid={hex:i(e,s[l])}),"a1"===c){var u=a(e,s[l]),h=this.getGeneralNames(u);o.issuer=h[0].dn}"82"===c&&(o.sn={hex:i(e,s[l])})}return o},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("extKeyUsage");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var o={extname:"extKeyUsage",array:[]};t&&(o.critical=!0);for(var s=r(e,0),l=0;l<s.length;l++)o.array.push(m(i(e,s[l])));return o},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,n=a(this.hex,e.vidx);if(""===n)return t;for(var o=r(n,0),s=0;s<o.length;s++)t.push(m(i(n,o[s])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectAltName");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var r={extname:"subjectAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("issuerAltName");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var r={extname:"issuerAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getGeneralNames=function(e){for(var t=r(e,0),n=[],i=0;i<t.length;i++){var o=this.getGeneralName(a(e,t[i]));void 0!==o&&n.push(o)}return n},this.getGeneralName=function(e){var t=e.substr(0,2),n=i(e,0),r=_e(n);return"81"==t?{rfc822:r}:"82"==t?{dns:r}:"86"==t?{uri:r}:"87"==t?{ip:Be(n)}:"a4"==t?{dn:this.getX500Name(n)}:"a0"==t?{other:this.getOtherName(e)}:void 0},this.getExtSubjectAltName2=function(){var e,t,n,o=this.getExtInfo("subjectAltName");if(void 0===o)return o;for(var s=new Array,l=a(this.hex,o.vidx),c=r(l,0),u=0;u<c.length;u++)n=l.substr(c[u],2),e=i(l,c[u]),"81"===n&&(t=we(e),s.push(["MAIL",t])),"82"===n&&(t=we(e),s.push(["DNS",t])),"84"===n&&(t=Je.hex2dn(e,0),s.push(["DN",t])),"86"===n&&(t=we(e),s.push(["URI",t])),"87"===n&&(t=Be(e),s.push(["IP",t]));return s},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("cRLDistributionPoints");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var o=r(e,0),s=0;s<o.length;s++){var l=a(e,o[s]);i.array.push(this.getDistributionPoint(l))}return i},this.getDistributionPoint=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var o=e.substr(n[i],2),s=a(e,n[i]);"a0"==o&&(t.dpname=this.getDistributionPointName(s))}return t},this.getDistributionPointName=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var o=e.substr(n[i],2),s=a(e,n[i]);"a0"==o&&(t.full=this.getGeneralNames(s))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtCRLDistributionPoints();if(null==e)return e;for(var t=e.array,n=[],r=0;r<t.length;r++)try{null!=t[r].dpname.full[0].uri&&n.push(t[r].dpname.full[0].uri)}catch(e){}return n},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},n=r(this.hex,e.vidx),i=0;i<n.length;i++){var o=s(this.hex,n[i],[0],"06"),a=s(this.hex,n[i],[1],"86");"2b06010505073001"===o&&t.ocsp.push(we(a)),"2b06010505073002"===o&&t.caissuer.push(we(a))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityInfoAccess");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var o=r(e,0),c=0;c<o.length;c++){var u=l(e,o[c],[0],"06"),h=we(s(e,o[c],[1],"86"));if("2b06010505073001"==u)i.array.push({ocsp:h});else{if("2b06010505073002"!=u)throw new Error("unknown method: "+u);i.array.push({caissuer:h})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("certificatePolicies");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var o=r(e,0),s=0;s<o.length;s++){var l=a(e,o[s]),c=this.getPolicyInformation(l);i.array.push(c)}return i},this.getPolicyInformation=function(e){var t={},n=s(e,0,[0],"06");t.policyoid=m(n);var i=p(e,0,[1],"30");if(-1!=i){t.array=[];for(var o=r(e,i),l=0;l<o.length;l++){var c=a(e,o[l]),u=this.getPolicyQualifierInfo(c);t.array.push(u)}}return t},this.getOtherName=function(e){var t={},n=r(e,0),i=s(e,n[0],[],"06"),a=s(e,n[1],[]);return t.oid=m(i),t.value=o(a),t},this.getPolicyQualifierInfo=function(e){var t={},n=s(e,0,[0],"06");if("2b06010505070201"===n){var r=l(e,0,[1],"16");t.cps=_e(r)}else if("2b06010505070202"===n){var i=c(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var o=a(e,n[i]);"30"!=o.substr(0,2)&&(t.exptext=this.getDisplayText(o))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=_e(i(e,0)),t},this.getExtPolicyMappings=function(e,t){var n=this.getCriticalExtV("policyMappings",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"policyMappings"};t&&(r.critical=!0);try{for(var i=o(e).seq,a=[],s=0;s<i.length;s++){var l=i[s].seq;a.push([l[0].oid,l[1].oid])}r.array=a}catch(e){throw new v("malformed policyMappings")}return r}},this.getExtPolicyConstraints=function(e,t){var n=this.getCriticalExtV("policyConstraints",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"policyConstraints"};t&&(r.critical=!0);var i=o(e);try{for(var a=i.seq,s=0;s<a.length;s++){var l=a[s].tag;0==l.explicit&&("80"==l.tag&&(r.reqexp=parseInt(l.hex,16)),"81"==l.tag&&(r.inhibit=parseInt(l.hex,16)))}}catch(e){return new v("malformed policyConstraints value")}return r}},this.getExtInhibitAnyPolicy=function(e,t){var n=this.getCriticalExtV("inhibitAnyPolicy",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"inhibitAnyPolicy"};t&&(r.critical=!0);var i=f(e,0);return-1==i?new v("wrong value"):(r.skip=i,r)}},this.getExtCRLNumber=function(e,t){var n={extname:"cRLNumber"};if(t&&(n.critical=!0),"02"==e.substr(0,2))return n.num={hex:i(e,0)},n;throw new v("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var n={extname:"cRLReason"};if(t&&(n.critical=!0),"0a"==e.substr(0,2))return n.code=parseInt(i(e,0),16),n;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var n={extname:"ocspNonce"};t&&(n.critical=!0);var r=i(e,0);return n.hex=r,n},this.getExtOcspNoCheck=function(e,t){var n={extname:"ocspNoCheck"};return t&&(n.critical=!0),n},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("adobeTimeStamp");if(void 0===n)return;e=a(this.hex,n.vidx),t=n.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var o=r(e,0);if(o.length>1){var s=a(e,o[1]),l=this.getGeneralName(s);null!=l.uri&&(i.uri=l.uri)}if(o.length>2){var c=a(e,o[2]);"0101ff"==c&&(i.reqauth=!0),"010100"==c&&(i.reqauth=!1)}return i};var b=function(e){var t={};try{var n=e.seq[0].oid,r=ue.asn1.x509.OID.name2oid(n);t.type=ue.asn1.x509.OID.oid2atype(r);var i=e.seq[1];if(null!=i.utf8str)t.ds="utf8",t.value=i.utf8str.str;else if(null!=i.numstr)t.ds="num",t.value=i.numstr.str;else if(null!=i.telstr)t.ds="tel",t.value=i.telstr.str;else if(null!=i.prnstr)t.ds="prn",t.value=i.prnstr.str;else if(null!=i.ia5str)t.ds="ia5",t.value=i.ia5str.str;else if(null!=i.visstr)t.ds="vis",t.value=i.visstr.str;else{if(null==i.bmpstr)throw"error";t.ds="bmp",t.value=i.bmpstr.str}return t}catch(e){throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},k=function(e){try{return e.set.map((function(e){return b(e)}))}catch(e){throw new Error("improper ASN.1 parsed RDN: "+e)}};this.getX500NameRule=function(e){for(var t=null,n=[],r=0;r<e.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(i[o]);for(r=0;r<n.length;r++){var a=n[r],s=a.ds,l=a.value,c=a.type;if("prn"!=s&&"utf8"!=s&&"ia5"!=s)return"mixed";if("ia5"==s){if("CN"!=c)return"mixed";if(ue.lang.String.isMail(l))continue;return"mixed"}if("C"==c){if("prn"==s)continue;return"mixed"}if(null==t)t=s;else if(t!==s)return"mixed"}return null==t?"prn":t},this.getAttrTypeAndValue=function(e){var t=o(e);return b(t)},this.getRDN=function(e){var t=o(e);return k(t)},this.getX500NameArray=function(e){return function(e){try{return e.seq.map((function(e){return k(e)}))}catch(e){throw new Error("improper ASN.1 parsed X500Name: "+e)}}(o(e))},this.getX500Name=function(e,t,n){var r=this.getX500NameArray(e),i={str:this.dnarraytostr(r)};return i.array=r,1==n&&(i.hex=e),1==t&&(i.canon=this.c14nRDNArray(r)),i},this.readCertPEM=function(e){this.readCertHex(y(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{h(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(e){var t={};return null==e&&(e={}),t.version=this.getVersion(),t.serial={hex:this.getSerialNumberHex()},t.sigalg=this.getSignatureAlgorithmField(),t.issuer=this.getIssuer(e.dncanon,e.dnhex),t.notbefore=this.getNotBefore(),t.notafter=this.getNotAfter(),t.subject=this.getSubject(e.dncanon,e.dnhex),t.sbjpubkey=Ae(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(t.ext=this.getExtParamArray()),t.sighex=this.getSignatureValueHex(),1==e.tbshex&&(t.tbshex=c(this.hex,0,[0])),1==e.nodnarray&&(delete t.issuer.array,delete t.subject.array),t},this.getExtParamArray=function(e){null==e&&-1!=p(this.hex,0,[0,"[3]"])&&(e=u(this.hex,0,[0,"[3]",0],"30"));for(var t=[],n=r(e,0),i=0;i<n.length;i++){var o=a(e,n[i]),s=this.getExtParam(o);null!=s&&t.push(s)}return t},this.getExtParam=function(e){var t=r(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var n=g(s(e,0,[0],"06")),i=!1;3==t&&"0101ff"==c(e,0,[1])&&(i=!0);var o=c(e,0,[t-1,0]),a=void 0;if("2.5.29.14"==n?a=this.getExtSubjectKeyIdentifier(o,i):"2.5.29.15"==n?a=this.getExtKeyUsage(o,i):"2.5.29.17"==n?a=this.getExtSubjectAltName(o,i):"2.5.29.18"==n?a=this.getExtIssuerAltName(o,i):"2.5.29.19"==n?a=this.getExtBasicConstraints(o,i):"2.5.29.30"==n?a=this.getExtNameConstraints(o,i):"2.5.29.31"==n?a=this.getExtCRLDistributionPoints(o,i):"2.5.29.32"==n?a=this.getExtCertificatePolicies(o,i):"2.5.29.33"==n?a=this.getExtPolicyMappings(o,i):"2.5.29.35"==n?a=this.getExtAuthorityKeyIdentifier(o,i):"2.5.29.36"==n?a=this.getExtPolicyConstraints(o,i):"2.5.29.37"==n?a=this.getExtExtKeyUsage(o,i):"2.5.29.54"==n?a=this.getExtInhibitAnyPolicy(o,i):"1.3.6.1.5.5.7.1.1"==n?a=this.getExtAuthorityInfoAccess(o,i):"2.5.29.20"==n?a=this.getExtCRLNumber(o,i):"2.5.29.21"==n?a=this.getExtCRLReason(o,i):"1.3.6.1.5.5.7.48.1.2"==n?a=this.getExtOcspNonce(o,i):"1.3.6.1.5.5.7.48.1.5"==n?a=this.getExtOcspNoCheck(o,i):"1.2.840.113583.1.1.9.1"==n&&(a=this.getExtAdobeTimeStamp(o,i)),null!=a)return a;var l={extname:n,extn:o};return i&&(l.critical=!0),l},this.findExt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].extname==t)return e[n];return null},this.updateExtCDPFullURI=function(e,t){var n=this.findExt(e,"cRLDistributionPoints");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)if(null!=r[i].dpname&&null!=r[i].dpname.full)for(var o=r[i].dpname.full,a=0;a<o.length;a++){var s=o[i];null!=s.uri&&(s.uri=t)}},this.updateExtAIAOCSP=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].ocsp&&(r[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].caissuer&&(r[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e).replace(/\+/,"\\+")})).join("+")}(e).replace(/\//,"\\/")})).join("/")},this.setCanonicalizedDN=function(e){var t;if(null!=e.str&&null==e.array){var n=new ue.asn1.x509.X500Name({str:e.str}).tohex();t=this.getX500NameArray(n)}else t=e.array;null==e.canon&&(e.canon=this.c14nRDNArray(t))},this.c14nRDNArray=function(e){for(var t=[],n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<r.length;o++){var a=r[o],s=a.value;s=(s=(s=(s=s.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),i.push(a.type.toLowerCase()+"="+s)}t.push(i.join("+"))}return"/"+t.join("/")},this.getInfo=function(){var e,t,n,r=function(e){for(var t="",n="    ",r="\n",i=e.array,o=0;o<i.length;o++){var a=i[o];null!=a.dn&&(t+=n+"dn: "+a.dn.str+r),null!=a.ip&&(t+=n+"ip: "+a.ip+r),null!=a.rfc822&&(t+=n+"rfc822: "+a.rfc822+r),null!=a.dns&&(t+=n+"dns: "+a.dns+r),null!=a.uri&&(t+=n+"uri: "+a.uri+r),null!=a.other&&(t+=n+"other: "+a.other.oid+"="+JSON.stringify(a.other.value).replace(/\"/g,"")+r)}return t.replace(/\n$/,"")},i=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var o=0;o<i.array.length;o++){var a=i.array[o];void 0!==a.cps&&(t+="    cps: "+a.cps+"\n")}}return t},o=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];try{void 0!==i.dpname.full[0].uri&&(t+="    "+i.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==i.dname.full[0].dn.hex&&(t+="    "+Je.hex2dn(i.dpname.full[0].dn.hex)+"\n")}catch(e){}}return t},a=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+qe(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+qe(t.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var s=0;s<n.length;s++){var l=n[s],c=ue.asn1.x509.OID.oid2name(l.oid);""===c&&(c=l.oid);var u="";if(!0===l.critical&&(u="CRITICAL"),e+="  "+c+" "+u+":\n","basicConstraints"===c){var h=this.getExtBasicConstraints();void 0===h.cA?e+="    {}\n":(e+="    cA=true",void 0!==h.pathLen&&(e+=", pathLen="+h.pathLen),e+="\n")}else{var p;if("policyMappings"==c)e+="    "+this.getExtPolicyMappings().array.map((function(e){var t=e;return t[0]+":"+t[1]})).join(", ")+"\n";else if("policyConstraints"==c)e+="    ",null!=(p=this.getExtPolicyConstraints()).reqexp&&(e+=" reqexp="+p.reqexp),null!=p.inhibit&&(e+=" inhibit="+p.inhibit),e+="\n";else if("inhibitAnyPolicy"==c)e+="    skip="+(p=this.getExtInhibitAnyPolicy()).skip+"\n";else if("keyUsage"==c)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==c)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==c){var d=this.getExtAuthorityKeyIdentifier();void 0!==d.kid&&(e+="    kid="+d.kid.hex+"\n")}else"extKeyUsage"==c?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"==c?e+=r(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"==c?e+=o(this.getExtCRLDistributionPoints()):"authorityInfoAccess"==c?e+=a(this.getExtAuthorityInfoAccess()):"certificatePolicies"==c&&(e+=i(this.getExtCertificatePolicies()))}}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):ue.lang.String.isHex(e)&&this.readCertHex(e))}Ye.getKey=function(e,t,n){var r,i=(y=de).getChildIdx,o=(y.getV,y.getVbyList),a=ue.crypto,s=a.ECDSA,l=a.DSA,c=ie,u=De,h=Ye;if(void 0!==c&&e instanceof c)return e;if(void 0!==s&&e instanceof s)return e;if(void 0!==l&&e instanceof l)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new s({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new s({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(P=new c).setPublic(e.n,e.e),P;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(P=new c).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),P;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(P=new c).setPrivate(e.n,e.e,e.d),P;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(P=new l).setPublic(e.p,e.q,e.g,e.y),P;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(P=new l).setPrivate(e.p,e.q,e.g,e.y,e.x),P;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(P=new c).setPublic(be(e.n),be(e.e)),P;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(P=new c).setPrivateEx(be(e.n),be(e.e),be(e.d),be(e.p),be(e.q),be(e.dp),be(e.dq),be(e.qi)),P;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(P=new c).setPrivate(be(e.n),be(e.e),be(e.d)),P;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var p=(C=new s({curve:e.crv})).ecparams.keycharlen,d="04"+("0000000000"+be(e.x)).slice(-p)+("0000000000"+be(e.y)).slice(-p);return C.setPublicKeyHex(d),C}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){p=(C=new s({curve:e.crv})).ecparams.keycharlen,d="04"+("0000000000"+be(e.x)).slice(-p)+("0000000000"+be(e.y)).slice(-p);var f=("0000000000"+be(e.d)).slice(-p);return C.setPublicKeyHex(d),C.setPrivateKeyHex(f),C}if("pkcs5prv"===n){var m,g=e,y=de;if(9===(m=i(g,0)).length)(P=new c).readPKCS5PrvKeyHex(g);else if(6===m.length)(P=new l).readPKCS5PrvKeyHex(g);else{if(!(m.length>2&&"04"===g.substr(m[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(P=new s).readPKCS5PrvKeyHex(g)}return P}if("pkcs8prv"===n)return h.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return h._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return Je.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return Je.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var v=De(e,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(v)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=u(e,"RSA PRIVATE KEY");return h.getKey(b,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var k=o(r=u(e,"DSA PRIVATE KEY"),0,[1],"02"),x=o(r,0,[2],"02"),_=o(r,0,[3],"02"),S=o(r,0,[4],"02"),E=o(r,0,[5],"02");return(P=new l).setPrivate(new w(k,16),new w(x,16),new w(_,16),new w(S,16),new w(E,16)),P}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return b=u(e,"EC PRIVATE KEY"),h.getKey(b,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var A=h.getDecryptedKeyHex(e,t),D=new ie;return D.readPKCS5PrvKeyHex(A),D}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var C,P=o(r=h.getDecryptedKeyHex(e,t),0,[1],"04"),R=o(r,0,[2,0],"06"),O=o(r,0,[3,0],"03").substr(2);if(void 0===ue.crypto.OID.oidhex2name[R])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+R);return(C=new s({curve:ue.crypto.OID.oidhex2name[R]})).setPublicKeyHex(O),C.setPrivateKeyHex(P),C.isPublic=!1,C}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return k=o(r=h.getDecryptedKeyHex(e,t),0,[1],"02"),x=o(r,0,[2],"02"),_=o(r,0,[3],"02"),S=o(r,0,[4],"02"),E=o(r,0,[5],"02"),(P=new l).setPrivate(new w(k,16),new w(x,16),new w(_,16),new w(S,16),new w(E,16)),P;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},Ye.generateKeypair=function(e,t){if("RSA"==e){var n=t;(a=new ie).generate(n,"10001"),a.isPrivate=!0,a.isPublic=!0;var r=new ie,i=a.n.toString(16),o=a.e.toString(16);return r.setPublic(i,o),r.isPrivate=!1,r.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=r,s}if("EC"==e){var a,s,l=t,c=new ue.crypto.ECDSA({curve:l}).generateKeyPairHex();return(a=new ue.crypto.ECDSA({curve:l})).setPublicKeyHex(c.ecpubhex),a.setPrivateKeyHex(c.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(r=new ue.crypto.ECDSA({curve:l})).setPublicKeyHex(c.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=r,s}throw new Error("unknown algorithm: "+e)},Ye.getPEM=function(e,t,n,r,i,o){var a=ue,s=a.asn1,l=s.DERObjectIdentifier,c=s.DERInteger,u=s.ASN1Util.newObject,h=s.x509.SubjectPublicKeyInfo,p=a.crypto,d=p.DSA,f=p.ECDSA,g=ie;function y(e){return u({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function v(e){return u({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function b(e){return u({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==g&&e instanceof g||void 0!==d&&e instanceof d||void 0!==f&&e instanceof f)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Ae(_=new h(e).tohex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==g&&e instanceof g&&(void 0===n||null==n)&&1==e.isPrivate)return Ae(_=y(e).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==f&&e instanceof f&&(void 0===n||null==n)&&1==e.isPrivate){var k=new l({name:e.curveName}).tohex(),w=v(e).tohex(),x="";return(x+=Ae(k,"EC PARAMETERS"))+Ae(w,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===n||null==n)&&1==e.isPrivate)return Ae(_=b(e).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==g&&e instanceof g&&void 0!==n&&null!=n&&1==e.isPrivate){var _=y(e).tohex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",_,n,r,o)}if("PKCS5PRV"==t&&void 0!==f&&e instanceof f&&void 0!==n&&null!=n&&1==e.isPrivate)return _=v(e).tohex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",_,n,r,o);if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==n&&null!=n&&1==e.isPrivate)return _=b(e).tohex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",_,n,r,o);var S=function(e,t){var n=E(e,t);return new u({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).tohex()},E=function(e,t){var n=m.lib.WordArray.random(8),r=m.lib.WordArray.random(8),i=m.PBKDF2(t,n,{keySize:6,iterations:100}),o=m.enc.Hex.parse(e),a=m.TripleDES.encrypt(o,i,{iv:r})+"",s={};return s.ciphertext=a,s.pbkdf2Salt=m.enc.Hex.stringify(n),s.pbkdf2Iter=100,s.encryptionSchemeAlg="DES-EDE3-CBC",s.encryptionSchemeIV=m.enc.Hex.stringify(r),s};if("PKCS8PRV"==t&&null!=g&&e instanceof g&&1==e.isPrivate){var A=y(e).tohex();return _=u({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:A}}]}).tohex(),void 0===n||null==n?Ae(_,"PRIVATE KEY"):Ae(w=S(_,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==f&&e instanceof f&&1==e.isPrivate){var D={seq:[{int:1},{octstr:{hex:e.prvKeyHex}}]};return"string"==typeof e.pubKeyHex&&D.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}),A=new u(D).tohex(),_=u({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:A}}]}).tohex(),void 0===n||null==n?Ae(_,"PRIVATE KEY"):Ae(w=S(_,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==d&&e instanceof d&&1==e.isPrivate)return A=new c({bigint:e.x}).tohex(),_=u({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:A}}]}).tohex(),void 0===n||null==n?Ae(_,"PRIVATE KEY"):Ae(w=S(_,n),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Ye.getKeyFromCSRPEM=function(e){var t=De(e,"CERTIFICATE REQUEST");return Ye.getKeyFromCSRHex(t)},Ye.getKeyFromCSRHex=function(e){var t=Ye.parseCSRHex(e);return Ye.getKey(t.p8pubkeyhex,null,"pkcs8pub")},Ye.parseCSRHex=function(e){var t=de,n=t.getChildIdx,r=t.getTLV,i={},o=e;if("30"!=o.substr(0,2))throw new Error("malformed CSR(code:001)");var a=n(o,0);if(a.length<1)throw new Error("malformed CSR(code:002)");if("30"!=o.substr(a[0],2))throw new Error("malformed CSR(code:003)");var s=n(o,a[0]);if(s.length<3)throw new Error("malformed CSR(code:004)");return i.p8pubkeyhex=r(o,s[2]),i},Ye.getKeyID=function(e){var t=Ye,n=de;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var r=De(t.getPEM(e)),i=n.getIdxbyList(r,0,[1]),o=n.getV(r,i).substring(2);return ue.crypto.Util.hashHex(o,"sha1")},Ye.getJWK=function(e,t,n,r,i){var o,a,s={},l=ue.crypto.Util.hashHex;if("string"==typeof e)o=Ye.getKey(e),-1!=e.indexOf("CERTIFICATE")&&(a=De(e));else{if("object"!=typeof e)throw new Error("unsupported keyinfo type");e instanceof Je?(o=e.getPublicKey(),a=e.hex):o=e}if(o instanceof ie&&o.isPrivate)s.kty="RSA",s.n=ve(o.n.toString(16)),s.e=ve(o.e.toString(16)),s.d=ve(o.d.toString(16)),s.p=ve(o.p.toString(16)),s.q=ve(o.q.toString(16)),s.dp=ve(o.dmp1.toString(16)),s.dq=ve(o.dmq1.toString(16)),s.qi=ve(o.coeff.toString(16));else if(o instanceof ie&&o.isPublic)s.kty="RSA",s.n=ve(o.n.toString(16)),s.e=ve(o.e.toString(16));else if(o instanceof ue.crypto.ECDSA&&o.isPrivate){if("P-256"!==(u=o.getShortNISTPCurveName())&&"P-384"!==u&&"P-521"!==u)throw new Error("unsupported curve name for JWT: "+u);var c=o.getPublicKeyXYHex();s.kty="EC",s.crv=u,s.x=ve(c.x),s.y=ve(c.y),s.d=ve(o.prvKeyHex)}else if(o instanceof ue.crypto.ECDSA&&o.isPublic){var u;if("P-256"!==(u=o.getShortNISTPCurveName())&&"P-384"!==u&&"P-521"!==u)throw new Error("unsupported curve name for JWT: "+u);c=o.getPublicKeyXYHex(),s.kty="EC",s.crv=u,s.x=ve(c.x),s.y=ve(c.y)}if(null==s.kty)throw new Error("unsupported keyinfo");return o.isPrivate||1==t||(s.kid=ue.jws.JWS.getJWKthumbprint(s)),null!=a&&1!=n&&(s.x5c=[b(a)]),null!=a&&1!=r&&(s.x5t=ge(b(l(a,"sha1")))),null!=a&&1!=i&&(s["x5t#S256"]=ge(b(l(a,"sha256")))),s},Ye.getJWKFromKey=function(e){return Ye.getJWK(e,!0,!0,!0,!0)},ie.getPosArrayOfChildrenFromHex=function(e){return de.getChildIdx(e,0)},ie.getHexValueArrayOfChildrenFromHex=function(e){var t,n=de.getV,r=n(e,(t=ie.getPosArrayOfChildrenFromHex(e))[0]),i=n(e,t[1]),o=n(e,t[2]),a=n(e,t[3]),s=n(e,t[4]),l=n(e,t[5]),c=n(e,t[6]),u=n(e,t[7]),h=n(e,t[8]);return(t=new Array).push(r,i,o,a,s,l,c,u,h),t},ie.prototype.readPrivateKeyFromPEMString=function(e){var t=De(e),n=ie.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},ie.prototype.readPKCS5PrvKeyHex=function(e){var t=ie.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ie.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,o,a,s,l,c=de,u=c.getVbyListEx;if(!1===c.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=u(e,0,[2,0,1],"02"),n=u(e,0,[2,0,2],"02"),r=u(e,0,[2,0,3],"02"),i=u(e,0,[2,0,4],"02"),o=u(e,0,[2,0,5],"02"),a=u(e,0,[2,0,6],"02"),s=u(e,0,[2,0,7],"02"),l=u(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,n,r,i,o,a,s,l)},ie.prototype.readPKCS5PubKeyHex=function(e){var t=de,n=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=n(e,r[0]),o=n(e,r[1]);this.setPublic(i,o)},ie.prototype.readPKCS8PubKeyHex=function(e){var t=de;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},ie.prototype.readCertPubKeyHex=function(e,t){var n,r;(n=new Je).readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)},ie.prototype.sign=function(e,t){var n=function(e){return ue.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},ie.prototype.signWithMessageHash=function(e,t){var n=ne(ue.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return $e(this.doPrivate(n).toString(16),this.n.bitLength())},ie.prototype.signPSS=function(e,t,n){var r,i=(r=Se(e),ue.crypto.Util.hashHex(r,t));return void 0===n&&(n=-1),this.signWithMessageHashPSS(i,t,n)},ie.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=_e(e),o=i.length,a=this.n.bitLength()-1,s=Math.ceil(a/8),l=function(e){return ue.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=o;else if(-2===n)n=s-o-2;else if(n<-2)throw new Error("invalid salt length");if(s<o+n+2)throw new Error("data too long");var c="";n>0&&(c=new Array(n),(new te).nextBytes(c),c=String.fromCharCode.apply(String,c));var u=_e(l(Se("\0\0\0\0\0\0\0\0"+i+c))),h=[];for(r=0;r<s-n-o-2;r+=1)h[r]=0;var p=String.fromCharCode.apply(String,h)+""+c,d=We(u,p.length,l),f=[];for(r=0;r<p.length;r+=1)f[r]=p.charCodeAt(r)^d.charCodeAt(r);var m=65280>>8*s-a&255;for(f[0]&=~m,r=0;r<o;r++)f.push(u.charCodeAt(r));return f.push(188),$e(this.doPrivate(new w(f)).toString(16),this.n.bitLength())},ie.prototype.verify=function(e,t){if(null==(t=t.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var n=ne(t,16),r=this.n.bitLength();if(n.bitLength()>r)return!1;var i=this.doPublic(n).toString(16);if(i.length+3!=r/4)return!1;var o=Ge(i.replace(/^1f+00/,""));if(0==o.length)return!1;var a=o[0],s=o[1],l=function(e){return ue.crypto.Util.hashString(e,a)}(e);return s==l},ie.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=ne(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=Ge(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&(r[0],r[1]==e)},ie.prototype.verifyPSS=function(e,t,n,r){var i,o=(i=Se(e),ue.crypto.Util.hashHex(i,n));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(o,t,n,r)},ie.prototype.verifyWithMessageHashPSS=function(e,t,n,r){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,o=new w(t,16),a=function(e){return ue.crypto.Util.hashHex(e,n)},s=_e(e),l=s.length,c=this.n.bitLength()-1,u=Math.ceil(c/8);if(-1===r||void 0===r)r=l;else if(-2===r)r=u-l-2;else if(r<-2)throw new Error("invalid salt length");if(u<l+r+2)throw new Error("data too long");var h=this.doPublic(o).toByteArray();for(i=0;i<h.length;i+=1)h[i]&=255;for(;h.length<u;)h.unshift(0);if(188!==h[u-1])throw new Error("encoded message does not end in 0xbc");var p=(h=String.fromCharCode.apply(String,h)).substr(0,u-l-1),d=h.substr(p.length,l),f=65280>>8*u-c&255;if(p.charCodeAt(0)&f)throw new Error("bits beyond keysize not zero");var m=We(d,p.length,a),g=[];for(i=0;i<p.length;i+=1)g[i]=p.charCodeAt(i)^m.charCodeAt(i);g[0]&=~f;var y=u-l-r-2;for(i=0;i<y;i+=1)if(0!==g[i])throw new Error("leftmost octets not zero");if(1!==g[y])throw new Error("0x01 marker not found");return d===_e(a(Se("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,g.slice(-r)))))},ie.SALT_LEN_HLEN=-1,ie.SALT_LEN_MAX=-2,ie.SALT_LEN_RECOVER=-2,Je.hex2dn=function(e,t){void 0===t&&(t=0);var n=new Je;return de.getTLV(e,t),n.getX500Name(e).str},Je.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var n=new Array,r=de.getChildIdx(e,t),i=0;i<r.length;i++)n.push(Je.hex2attrTypeValue(e,r[i]));return n=n.map((function(e){return e.replace("+","\\+")})),n.join("+")},Je.hex2attrTypeValue=function(e,t){var n=de,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var o=r(e,i[0]),a=ue.asn1.ASN1Util.oidHexToInt(o);return ue.asn1.x509.OID.oid2atype(a)+"="+_e(r(e,i[1]))},Je.getPublicKeyFromCertHex=function(e){var t=new Je;return t.readCertHex(e),t.getPublicKey()},Je.getPublicKeyFromCertPEM=function(e){var t=new Je;return t.readCertPEM(e),t.getPublicKey()},Je.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=de.getVbyList,i={algparam:null};return(t=new Je).readCertPEM(e),n=t.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},Je.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ue&&ue||(ue={}),void 0!==ue.jws&&ue.jws||(ue.jws={}),ue.jws.JWS=function(){var e=ue.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],o=r[2],a=r[3],s=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=a,this.parsedJWS.si=s,!n){var l=be(a),c=ne(l,16);this.parsedJWS.sigvalH=l,this.parsedJWS.sigvalBI=c}var u=pe(i),h=pe(o);if(this.parsedJWS.headS=u,this.parsedJWS.payloadS=h,!e(u,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+u}}},ue.jws.JWS.sign=function(e,t,n,r,i){var o,a,s,l=ue,c=l.jws.JWS,u=c.readSafeJSONString,h=c.isSafeJSONString,p=l.crypto,d=(p.ECDSA,p.Mac),f=p.Signature,m=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(a=t,o=m.stringify(a)),"string"==typeof t){if(!h(o=t))throw"JWS Head is not safe JSON string: "+o;a=u(o)}if(s=n,"object"==typeof n&&(s=m.stringify(n)),""!=e&&null!=e||void 0===a.alg||(e=a.alg),""!=e&&null!=e&&void 0===a.alg&&(a.alg=e,o=m.stringify(a)),e!==a.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+a.alg;var g=null;if(void 0===c.jwsalg2sigalg[e])throw"unsupported alg name: "+e;g=c.jwsalg2sigalg[e];var y=he(o)+"."+he(s),v="";if("Hmac"==g.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var b=new d({alg:g,prov:"cryptojs",pass:r});b.updateString(y),v=b.doFinal()}else if(-1!=g.indexOf("withECDSA")){(w=new f({alg:g})).init(r,i),w.updateString(y);var k=w.sign();v=ue.crypto.ECDSA.asn1SigToConcatSig(k)}else{var w;"none"!=g&&((w=new f({alg:g})).init(r,i),w.updateString(y),v=w.sign())}return y+"."+ve(v)},ue.jws.JWS.verify=function(e,t,n){var r,i=ue,o=i.jws.JWS,a=o.readSafeJSONString,s=i.crypto,l=s.ECDSA,c=s.Mac,u=s.Signature;if(r=ie,!Le(e))return!1;var h=e.split(".");if(3!==h.length)return!1;var p,d=h[0]+"."+h[1],f=be(h[2]),m=a(pe(h[0])),g=null;if(void 0===m.alg)throw"algorithm not specified in header";if(p=(g=m.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&-1==(":"+n.join(":")+":").indexOf(":"+g+":"))throw"algorithm '"+g+"' not accepted in the list";if("none"!=g&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=Ye.getKey(t)),!("RS"!=p&&"PS"!=p||t instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==p&&!(t instanceof l))throw"key shall be a ECDSA obj for ES* algs";var y=null;if(void 0===o.jwsalg2sigalg[m.alg])throw"unsupported alg name: "+g;if("none"==(y=o.jwsalg2sigalg[g]))throw"not supported";if("Hmac"==y.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var v=new c({alg:y,pass:t});return v.updateString(d),f==v.doFinal()}if(-1!=y.indexOf("withECDSA")){var b,k=null;try{k=l.concatSigToASN1Sig(f)}catch(e){return!1}return(b=new u({alg:y})).init(t),b.updateString(d),b.verify(k)}return(b=new u({alg:y})).init(t),b.updateString(d),b.verify(f)},ue.jws.JWS.parse=function(e){var t,n,r,i=e.split("."),o={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],n=i[1],3==i.length&&(r=i[2]),o.headerObj=ue.jws.JWS.readSafeJSONString(pe(t)),o.payloadObj=ue.jws.JWS.readSafeJSONString(pe(n)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),null==o.payloadObj?o.payloadPP=pe(n):o.payloadPP=JSON.stringify(o.payloadObj,null,"  "),void 0!==r&&(o.sigHex=be(r)),o},ue.jws.JWS.verifyJWT=function(e,t,n){var r=ue.jws,i=r.JWS,o=i.readSafeJSONString,a=i.inArray,s=i.includedArray;if(!Le(e))return!1;var l=e.split(".");if(3!=l.length)return!1;var c=l[0],u=l[1],h=(be(l[2]),o(pe(c))),p=o(pe(u));if(void 0===h.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!a(h.alg,n.alg))return!1;if(void 0!==p.iss&&"object"==typeof n.iss&&!a(p.iss,n.iss))return!1;if(void 0!==p.sub&&"object"==typeof n.sub&&!a(p.sub,n.sub))return!1;if(void 0!==p.aud&&"object"==typeof n.aud)if("string"==typeof p.aud){if(!a(p.aud,n.aud))return!1}else if("object"==typeof p.aud&&!s(p.aud,n.aud))return!1;var d=r.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(d=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==p.exp&&"number"==typeof p.exp&&p.exp+n.gracePeriod<d||void 0!==p.nbf&&"number"==typeof p.nbf&&d<p.nbf-n.gracePeriod||void 0!==p.iat&&"number"==typeof p.iat&&d<p.iat-n.gracePeriod||void 0!==p.jti&&void 0!==n.jti&&p.jti!==n.jti||!i.verify(e,t,n.alg))},ue.jws.JWS.includedArray=function(e,t){var n=ue.jws.JWS.inArray;if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t))return!1;return!0},ue.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},ue.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ue.jws.JWS.isSafeJSONString=function(e,t,n){var r=null;try{return"object"!=typeof(r=ce(e))||r.constructor===Array?0:(t&&(t[n]=r),1)}catch(e){return 0}},ue.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=typeof(t=ce(e))||t.constructor===Array?null:t}catch(e){return null}},ue.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ue.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=Se(t);return ve(ue.crypto.Util.hashHex(n,"sha256"))},ue.jws.IntDate={},ue.jws.IntDate.get=function(e){var t=ue.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ue.jws.IntDate.getZulu=function(e){return Ce(e)},ue.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ue.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ue.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},void 0!==ue&&ue||(ue={}),void 0!==ue.jws&&ue.jws||(ue.jws={}),ue.jws.JWSJS=function(){var e=ue.jws.JWS,t=e.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(e){this.init();var t=e.split(".");if(3!=t.length)throw"malformed input JWS";this.aHeader.push(t[0]),this.sPayload=t[1],this.aSignature.push(t[2])},this.addSignature=function(e,t,n,r){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var o=ue.jws.JWS.sign(e,t,this.sPayload,n,r).split(".");o[0],o[2],this.aHeader.push(o[0]),this.aSignature.push(o[2])}catch(e){throw this.aHeader.length>i&&this.aHeader.pop(),this.aSignature.length>i&&this.aSignature.pop(),"addSignature failed: "+e}},this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(2!==n.length)return!1;if(!1===this.verifyNth(t,n[0],n[1]))return!1}return!0},this.verifyNth=function(t,n,r){if(this.aHeader.length<=t||this.aSignature.length<=t)return!1;var i=this.aHeader[t],o=this.aSignature[t],a=i+"."+this.sPayload+"."+o,s=!1;try{s=e.verify(a,n,r)}catch(e){return!1}return s},this.readJWSJS=function(e){if("string"==typeof e){var n=t(e);if(null==n)throw"argument is not safe JSON object string";this.aHeader=n.headers,this.sPayload=n.payload,this.aSignature=n.signatures}else try{if(!(e.headers.length>0))throw"malformed header";if(this.aHeader=e.headers,"string"!=typeof e.payload)throw"malformed signatures";if(this.sPayload=e.payload,!(e.signatures.length>0))throw"malformed signatures";this.aSignature=e.signatures}catch(e){throw"malformed JWS-JS JSON object: "+e}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},ue.crypto.ECDSA,ue.crypto.DSA,ue.crypto.Signature,ue.crypto.MessageDigest,ue.crypto.Mac,ue.crypto.Cipher,t.kT=function(e){return function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(function(e){var t,n=k(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}(ye(e)))},ue.crypto,ue.asn1,t.hT=ue.jws,ue.lang},4542:(e,t,n)=>{var r,i,o,a,s;r=n(7298),i=n(4526).utf8,o=n(8135),a=n(4526).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),l=8*e.length,c=1732584193,u=-271733879,h=-1732584194,p=271733878,d=0;d<n.length;d++)n[d]=16711935&(n[d]<<8|n[d]>>>24)|4278255360&(n[d]<<24|n[d]>>>8);n[l>>>5]|=128<<l%32,n[14+(l+64>>>9<<4)]=l;var f=s._ff,m=s._gg,g=s._hh,y=s._ii;for(d=0;d<n.length;d+=16){var v=c,b=u,k=h,w=p;c=f(c,u,h,p,n[d+0],7,-680876936),p=f(p,c,u,h,n[d+1],12,-389564586),h=f(h,p,c,u,n[d+2],17,606105819),u=f(u,h,p,c,n[d+3],22,-1044525330),c=f(c,u,h,p,n[d+4],7,-176418897),p=f(p,c,u,h,n[d+5],12,1200080426),h=f(h,p,c,u,n[d+6],17,-1473231341),u=f(u,h,p,c,n[d+7],22,-45705983),c=f(c,u,h,p,n[d+8],7,1770035416),p=f(p,c,u,h,n[d+9],12,-1958414417),h=f(h,p,c,u,n[d+10],17,-42063),u=f(u,h,p,c,n[d+11],22,-1990404162),c=f(c,u,h,p,n[d+12],7,1804603682),p=f(p,c,u,h,n[d+13],12,-40341101),h=f(h,p,c,u,n[d+14],17,-1502002290),c=m(c,u=f(u,h,p,c,n[d+15],22,1236535329),h,p,n[d+1],5,-165796510),p=m(p,c,u,h,n[d+6],9,-1069501632),h=m(h,p,c,u,n[d+11],14,643717713),u=m(u,h,p,c,n[d+0],20,-373897302),c=m(c,u,h,p,n[d+5],5,-701558691),p=m(p,c,u,h,n[d+10],9,38016083),h=m(h,p,c,u,n[d+15],14,-660478335),u=m(u,h,p,c,n[d+4],20,-405537848),c=m(c,u,h,p,n[d+9],5,568446438),p=m(p,c,u,h,n[d+14],9,-1019803690),h=m(h,p,c,u,n[d+3],14,-187363961),u=m(u,h,p,c,n[d+8],20,1163531501),c=m(c,u,h,p,n[d+13],5,-1444681467),p=m(p,c,u,h,n[d+2],9,-51403784),h=m(h,p,c,u,n[d+7],14,1735328473),c=g(c,u=m(u,h,p,c,n[d+12],20,-1926607734),h,p,n[d+5],4,-378558),p=g(p,c,u,h,n[d+8],11,-2022574463),h=g(h,p,c,u,n[d+11],16,1839030562),u=g(u,h,p,c,n[d+14],23,-35309556),c=g(c,u,h,p,n[d+1],4,-1530992060),p=g(p,c,u,h,n[d+4],11,1272893353),h=g(h,p,c,u,n[d+7],16,-155497632),u=g(u,h,p,c,n[d+10],23,-1094730640),c=g(c,u,h,p,n[d+13],4,681279174),p=g(p,c,u,h,n[d+0],11,-358537222),h=g(h,p,c,u,n[d+3],16,-722521979),u=g(u,h,p,c,n[d+6],23,76029189),c=g(c,u,h,p,n[d+9],4,-640364487),p=g(p,c,u,h,n[d+12],11,-421815835),h=g(h,p,c,u,n[d+15],16,530742520),c=y(c,u=g(u,h,p,c,n[d+2],23,-995338651),h,p,n[d+0],6,-198630844),p=y(p,c,u,h,n[d+7],10,1126891415),h=y(h,p,c,u,n[d+14],15,-1416354905),u=y(u,h,p,c,n[d+5],21,-57434055),c=y(c,u,h,p,n[d+12],6,1700485571),p=y(p,c,u,h,n[d+3],10,-1894986606),h=y(h,p,c,u,n[d+10],15,-1051523),u=y(u,h,p,c,n[d+1],21,-2054922799),c=y(c,u,h,p,n[d+8],6,1873313359),p=y(p,c,u,h,n[d+15],10,-30611744),h=y(h,p,c,u,n[d+6],15,-1560198380),u=y(u,h,p,c,n[d+13],21,1309151649),c=y(c,u,h,p,n[d+4],6,-145523070),p=y(p,c,u,h,n[d+11],10,-1120210379),h=y(h,p,c,u,n[d+2],15,718787259),u=y(u,h,p,c,n[d+9],21,-343485551),c=c+v>>>0,u=u+b>>>0,h=h+k>>>0,p=p+w>>>0}return r.endian([c,u,h,p])})._ff=function(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._gg=function(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._hh=function(e,t,n,r,i,o,a){var s=e+(t^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._ii=function(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?a.bytesToString(n):r.bytesToHex(n)}},3865:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(s[c]=o[c]);if(t){a=t(o);for(var u=0;u<a.length;u++)r.call(o,a[u])&&(s[a[u]]=o[a[u]])}}return s}},4392:(e,t,n)=>{"use strict";var r=n(8281),i=n(3865),o=n(9551);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,f={},m={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(f,e)&&(p.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,S=60107,E=60108,A=60114,D=60109,C=60110,P=60112,R=60113,O=60120,T=60115,B=60116,F=60121,M=60128,N=60129,I=60130,j=60131;if("function"==typeof Symbol&&Symbol.for){var H=Symbol.for;x=H("react.element"),_=H("react.portal"),S=H("react.fragment"),E=H("react.strict_mode"),A=H("react.profiler"),D=H("react.provider"),C=H("react.context"),P=H("react.forward_ref"),R=H("react.suspense"),O=H("react.suspense_list"),T=H("react.memo"),B=H("react.lazy"),F=H("react.block"),H("react.scope"),M=H("react.opaque.id"),N=H("react.debug_trace_mode"),I=H("react.offscreen"),j=H("react.legacy_hidden")}var L,q="function"==typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function U(e){if(void 0===L)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function K(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function Y(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return K(e.type,!1);case 11:return K(e.type.render,!1);case 22:return K(e.type._render,!1);case 1:return K(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case A:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case D:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case T:return $(e.type);case F:return $(e._render);case B:t=e._payload,e=e._init;try{return $(e(t))}catch(e){}}return null}function W(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ce(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var fe,me,ge=(me=function(e,t){if(e.namespaceURI!==he.svg||"innerHTML"in e)e.innerHTML=t;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,De=null,Ce=null;function Pe(e){if(e=ti(e)){if("function"!=typeof Ae)throw Error(a(280));var t=e.stateNode;t&&(t=ri(t),Ae(e.stateNode,e.type,t))}}function Re(e){De?Ce?Ce.push(e):Ce=[e]:De=e}function Oe(){if(De){var e=De,t=Ce;if(Ce=De=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Te(e,t){return e(t)}function Be(e,t,n,r,i){return e(t,n,r,i)}function Fe(){}var Me=Te,Ne=!1,Ie=!1;function je(){null===De&&null===Ce||(Fe(),Oe())}function He(e,t){var n=e.stateNode;if(null===n)return null;var r=ri(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Le=!1;if(h)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Le=!1}function ze(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Ue=!1,Ve=null,Ke=!1,Ye=null,$e={onError:function(e){Ue=!0,Ve=e}};function We(e,t,n,r,i,o,a,s,l){Ue=!1,Ve=null,ze.apply($e,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Xe(e){if(Ge(e)!==e)throw Error(a(188))}function Qe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var Ze,et,tt,nt,rt=!1,it=[],ot=null,at=null,st=null,lt=new Map,ct=new Map,ut=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function dt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function ft(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&null!==(t=ti(t))&&et(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ei(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void nt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){tt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ti(n))&&et(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function vt(){for(rt=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=ti(e.blockedOn))&&Ze(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==ot&&gt(ot)&&(ot=null),null!==at&&gt(at)&&(at=null),null!==st&&gt(st)&&(st=null),lt.forEach(yt),ct.forEach(yt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,vt)))}function kt(e){function t(t){return bt(t,e)}if(0<it.length){bt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==at&&bt(at,e),null!==st&&bt(st,e),lt.forEach(t),ct.forEach(t),n=0;n<ut.length;n++)(r=ut[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ut.length&&null===(n=ut[0]).blockedOn;)mt(n),null===n.blockedOn&&ut.shift()}function wt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:wt("Animation","AnimationEnd"),animationiteration:wt("Animation","AnimationIteration"),animationstart:wt("Animation","AnimationStart"),transitionend:wt("Transition","TransitionEnd")},_t={},St={};function Et(e){if(_t[e])return _t[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return _t[e]=n[t];return e}h&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var At=Et("animationend"),Dt=Et("animationiteration"),Ct=Et("animationstart"),Pt=Et("transitionend"),Rt=new Map,Ot=new Map,Tt=["abort","abort",At,"animationEnd",Dt,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Rt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Ft=8;function Mt(e){if(1&e)return Ft=15,1;if(2&e)return Ft=14,2;if(4&e)return Ft=13,4;var t=24&e;return 0!==t?(Ft=12,t):32&e?(Ft=11,32):0!=(t=192&e)?(Ft=10,t):256&e?(Ft=9,256):0!=(t=3584&e)?(Ft=8,t):4096&e?(Ft=7,4096):0!=(t=4186112&e)?(Ft=6,t):0!=(t=62914560&e)?(Ft=5,t):67108864&e?(Ft=4,67108864):134217728&e?(Ft=3,134217728):0!=(t=805306368&e)?(Ft=2,t):1073741824&e?(Ft=1,1073741824):(Ft=8,e)}function Nt(e,t){var n=e.pendingLanes;if(0===n)return Ft=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Ft=15;else if(0!=(o=134217727&n)){var l=o&~a;0!==l?(r=Mt(l),i=Ft):0!=(s&=o)&&(r=Mt(s),i=Ft)}else 0!=(o=n&~a)?(r=Mt(o),i=Ft):0!==s&&(r=Mt(s),i=Ft);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&!(t&a)){if(Mt(t),i<=Ft)return t;Ft=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function It(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?jt(10,t):e;case 10:return 0===(e=Ht(192&~t))?jt(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&0===(e=Ht(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ht(e){return e&-e}function Lt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ut(e)/Vt|0)|0},Ut=Math.log,Vt=Math.LN2,Kt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,$t=!0;function Wt(e,t,n,r){Ne||Fe();var i=Jt,o=Ne;Ne=!0;try{Be(i,e,t,n,r)}finally{(Ne=o)||je()}}function Gt(e,t,n,r){Yt(Kt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=!(4&t))&&0<it.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),it.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&dt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,r),void it.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=ft(ot,e,t,n,r,i),!0;case"dragenter":return at=ft(at,e,t,n,r,i),!0;case"mouseover":return st=ft(st,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,ft(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ct.set(o,ft(ct.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;dt(e,r)}Br(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Ee(r);if(null!==(i=ei(i))){var o=Ge(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Je(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Br(e,t,r,i,n),null}var Qt=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function on(){return!1}function an(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var sn,ln,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=an(un),pn=i({},un,{view:0,detail:0}),dn=an(pn),fn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=an(fn),gn=an(i({},fn,{dataTransfer:0})),yn=an(i({},pn,{relatedTarget:0})),vn=an(i({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(bn),wn=an(i({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function An(){return En}var Dn=i({},pn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Dn),Pn=an(i({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=an(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),On=an(i({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=i({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=an(Tn),Fn=[9,13,27,32],Mn=h&&"CompositionEvent"in window,Nn=null;h&&"documentMode"in document&&(Nn=document.documentMode);var In=h&&"TextEvent"in window&&!Nn,jn=h&&(!Mn||Nn&&8<Nn&&11>=Nn),Hn=String.fromCharCode(32),Ln=!1;function qn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Yn(e,t,n,r){Re(r),0<(t=Mr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Wn=null;function Gn(e){Dr(e,0)}function Jn(e){if(X(ni(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(h){var Zn;if(h){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"==typeof tr.oninput}Zn=er}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function nr(){$n&&($n.detachEvent("onpropertychange",rr),Wn=$n=null)}function rr(e){if("value"===e.propertyName&&Jn(Wn)){var t=[];if(Yn(t,Wn,e,Ee(e)),e=Gn,Ne)e(t);else{Ne=!0;try{Te(e,t)}finally{Ne=!1,je()}}}}function ir(e,t,n){"focusin"===e?(nr(),Wn=n,($n=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Wn)}function ar(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},cr=Object.prototype.hasOwnProperty;function ur(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=h&&"documentMode"in document&&11>=document.documentMode,yr=null,vr=null,br=null,kr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==Q(r)||(r="selectionStart"in(r=yr)&&mr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&ur(br,r)||(br=r,0<(r=Mr(vr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Bt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(Tt,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<xr.length;_r++)Ot.set(xr[_r],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Er=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(We.apply(this,arguments),Ue){if(!Ue)throw Error(a(198));var u=Ve;Ue=!1,Ve=null,Ke||(Ke=!0,Ye=u)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Ar(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Ar(i,s,c),o=l}}}if(Ke)throw e=Ye,Ke=!1,Ye=null,e}function Cr(e,t){var n=ii(t),r=e+"__bubble";n.has(r)||(Tr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Er.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Er.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ii(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Tr(o,e,i,t),a.add(s))}function Tr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Wt;break;case 1:i=Gt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ei(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ie)return e();Ie=!0;try{return Me(e,t,n)}finally{Ie=!1,je()}}((function(){var r=o,i=Ee(n),a=[];e:{var s=Rt.get(e);if(void 0!==s){var l=hn,c=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case At:case Dt:case Ct:l=vn;break;case Pt:l=On;break;case"scroll":l=dn;break;case"wheel":l=Bn;break;case"copy":case"cut":case"paste":l=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var u=!!(4&t),h=!u&&"scroll"===e,p=u?null!==s?s+"Capture":null:s;u=[];for(var d,f=r;null!==f;){var m=(d=f).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==p&&null!=(m=He(f,p))&&u.push(Fr(f,m,d))),h)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||16&t||!(c=n.relatedTarget||n.fromElement)||!ei(c)&&!c[Qr])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ei(c):null)&&(c!==(h=Ge(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Pn,m="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==l?s:ni(l),d=null==c?s:ni(c),(s=new u(m,f+"leave",l,n,i)).target=h,s.relatedTarget=d,m=null,ei(i)===r&&((u=new u(p,f+"enter",c,n,i)).target=d,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(p=c,f=0,d=u=l;d;d=Nr(d))f++;for(d=0,m=p;m;m=Nr(m))d++;for(;0<f-d;)u=Nr(u),f--;for(;0<d-f;)p=Nr(p),d--;for(;f--;){if(u===p||null!==p&&u===p.alternate)break e;u=Nr(u),p=Nr(p)}u=null}else u=null;null!==l&&Ir(a,s,l,u,!1),null!==c&&null!==h&&Ir(a,h,c,u,!0)}if("select"===(l=(s=r?ni(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Kn(s))if(Qn)g=sr;else{g=or;var y=ir}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Yn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ni(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(yr=y,vr=r,br=null);break;case"focusout":br=vr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(v=tn()):(Zt="value"in(Qt=i)?Qt.value:Qt.textContent,Un=!0)),0<(y=Mr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),(v||null!==(v=zn(n)))&&(b.data=v))),(v=In?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Ln=!0,Hn);case"textInput":return(e=t.data)===Hn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Mn&&qn(e,t)?(e=tn(),en=Zt=Qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v)}Dr(a,t)}))}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=He(e,n))&&r.unshift(Fr(e,o,i)),null!=(o=He(e,t))&&r.push(Fr(e,o,i))),e=e.return}return r}function Nr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ir(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=He(n,o))&&a.unshift(Fr(n,l,s)):i||null!=(l=He(n,o))&&a.push(Fr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function jr(){}var Hr=null,Lr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ur="function"==typeof setTimeout?setTimeout:void 0,Vr="function"==typeof clearTimeout?clearTimeout:void 0;function Kr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Wr=0,Gr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Gr,Xr="__reactProps$"+Gr,Qr="__reactContainer$"+Gr,Zr="__reactEvents$"+Gr;function ei(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ti(e){return!(e=e[Jr]||e[Qr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ni(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ri(e){return e[Xr]||null}function ii(e){var t=e[Zr];return void 0===t&&(t=e[Zr]=new Set),t}var oi=[],ai=-1;function si(e){return{current:e}}function li(e){0>ai||(e.current=oi[ai],oi[ai]=null,ai--)}function ci(e,t){ai++,oi[ai]=e.current,e.current=t}var ui={},hi=si(ui),pi=si(!1),di=ui;function fi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!=e.childContextTypes}function gi(){li(pi),li(hi)}function yi(e,t,n){if(hi.current!==ui)throw Error(a(168));ci(hi,t),ci(pi,n)}function vi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,$(t)||"Unknown",o));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,di=hi.current,ci(hi,e),ci(pi,pi.current),!0}function ki(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=vi(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(hi),ci(hi,e)):li(pi),ci(pi,n)}var wi=null,xi=null,_i=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,Ai=o.unstable_shouldYield,Di=o.unstable_requestPaint,Ci=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,Ti=o.unstable_NormalPriority,Bi=o.unstable_LowPriority,Fi=o.unstable_IdlePriority,Mi={},Ni=void 0!==Di?Di:function(){},Ii=null,ji=null,Hi=!1,Li=Ci(),qi=1e4>Li?Ci:function(){return Ci()-Li};function zi(){switch(Pi()){case Ri:return 99;case Oi:return 98;case Ti:return 97;case Bi:return 96;case Fi:return 95;default:throw Error(a(332))}}function Ui(e){switch(e){case 99:return Ri;case 98:return Oi;case 97:return Ti;case 96:return Bi;case 95:return Fi;default:throw Error(a(332))}}function Vi(e,t){return e=Ui(e),_i(e,t)}function Ki(e,t,n){return e=Ui(e),Si(e,t,n)}function Yi(){if(null!==ji){var e=ji;ji=null,Ei(e)}$i()}function $i(){if(!Hi&&null!==Ii){Hi=!0;var e=0;try{var t=Ii;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ii=null}catch(t){throw null!==Ii&&(Ii=Ii.slice(e+1)),Si(Ri,Yi),t}finally{Hi=!1}}}var Wi=w.ReactCurrentBatchConfig;function Gi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=si(null),Xi=null,Qi=null,Zi=null;function eo(){Zi=Qi=Xi=null}function to(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function no(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ro(e,t){Xi=e,Zi=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function io(e,t){if(Zi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qi){if(null===Xi)throw Error(a(308));Qi=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Qi=Qi.next=t;return e._currentValue}var oo=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function so(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;oo=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var h=e.alternate;if(null!==h){var p=(h=h.updateQueue).lastBaseUpdate;p!==s&&(null===p?h.firstBaseUpdate=u:p.next=u,h.lastBaseUpdate=c)}}if(null!==a){for(p=o.baseState,s=0,h=u=c=null;;){l=a.lane;var d=a.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(l=t,d=n,m.tag){case 1:if("function"==typeof(f=m.payload)){p=f.call(d,p,l);break e}p=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=m.payload)?f.call(d,p,l):f))break e;p=i({},p,l);break e;case 2:oo=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else d={eventTime:d,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(u=h=d,c=p):h=h.next=d,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(c=p),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,js|=s,e.lanes=s,e.memoizedState=p}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var fo=(new r.Component).refs;function mo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cl(),i=ul(e),o=lo(r,i);o.payload=t,null!=n&&(o.callback=n),co(e,o),hl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cl(),i=ul(e),o=lo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),co(e,o),hl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cl(),r=ul(e),i=lo(n,r);i.tag=2,null!=t&&(i.callback=t),co(e,i),hl(e,r,n)}};function yo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function vo(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=io(o):(i=mi(t)?di:hi.current,o=(r=null!=(r=t.contextTypes))?fi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fo,ao(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=io(o):(o=mi(t)?di:hi.current,i.context=fi(e,o)),ho(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),ho(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var wo=Array.isArray;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===fo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ul(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Vl(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Kl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=$l(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Vl(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case _:return(t=Wl(t,e.mode,n)).return=e,t}if(wo(t)||z(t))return(t=Kl(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null}if(wo(n)||z(n))return null!==i?null:h(e,t,n,r,null);_o(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wo(r)||z(r))return h(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=d(i,h,s[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===s.length)return n(i,h),c;if(null===h){for(;m<s.length;m++)null!==(h=p(i,s[m],l))&&(a=o(h,a,m),null===u?c=h:u.sibling=h,u=h);return c}for(h=r(i,h);m<s.length;m++)null!==(g=f(h,i,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,s,l,c){var u=z(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=d(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=p(i,v.value,c))&&(s=o(v,s,g),null===h?u=v:h.sibling=v,h=v);return u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=f(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"==typeof o&&null!==o&&o.type===S&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case x:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===S){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=xo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===S?((r=Kl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Vl(o.type,o.key,o.props,null,e.mode,l)).ref=xo(e,r,o),l.return=e,e=l)}return s(e);case _:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Wl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=$l(o,e.mode,l)).return=e,e=r),s(e);if(wo(o))return m(e,r,o,l);if(z(o))return g(e,r,o,l);if(u&&_o(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,$(e.type)||"Component"))}return n(e,r)}}var Eo=So(!0),Ao=So(!1),Do={},Co=si(Do),Po=si(Do),Ro=si(Do);function Oo(e){if(e===Do)throw Error(a(174));return e}function To(e,t){switch(ci(Ro,t),ci(Po,e),ci(Co,Do),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Co),ci(Co,t)}function Bo(){li(Co),li(Po),li(Ro)}function Fo(e){Oo(Ro.current);var t=Oo(Co.current),n=de(t,e.type);t!==n&&(ci(Po,e),ci(Co,n))}function Mo(e){Po.current===e&&(li(Co),li(Po))}var No=si(0);function Io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(64&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=null,Ho=null,Lo=!1;function qo(e,t){var n=ql(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Uo(e){if(Lo){var t=Ho;if(t){var n=t;if(!zo(e,t)){if(!(t=Yr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,Lo=!1,void(jo=e);qo(jo,n)}jo=e,Ho=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Lo=!1,jo=e}}function Vo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jo=e}function Ko(e){if(e!==jo)return!1;if(!Lo)return Vo(e),Lo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Ho;t;)qo(e,t),t=Yr(t.nextSibling);if(Vo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ho=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ho=null}}else Ho=jo?Yr(e.stateNode.nextSibling):null;return!0}function Yo(){Ho=jo=null,Lo=!1}var $o=[];function Wo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Go=w.ReactCurrentDispatcher,Jo=w.ReactCurrentBatchConfig,Xo=0,Qo=null,Zo=null,ea=null,ta=!1,na=!1;function ra(){throw Error(a(321))}function ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oa(e,t,n,r,i,o){if(Xo=o,Qo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Go.current=null===e||null===e.memoizedState?Oa:Ta,e=n(r,i),na){o=0;do{if(na=!1,!(25>o))throw Error(a(301));o+=1,ea=Zo=null,t.updateQueue=null,Go.current=Ba,e=n(r,i)}while(na)}if(Go.current=Ra,t=null!==Zo&&null!==Zo.next,Xo=0,ea=Zo=Qo=null,ta=!1,t)throw Error(a(300));return e}function aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ea?Qo.memoizedState=ea=e:ea=ea.next=e,ea}function sa(){if(null===Zo){var e=Qo.alternate;e=null!==e?e.memoizedState:null}else e=Zo.next;var t=null===ea?Qo.memoizedState:ea.next;if(null!==t)ea=t,Zo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Zo=e).memoizedState,baseState:Zo.baseState,baseQueue:Zo.baseQueue,queue:Zo.queue,next:null},null===ea?Qo.memoizedState=ea=e:ea=ea.next=e}return ea}function la(e,t){return"function"==typeof t?t(e):t}function ca(e){var t=sa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,c=i;do{var u=c.lane;if((Xo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=h,o=r):l=l.next=h,Qo.lanes|=u,js|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=s,lr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=sa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(a(350))}function pa(e,t,n,r){var i=Rs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=Go.current,c=l.useState((function(){return ha(i,t,n)})),u=c[1],h=c[0];c=ea;var p=e.memoizedState,d=p.refs,f=d.getSnapshot,m=p.source;p=p.subscribe;var g=Qo;return e.memoizedState={refs:d,source:t,subscribe:r},l.useEffect((function(){d.getSnapshot=n,d.setSnapshot=u;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(h,e)||(u(e),e=ul(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-zt(a),c=1<<l;r[l]|=e,a&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ul(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),lr(f,n)&&lr(m,t)&&lr(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:h}).dispatch=u=Pa.bind(null,Qo,e),c.queue=e,c.baseQueue=null,h=ha(i,t,n),c.memoizedState=c.baseState=h),h}function da(e,t,n){return pa(sa(),e,t,n)}function fa(e){var t=aa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Pa.bind(null,Qo,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qo.updateQueue)?(t={lastEffect:null},Qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},aa().memoizedState=e}function ya(){return sa().memoizedState}function va(e,t,n,r){var i=aa();Qo.flags|=e,i.memoizedState=ma(1|t,n,void 0,void 0===r?null:r)}function ba(e,t,n,r){var i=sa();r=void 0===r?null:r;var o=void 0;if(null!==Zo){var a=Zo.memoizedState;if(o=a.destroy,null!==r&&ia(r,a.deps))return void ma(t,n,o,r)}Qo.flags|=e,i.memoizedState=ma(1|t,n,o,r)}function ka(e,t){return va(516,4,e,t)}function wa(e,t){return ba(516,4,e,t)}function xa(e,t){return ba(4,2,e,t)}function _a(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Sa(e,t,n){return n=null!=n?n.concat([e]):null,ba(4,2,_a.bind(null,t,e),n)}function Ea(){}function Aa(e,t){var n=sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Da(e,t){var n=sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ca(e,t){var n=zi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Pa(e,t,n){var r=cl(),i=ul(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Qo||null!==a&&a===Qo)na=ta=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,lr(l,s))return}catch(e){}hl(e,i,r)}}var Ra={readContext:io,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useMutableSource:ra,useOpaqueIdentifier:ra,unstable_isNewReconciler:!1},Oa={readContext:io,useCallback:function(e,t){return aa().memoizedState=[e,void 0===t?null:t],e},useContext:io,useEffect:ka,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,va(4,2,_a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return va(4,2,e,t)},useMemo:function(e,t){var n=aa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=aa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pa.bind(null,Qo,e),[r.memoizedState,e]},useRef:ga,useState:fa,useDebugValue:Ea,useDeferredValue:function(e){var t=fa(e),n=t[0],r=t[1];return ka((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fa(!1),t=e[0];return ga(e=Ca.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=aa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Lo){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Wr++).toString(36))),Error(a(355))})),n=fa(t)[1];return!(2&Qo.mode)&&(Qo.flags|=516,ma(5,(function(){n("r:"+(Wr++).toString(36))}),void 0,null)),t}return fa(t="r:"+(Wr++).toString(36)),t},unstable_isNewReconciler:!1},Ta={readContext:io,useCallback:Aa,useContext:io,useEffect:wa,useImperativeHandle:Sa,useLayoutEffect:xa,useMemo:Da,useReducer:ca,useRef:ya,useState:function(){return ca(la)},useDebugValue:Ea,useDeferredValue:function(e){var t=ca(la),n=t[0],r=t[1];return wa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ca(la)[0];return[ya().current,e]},useMutableSource:da,useOpaqueIdentifier:function(){return ca(la)[0]},unstable_isNewReconciler:!1},Ba={readContext:io,useCallback:Aa,useContext:io,useEffect:wa,useImperativeHandle:Sa,useLayoutEffect:xa,useMemo:Da,useReducer:ua,useRef:ya,useState:function(){return ua(la)},useDebugValue:Ea,useDeferredValue:function(e){var t=ua(la),n=t[0],r=t[1];return wa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ua(la)[0];return[ya().current,e]},useMutableSource:da,useOpaqueIdentifier:function(){return ua(la)[0]},unstable_isNewReconciler:!1},Fa=w.ReactCurrentOwner,Ma=!1;function Na(e,t,n,r){t.child=null===e?Ao(t,null,n,r):Eo(t,e.child,n,r)}function Ia(e,t,n,r,i){n=n.render;var o=t.ref;return ro(t,i),r=oa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Na(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function ja(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||zl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ha(e,t,a,r,i,o))}return a=e.child,i&o||(i=a.memoizedProps,!(n=null!==(n=n.compare)?n:ur)(i,r)||e.ref!==t.ref)?(t.flags|=1,(e=Ul(a,r)).ref=t.ref,e.return=t,t.child=e):ns(e,t,o)}function Ha(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,!(o&i))return t.lanes=e.lanes,ns(e,t,o);16384&e.flags&&(Ma=!0)}return za(e,t,n,r,o)}function La(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(4&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bl(0,e),null;t.memoizedState={baseLanes:0},bl(0,null!==o?o.baseLanes:n)}else t.memoizedState={baseLanes:0},bl(0,n);else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bl(0,r);return Na(e,t,i,n),t.child}function qa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=mi(n)?di:hi.current;return o=fi(t,o),ro(t,i),n=oa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Na(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Ua(e,t,n,r,i){if(mi(n)){var o=!0;bi(t)}else o=!1;if(ro(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vo(t,n,r),ko(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?io(c):fi(t,c=mi(n)?di:hi.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&bo(t,a,r,c),oo=!1;var p=t.memoizedState;a.state=p,ho(t,r,a,i),l=t.memoizedState,s!==r||p!==l||pi.current||oo?("function"==typeof u&&(mo(t,n,u,r),l=t.memoizedState),(s=oo||yo(t,n,s,r,p,l,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,so(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Gi(t.type,s),a.props=c,h=t.pendingProps,p=a.context,l="object"==typeof(l=n.contextType)&&null!==l?io(l):fi(t,l=mi(n)?di:hi.current);var d=n.getDerivedStateFromProps;(u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||p!==l)&&bo(t,a,r,l),oo=!1,p=t.memoizedState,a.state=p,ho(t,r,a,i);var f=t.memoizedState;s!==h||p!==f||pi.current||oo?("function"==typeof d&&(mo(t,n,d,r),f=t.memoizedState),(c=oo||yo(t,n,c,r,p,f,l))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return Va(e,t,n,r,o,i)}function Va(e,t,n,r,i,o){qa(e,t);var a=!!(64&t.flags);if(!r&&!a)return i&&ki(t,n,!1),ns(e,t,o);r=t.stateNode,Fa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,s,o)):Na(e,t,s,o),t.memoizedState=r.state,i&&ki(t,n,!0),t.child}function Ka(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),To(e,t.containerInfo)}var Ya,$a,Wa,Ga,Ja={dehydrated:null,retryLane:0};function Xa(e,t,n){var r,i=t.pendingProps,o=No.current,a=!1;return(r=!!(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ci(No,1&o),null===e?(void 0!==i.fallback&&Uo(t),e=i.children,o=i.fallback,a?(e=Qa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,e):"number"==typeof i.unstable_expectedLoadTime?(e=Qa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,t.lanes=33554432,e):((n=Yl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 2&o||t.child===a?n=Ul(a,s):((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null),null!==e?r=Ul(e,r):(r=Kl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ja,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Ul(i,{mode:"visible",children:n}),!(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Qa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},2&i||null===o?o=Yl(t,i,0,null):(o.childLanes=0,o.pendingProps=t),n=Kl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Za(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),no(e.return,t)}function es(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Na(e,t,r.children,n),2&(r=No.current))r=1&r|2,t.flags|=64;else{if(null!==e&&64&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,n);else if(19===e.tag)Za(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(No,r),2&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,o,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,n&t.childLanes){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ul(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ul(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Lo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Bo(),li(pi),li(hi),Wo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ko(t)?t.flags|=4:r.hydrate||(t.flags|=256)),$a(t),null;case 5:Mo(t);var o=Oo(Ro.current);if(n=t.type,null!==e&&null!=t.stateNode)Wa(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Oo(Co.current),Ko(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Xr]=s,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Cr(Sr[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":le(r,s),Cr("invalid",r)}for(var c in _e(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Cr("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),ue(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he.html&&(e=pe(n)),e===he.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Ya(e,t,!1,!1),t.stateNode=e,c=Se(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),o=r;break;case"iframe":case"object":case"embed":Cr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Cr(Sr[o],e);o=r;break;case"source":Cr("error",e),o=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),o=r;break;case"details":Cr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Cr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":le(e,r),o=se(e,r),Cr("invalid",e);break;default:o=r}_e(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];"style"===s?we(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"==typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"==typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Cr("scroll",e):null!=h&&k(e,s,h,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=jr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ga(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Oo(Ro.current),Oo(Co.current),Ko(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(No),r=t.memoizedState,64&t.flags?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ko(t):n=null!==e.memoizedState,r&&!n&&2&t.mode&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||1&No.current?0===Ms&&(Ms=3):(0!==Ms&&3!==Ms||(Ms=4),null===Rs||!(134217727&js)&&!(134217727&Hs)||ml(Rs,Ts))),(r||n)&&(t.flags|=4),null);case 4:return Bo(),$a(t),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return to(t),null;case 19:if(li(No),null===(r=t.memoizedState))return null;if(s=!!(64&t.flags),null===(c=r.rendering))if(s)rs(r,!1);else{if(0!==Ms||null!==e&&64&e.flags)for(e=t.child;null!==e;){if(null!==(c=Io(e))){for(t.flags|=64,rs(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(No,1&No.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Us&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Io(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Lo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Us&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=No.current,ci(No,s?1&t|2:1&t),n):null;case 23:case 24:return kl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function os(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Bo(),li(pi),li(hi),Wo(),64&(t=e.flags))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return li(No),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(No),null;case 4:return Bo(),null;case 10:return to(e),null;case 23:case 24:return kl(),null;default:return null}}function as(e,t){try{var n="",r=t;do{n+=Y(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ya=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(){},Wa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Oo(Co.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=jr)}for(h in _e(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(h,n)),n=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(h,u)):"children"===h?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Cr("scroll",e),s||c===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===M?u.toString():(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ga=function(e,t,n,r){n!==r&&(t.flags|=4)};var ls="function"==typeof WeakMap?WeakMap:Map;function cs(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Ws=r),ss(0,t)},n}function us(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hs="function"==typeof WeakSet?WeakSet:Set;function ps(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Il(e,t)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Gi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo))}throw Error(a(163))}function fs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(!(3&~e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,4&(i=i.tag)&&1&i&&(Fl(n,e),Bl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Gi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&kt(n)))))}throw Error(a(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ke("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function gs(e,t){if(xi&&"function"==typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(wi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(4&r)Fl(t,n);else{r=t;try{i()}catch(e){Il(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ps(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Il(t,e)}break;case 5:ps(t);break;case 4:xs(e,t)}}function ys(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(vs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ks(e,n,t):ws(e,n,t)}function ks(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function xs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,c=l;;)if(gs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(gs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function _s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{!(3&~r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?we(n,l):"dangerouslySetInnerHTML"===s?ge(n,l):"children"===s?ye(n,l):k(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,kt(n.containerInfo)));case 13:return null!==t.memoizedState&&(zs=qi(),ms(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(a(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hs),t.forEach((function(t){var r=Hl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Es(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var As=Math.ceil,Ds=w.ReactCurrentDispatcher,Cs=w.ReactCurrentOwner,Ps=0,Rs=null,Os=null,Ts=0,Bs=0,Fs=si(0),Ms=0,Ns=null,Is=0,js=0,Hs=0,Ls=0,qs=null,zs=0,Us=1/0;function Vs(){Us=qi()+500}var Ks,Ys=null,$s=!1,Ws=null,Gs=null,Js=!1,Xs=null,Qs=90,Zs=[],el=[],tl=null,nl=0,rl=null,il=-1,ol=0,al=0,sl=null,ll=!1;function cl(){return 48&Ps?qi():-1!==il?il:il=qi()}function ul(e){if(!(2&(e=e.mode)))return 1;if(!(4&e))return 99===zi()?1:2;if(0===ol&&(ol=Is),0!==Wi.transition){0!==al&&(al=null!==qs?qs.pendingLanes:0),e=ol;var t=4186112&~al;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=zi(),e=jt(4&Ps&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ol)}function hl(e,t,n){if(50<nl)throw nl=0,rl=null,Error(a(185));if(null===(e=pl(e,t)))return null;qt(e,t,n),e===Rs&&(Hs|=t,4===Ms&&ml(e,Ts));var r=zi();1===t?8&Ps&&!(48&Ps)?gl(e):(dl(e,n),0===Ps&&(Vs(),Yi())):(!(4&Ps)||98!==r&&99!==r||(null===tl?tl=new Set([e]):tl.add(e)),dl(e,n)),qs=e}function pl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function dl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-zt(s),c=1<<l,u=o[l];if(-1===u){if(!(c&r)||c&i){u=t,Mt(c);var h=Ft;o[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(r=Nt(e,e===Rs?Ts:0),t=Ft,0===r)null!==n&&(n!==Mi&&Ei(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ei(n)}15===t?(n=gl.bind(null,e),null===Ii?(Ii=[n],ji=Si(Ri,$i)):Ii.push(n),n=Mi):14===t?n=Ki(99,gl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Ki(n,fl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function fl(e){if(il=-1,al=ol=0,48&Ps)throw Error(a(327));var t=e.callbackNode;if(Tl()&&e.callbackNode!==t)return null;var n=Nt(e,e===Rs?Ts:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var o=_l();for(Rs===e&&Ts===r||(Vs(),wl(e,r));;)try{Al();break}catch(t){xl(e,t)}if(eo(),Ds.current=o,Ps=i,null!==Os?r=0:(Rs=null,Ts=0,r=Ms),Is&Hs)wl(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=It(e))&&(r=Sl(e,n))),1===r)throw t=Ns,wl(e,0),ml(e,n),dl(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Pl(e);break;case 3:if(ml(e,n),(62914560&n)===n&&10<(r=zs+500-qi())){if(0!==Nt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){cl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ur(Pl.bind(null,e),r);break}Pl(e);break;case 4:if(ml(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Ur(Pl.bind(null,e),n);break}Pl(e);break;default:throw Error(a(329))}}return dl(e,qi()),e.callbackNode===t?fl.bind(null,e):null}function ml(e,t){for(t&=~Ls,t&=~Hs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function gl(e){if(48&Ps)throw Error(a(327));if(Tl(),e===Rs&&e.expiredLanes&Ts){var t=Ts,n=Sl(e,t);Is&Hs&&(n=Sl(e,t=Nt(e,t)))}else n=Sl(e,t=Nt(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=It(e))&&(n=Sl(e,t))),1===n)throw n=Ns,wl(e,0),ml(e,t),dl(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pl(e),dl(e,qi()),null}function yl(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Vs(),Yi())}}function vl(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Vs(),Yi())}}function bl(e,t){ci(Fs,Bs),Bs|=t,Is|=t}function kl(){Bs=Fs.current,li(Fs)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&gi();break;case 3:Bo(),li(pi),li(hi),Wo();break;case 5:Mo(r);break;case 4:Bo();break;case 13:case 19:li(No);break;case 10:to(r);break;case 23:case 24:kl()}n=n.return}Rs=e,Os=Ul(e.current,null),Ts=Bs=Is=t,Ms=0,Ns=null,Ls=Hs=js=0}function xl(e,t){for(;;){var n=Os;try{if(eo(),Go.current=Ra,ta){for(var r=Qo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ta=!1}if(Xo=0,ea=Zo=Qo=null,na=!1,Cs.current=null,null===n||null===n.return){Ms=1,Ns=t,Os=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Ts,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(!(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=!!(1&No.current),p=a;do{var d;if(d=13===p.tag){var f=p.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var m=p.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=p.updateQueue;if(null===g){var y=new Set;y.add(c),p.updateQueue=y}else g.add(c);if(!(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=lo(-1,1);v.tag=2,co(s,v)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ls,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(s)){l.add(s);var k=jl.bind(null,o,c,s);c.then(k,k)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error(($(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ms&&(Ms=2),l=as(l,s),p=a;do{switch(p.tag){case 3:o=l,p.flags|=4096,t&=-t,p.lanes|=t,uo(p,cs(0,o,t));break e;case 1:o=l;var w=p.type,x=p.stateNode;if(!(64&p.flags||"function"!=typeof w.getDerivedStateFromError&&(null===x||"function"!=typeof x.componentDidCatch||null!==Gs&&Gs.has(x)))){p.flags|=4096,t&=-t,p.lanes|=t,uo(p,us(p,o,t));break e}}p=p.return}while(null!==p)}Cl(n)}catch(e){t=e,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function _l(){var e=Ds.current;return Ds.current=Ra,null===e?Ra:e}function Sl(e,t){var n=Ps;Ps|=16;var r=_l();for(Rs===e&&Ts===t||wl(e,t);;)try{El();break}catch(t){xl(e,t)}if(eo(),Ps=n,Ds.current=r,null!==Os)throw Error(a(261));return Rs=null,Ts=0,Ms}function El(){for(;null!==Os;)Dl(Os)}function Al(){for(;null!==Os&&!Ai();)Dl(Os)}function Dl(e){var t=Ks(e.alternate,e,Bs);e.memoizedProps=e.pendingProps,null===t?Cl(e):Os=t,Cs.current=null}function Cl(e){var t=e;do{var n=t.alternate;if(e=t.return,2048&t.flags){if(null!==(n=os(t)))return n.flags&=2047,void(Os=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(null!==(n=is(n,t,Bs)))return void(Os=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||1073741824&Bs||!(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&!(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Ms&&(Ms=5)}function Pl(e){var t=zi();return Vi(99,Rl.bind(null,e,t)),null}function Rl(e,t){do{Tl()}while(null!==Xs);if(48&Ps)throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-zt(o),u=1<<c;i[c]=0,s[c]=-1,l[c]=-1,o&=~u}if(null!==tl&&!(24&r)&&tl.has(e)&&tl.delete(e),e===Rs&&(Os=Rs=null,Ts=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Cs.current=null,Hr=$t,mr(s=fr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var h=0,p=-1,d=-1,f=0,m=0,g=s,y=null;t:for(;;){for(var v;g!==l||0!==o&&3!==g.nodeType||(p=h+o),g!==c||0!==u&&3!==g.nodeType||(d=h+u),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===s)break t;if(y===l&&++f===o&&(p=h),y===c&&++m===u&&(d=h),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}l=-1===p||-1===d?null:{start:p,end:d}}else l=null;l=l||{start:0,end:0}}else l=null;Lr={focusedElem:s,selectionRange:l},$t=!1,sl=null,ll=!1,Ys=r;do{try{Ol()}catch(e){if(null===Ys)throw Error(a(330));Il(Ys,e),Ys=Ys.nextEffect}}while(null!==Ys);sl=null,Ys=r;do{try{for(s=e;null!==Ys;){var b=Ys.flags;if(16&b&&ye(Ys.stateNode,""),128&b){var k=Ys.alternate;if(null!==k){var w=k.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&b){case 2:bs(Ys),Ys.flags&=-3;break;case 6:bs(Ys),Ys.flags&=-3,_s(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,_s(Ys.alternate,Ys);break;case 4:_s(Ys.alternate,Ys);break;case 8:xs(s,l=Ys);var x=l.alternate;ys(l),null!==x&&ys(x)}Ys=Ys.nextEffect}}catch(e){if(null===Ys)throw Error(a(330));Il(Ys,e),Ys=Ys.nextEffect}}while(null!==Ys);if(w=Lr,k=fr(),b=w.focusedElem,s=w.selectionRange,k!==b&&b&&b.ownerDocument&&dr(b.ownerDocument.documentElement,b)){null!==s&&mr(b)&&(k=s.start,void 0===(w=s.end)&&(w=k),"selectionStart"in b?(b.selectionStart=k,b.selectionEnd=Math.min(w,b.value.length)):(w=(k=b.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),l=b.textContent.length,x=Math.min(s.start,l),s=void 0===s.end?x:Math.min(s.end,l),!w.extend&&x>s&&(l=s,s=x,x=l),l=pr(b,x),o=pr(b,s),l&&o&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((k=k.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),x>s?(w.addRange(k),w.extend(o.node,o.offset)):(k.setEnd(o.node,o.offset),w.addRange(k))))),k=[];for(w=b;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<k.length;b++)(w=k[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!Hr,Lr=Hr=null,e.current=n,Ys=r;do{try{for(b=e;null!==Ys;){var _=Ys.flags;if(36&_&&fs(b,Ys.alternate,Ys),128&_){k=void 0;var S=Ys.ref;if(null!==S){var E=Ys.stateNode;Ys.tag,k=E,"function"==typeof S?S(k):S.current=k}}Ys=Ys.nextEffect}}catch(e){if(null===Ys)throw Error(a(330));Il(Ys,e),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Ni(),Ps=i}else e.current=n;if(Js)Js=!1,Xs=e,Qs=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((_=Ys).sibling=null,_.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Gs=null),1===r?e===rl?nl++:(nl=0,rl=e):nl=0,n=n.stateNode,xi&&"function"==typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(wi,n,void 0,!(64&~n.current.flags))}catch(e){}if(dl(e,qi()),$s)throw $s=!1,e=Ws,Ws=null,e;return 8&Ps||Yi(),null}function Ol(){for(;null!==Ys;){var e=Ys.alternate;ll||null===sl||(8&Ys.flags?Qe(Ys,sl)&&(ll=!0):13===Ys.tag&&Es(e,Ys)&&Qe(Ys,sl)&&(ll=!0));var t=Ys.flags;256&t&&ds(e,Ys),!(512&t)||Js||(Js=!0,Ki(97,(function(){return Tl(),null}))),Ys=Ys.nextEffect}}function Tl(){if(90!==Qs){var e=97<Qs?97:Qs;return Qs=90,Vi(e,Ml)}return!1}function Bl(e,t){Zs.push(t,e),Js||(Js=!0,Ki(97,(function(){return Tl(),null})))}function Fl(e,t){el.push(t,e),Js||(Js=!0,Ki(97,(function(){return Tl(),null})))}function Ml(){if(null===Xs)return!1;var e=Xs;if(Xs=null,48&Ps)throw Error(a(331));var t=Ps;Ps|=32;var n=el;el=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Il(o,e)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(a(330));Il(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ps=t,Yi(),!0}function Nl(e,t,n){co(e,t=cs(0,t=as(n,t),1)),t=cl(),null!==(e=pl(e,1))&&(qt(e,1,t),dl(e,t))}function Il(e,t){if(3===e.tag)Nl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Nl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){var i=us(n,e=as(t,e),1);if(co(n,i),i=cl(),null!==(n=pl(n,1)))qt(n,1,i),dl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function jl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cl(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ts&n)===n&&(4===Ms||3===Ms&&(62914560&Ts)===Ts&&500>qi()-zs?wl(e,0):Ls|=n),dl(e,t)}function Hl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(2&(t=e.mode)?4&t?(0===ol&&(ol=Is),0===(t=Ht(62914560&~ol))&&(t=4194304)):t=99===zi()?1:2:t=1),n=cl(),null!==(e=pl(e,t))&&(qt(e,t,n),dl(e,n))}function Ll(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ql(e,t,n,r){return new Ll(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ul(e,t){var n=e.alternate;return null===n?((n=ql(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vl(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)zl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Kl(n.children,i,o,t);case N:s=8,i|=16;break;case E:s=8,i|=1;break;case A:return(e=ql(12,n,t,8|i)).elementType=A,e.type=A,e.lanes=o,e;case R:return(e=ql(13,n,t,i)).type=R,e.elementType=R,e.lanes=o,e;case O:return(e=ql(19,n,t,i)).elementType=O,e.lanes=o,e;case I:return Yl(n,i,o,t);case j:return(e=ql(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case D:s=10;break e;case C:s=9;break e;case P:s=11;break e;case T:s=14;break e;case B:s=16,r=null;break e;case F:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ql(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Kl(e,t,n,r){return(e=ql(7,e,r,t)).lanes=n,e}function Yl(e,t,n,r){return(e=ql(23,e,r,t)).elementType=I,e.lanes=n,e}function $l(e,t,n){return(e=ql(6,e,null,t)).lanes=n,e}function Wl(e,t,n){return(t=ql(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Lt(0),this.expirationTimes=Lt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lt(0),this.mutableSourceEagerHydrationData=null}function Jl(e,t,n,r){var i=t.current,o=cl(),s=ul(i);e:if(n){t:{if(Ge(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=vi(n,c,l);break e}}n=l}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),co(i,t),hl(i,s,o),s}function Xl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zl(e,t){Ql(e,t),(e=e.alternate)&&Ql(e,t)}function ec(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gl(e,t,null!=n&&!0===n.hydrate),t=ql(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ao(t),e[Qr]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function tc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Xl(a);s.call(e)}}Jl(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ec(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Xl(a);l.call(e)}}vl((function(){Jl(t,a,e,i)}))}return Xl(a)}Ks=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Ma=!0;else{if(!(n&r)){switch(Ma=!1,t.tag){case 3:Ka(t),Yo();break;case 5:Fo(t);break;case 1:mi(t.type)&&bi(t);break;case 4:To(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return n&t.child.childLanes?Xa(e,t,n):(ci(No,1&No.current),null!==(t=ns(e,t,n))?t.sibling:null);ci(No,1&No.current);break;case 19:if(r=!!(n&t.childLanes),64&e.flags){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(No,No.current),r)break;return null;case 23:case 24:return t.lanes=0,La(e,t,n)}return ns(e,t,n)}Ma=!!(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,hi.current),ro(t,n),i=oa(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ao(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&mo(t,r,s,e),i.updater=go,t.stateNode=i,i._reactInternals=t,ko(t,r,e,n),t=Va(null,t,r,!0,o,n)}else t.tag=0,Na(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return zl(e)?1:0;if(null!=e){if((e=e.$$typeof)===P)return 11;if(e===T)return 14}return 2}(i),e=Gi(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=Ua(null,t,i,e,n);break e;case 11:t=Ia(null,t,i,e,n);break e;case 14:t=ja(null,t,i,Gi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 3:if(Ka(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,so(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===i)Yo(),t=ns(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Ho=Yr(t.stateNode.containerInfo.firstChild),jo=t,o=Lo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],$o.push(o);for(n=Ao(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Na(e,t,r,n),Yo();t=t.child}return t;case 5:return Fo(t),null===e&&Uo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),qa(e,t),Na(e,t,s,n),t.child;case 6:return null===e&&Uo(t),null;case 13:return Xa(e,t,n);case 4:return To(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Eo(t,null,r,n):Na(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 7:return Na(e,t,t.pendingProps,n),t.child;case 8:case 12:return Na(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ci(Ji,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0==(o=lr(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!pi.current){t=ns(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&u.observedBits&o){1===l.tag&&((u=lo(-1,n&-n)).tag=2,co(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),no(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Na(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,ro(t,n),r=r(i=io(i,o.unstable_observedBits)),t.flags|=1,Na(e,t,r,n),t.child;case 14:return o=Gi(i=t.type,t.pendingProps),ja(e,t,i,o=Gi(i.type,o),r,n);case 15:return Ha(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,ro(t,n),vo(t,r,i),ko(t,r,i,n),Va(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return La(e,t,n)}throw Error(a(156,t.tag))},ec.prototype.render=function(e){Jl(e,this._internalRoot,null,null)},ec.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Jl(null,e,null,(function(){t[Qr]=null}))},Ze=function(e){13===e.tag&&(hl(e,4,cl()),Zl(e,4))},et=function(e){13===e.tag&&(hl(e,67108864,cl()),Zl(e,67108864))},tt=function(e){if(13===e.tag){var t=cl(),n=ul(e);hl(e,n,t),Zl(e,n)}},nt=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ri(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Te=yl,Be=function(e,t,n,r,i){var o=Ps;Ps|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Ps=o)&&(Vs(),Yi())}},Fe=function(){!(49&Ps)&&(function(){if(null!==tl){var e=tl;tl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,dl(e,qi())}))}Yi()}(),Tl())},Me=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Vs(),Yi())}};var rc={findFiberByHostInstance:ei,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=function(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{wi=oc.inject(ic),xi=oc}catch(me){}}t.render=function(e,t,n){if(!tc(t))throw Error(a(200));return nc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!tc(e))throw Error(a(40));return!!e._reactRootContainer&&(vl((function(){nc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qr]=null}))})),!0)},t.unstable_batchedUpdates=yl},8568:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4392)},1808:(e,t,n)=>{"use strict";var r=n(3865),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var p="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,r(b,g.prototype),b.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:k.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===r?"."+A(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),D(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+A(s=e[c],c);l+=D(s,t,n,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=D(s=s.value,t,n,u=r+A(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function C(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function O(){var e=R.current;if(null===e)throw Error(d(321));return e}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)w.call(t,u)&&!x.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},8281:(e,t,n)=>{"use strict";e.exports=n(1808)},5160:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,w=k.port2;k.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+v;try{g(!0,e)?w.postMessage(null):(m=!1,g=null)}catch(e){throw w.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,w.postMessage(null))},r=function(e,n){y=p((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>E(a,n))void 0!==l&&0>E(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>E(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],D=[],C=1,P=null,R=3,O=!1,T=!1,B=!1;function F(e){for(var t=_(D);null!==t;){if(null===t.callback)S(D);else{if(!(t.startTime<=e))break;S(D),t.sortIndex=t.expirationTime,x(A,t)}t=_(D)}}function M(e){if(B=!1,F(e),!T)if(null!==_(A))T=!0,n(N);else{var t=_(D);null!==t&&r(M,t.startTime-e)}}function N(e,n){T=!1,B&&(B=!1,i()),O=!0;var o=R;try{for(F(n),P=_(A);null!==P&&(!(P.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=P.callback;if("function"==typeof a){P.callback=null,R=P.priorityLevel;var s=a(P.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?P.callback=s:P===_(A)&&S(A),F(n)}else S(A);P=_(A)}if(null!==P)var l=!0;else{var c=_(D);null!==c&&r(M,c.startTime-n),l=!1}return l}finally{P=null,R=o,O=!1}}var I=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){T||O||(T=!0,n(N))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return _(A)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=I,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,x(D,e),null===_(A)&&e===_(D)&&(B?i():B=!0,r(M,a-s))):(e.sortIndex=l,x(A,e),T||O||(T=!0,n(N))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},9551:(e,t,n)=>{"use strict";e.exports=n(5160)},6205:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,"@keyframes BQ17ZrvUvJv2EmJ3xR4q {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(-40px);\n    opacity: 0;\n  }\n}\n.kIJ6MxYKO3zbd_X1kUvz {\n  position: fixed;\n  background-color: rgba(0, 0, 0, 0.5);\n  border: solid 1px #fff;\n  top: 45%;\n  left: 20%;\n  right: 20%;\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  pointer-events: none;\n  animation-duration: 1.5s;\n  animation-iteration-count: 1;\n  animation-name: BQ17ZrvUvJv2EmJ3xR4q;\n}\n.LD93Xy2x2YUm6VOT5wRj {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.gjny_zLz_aeH26Ga7GUS {\n  border-radius: 4px;\n  margin: 0 40px;\n  padding: 12px 20px 0;\n  background-color: #fff;\n  color: black;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  min-width: 200px;\n}\n.OphXouP8zk6xgCSE603z {\n  text-align: center;\n  font-weight: 600;\n  font-size: 16px;\n  margin-bottom: 8px;\n}\n.he06bAr41RZxeiz_S4Ab {\n  font-size: 14px;\n  margin-bottom: 4px;\n  text-align: center;\n  white-space: pre-line;\n}\n.YjnFWqThaMPBxSydSG1m {\n  margin-top: 8px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  border-top: solid 1px #ccc;\n  margin-left: -20px;\n  margin-right: -20px;\n}\n.YjnFWqThaMPBxSydSG1m > button + button {\n  margin-left: 8px;\n}\n.aJ251UwDdgth0PLrpJog {\n  flex: 1;\n  color: #218bff;\n  line-height: 48px;\n  height: 48px;\n  text-align: center;\n}\n",""]),a.locals={toast:"kIJ6MxYKO3zbd_X1kUvz",fadeout:"BQ17ZrvUvJv2EmJ3xR4q",mask:"LD93Xy2x2YUm6VOT5wRj",modal:"gjny_zLz_aeH26Ga7GUS",title:"OphXouP8zk6xgCSE603z",message:"he06bAr41RZxeiz_S4Ab",buttonList:"YjnFWqThaMPBxSydSG1m",button:"aJ251UwDdgth0PLrpJog"};const s=a},8451:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".I9SLBnA0mre92xxMM54e {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n}\n",""]),a.locals={root:"I9SLBnA0mre92xxMM54e"};const s=a},5041:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".HcdjZ8BSHyDkKnHMhPiv {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.xPtMPc5p8Rf7RyOnk3BL {\n  padding: 4px 12px;\n  font-size: 14px;\n  border-radius: 24px;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  pointer-events: all;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n.xPtMPc5p8Rf7RyOnk3BL.LFfGKQlWXeXCNwjQVhtq {\n  opacity: 1;\n}\n",""]),a.locals={root:"HcdjZ8BSHyDkKnHMhPiv",container:"xPtMPc5p8Rf7RyOnk3BL",visible:"LFfGKQlWXeXCNwjQVhtq"};const s=a},9982:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".KczqvVkYkfEtfukRRkMO {\n  flex-direction: row;\n  height: 5px;\n}\n.YCYifLjfImTPCYLav4q4 {\n  flex: 1;\n  justify-content: 'center';\n  padding: 0 1px;\n}\n.oEPOsv7EHQlcZOeaJ40r {\n  flex: 1;\n}\n",""]),a.locals={container:"KczqvVkYkfEtfukRRkMO",content:"YCYifLjfImTPCYLav4q4",point:"oEPOsv7EHQlcZOeaJ40r"};const s=a},1062:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".dY2ogKWrE7BLEd7UQca6 {\n  height: 2px;\n  border-radius: 1px;\n  margin: 2px 0;\n  flex-direction: row;\n}\n.J50pX9okEF_o5wwJjynE {\n  height: 2px;\n  border-radius: 1px;\n}\n",""]),a.locals={container:"dY2ogKWrE7BLEd7UQca6",round:"J50pX9okEF_o5wwJjynE"};const s=a},2856:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".F8xFKd2hNJvII5GjnTtn {\n  background: rgba(255, 255, 255, 0.2);\n  color: #fff;\n  border: solid 1px #fff;\n  padding: 2px 4px;\n  cursor: pointer;\n  margin: 4px 0;\n  outline: none;\n  border-radius: 4px;\n  -webkit-tap-highlight-color: transparent;\n  flex-shrink: 0;\n}\n.F8xFKd2hNJvII5GjnTtn:active,\n.F8xFKd2hNJvII5GjnTtn:focus {\n  background: rgba(255, 255, 255, 0.4);\n}\n.F8xFKd2hNJvII5GjnTtn[disabled] {\n  opacity: 0.5;\n}\n.F8xFKd2hNJvII5GjnTtn[disabled]:active,\n.F8xFKd2hNJvII5GjnTtn[disabled]:focus {\n  background: rgba(255, 255, 255, 0.2);\n}\n.F8xFKd2hNJvII5GjnTtn.IlguGvvtNpDTzPOPVkn8 {\n  padding: 4px 8px;\n  margin: 6px 0;\n}\n.lORCJ6lVACUYhdkg5FEx {\n  border: solid 1px #aaaaff;\n  background: rgba(170, 170, 255, 0.2);\n}\n.GH97eGTbRwlHEuLOuWSQ {\n  border: solid 1px #ffaaaa;\n  background: rgba(255, 170, 170, 0.2);\n}\n.GH97eGTbRwlHEuLOuWSQ:active,\n.GH97eGTbRwlHEuLOuWSQ:focus {\n  background: rgba(255, 170, 170, 0.4);\n}\n.XzcKDKEC29X4nYvUZ4M3 {\n  background: transparent;\n  border-style: dashed;\n}\n",""]),a.locals={button:"F8xFKd2hNJvII5GjnTtn",large:"IlguGvvtNpDTzPOPVkn8",primary:"lORCJ6lVACUYhdkg5FEx",error:"GH97eGTbRwlHEuLOuWSQ",ghost:"XzcKDKEC29X4nYvUZ4M3"};const s=a},5399:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".GUrN_PBSetaMNJHSjM0h {\n  position: relative;\n  display: block;\n}\n.GUrN_PBSetaMNJHSjM0h > .GUrN_PBSetaMNJHSjM0h {\n  display: inline;\n}\n.ntqV2eUALSHU0QUCgxfF {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  /* number of lines to show */\n  line-clamp: 1;\n}\n.uDkPMxmBF1S317oI5sS0 {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  /* number of lines to show */\n  line-clamp: 2;\n}\n.BE_hiYF3oZllDWsczHXw {\n  display: flex;\n  position: relative;\n}\n.J9v_FsVYuCam9sxs_Luu {\n  position: relative;\n  display: flex;\n  opacity: 1;\n  transition: opacity 0.3s;\n  cursor: pointer;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-tap-highlight-color: transparent;\n  user-select: none;\n  -webkit-user-select: none;\n  -webkit-touch-callout: none;\n}\n.J9v_FsVYuCam9sxs_Luu.QlXokyqN4lRuJm2AJ95j:active {\n  opacity: 1;\n}\n.J9v_FsVYuCam9sxs_Luu:active {\n  opacity: 0.7;\n}\n.FqdF61nBU7urKUqPV8rW {\n  overflow-y: scroll;\n  flex: 1;\n}\n.chlbG5_ihBUNgqYuFsDh {\n  display: flex;\n  flex-direction: column;\n}\n.OZUnEBYmfTIxNeAksrQL {\n  overflow-x: scroll;\n  flex: 1;\n}\n.by81FUdqNnJlih2xUzDz {\n  display: flex;\n  flex-direction: row;\n}\n.MC5vPLIHiX0_9thesQNR {\n  -webkit-overflow-scrolling: touch;\n}\n",""]),a.locals={text:"GUrN_PBSetaMNJHSjM0h",numberOfLine1:"ntqV2eUALSHU0QUCgxfF",numberOfLine2:"uDkPMxmBF1S317oI5sS0",view:"BE_hiYF3oZllDWsczHXw",touchable:"J9v_FsVYuCam9sxs_Luu",disabled:"QlXokyqN4lRuJm2AJ95j",scrollView:"FqdF61nBU7urKUqPV8rW",scrollViewContent:"chlbG5_ihBUNgqYuFsDh",scrollViewH:"OZUnEBYmfTIxNeAksrQL",scrollViewContentH:"by81FUdqNnJlih2xUzDz",bounce:"MC5vPLIHiX0_9thesQNR"};const s=a},5316:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".BR9aSrU2wvojn_UspwXQ {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  border: solid 1px #ddd;\n  border-radius: 2px;\n  padding: 0;\n}\n.vKbl_sDw_IrE_lpHRbfG {\n  flex: 1 1 0;\n  margin: 2px 4px;\n  height: 26px;\n  background-color: transparent;\n  border: none;\n  color: #000;\n  outline: none;\n}\n.vKbl_sDw_IrE_lpHRbfG::placeholder {\n  color: #999;\n}\n.j5vKXZLWnl4Y45QQgwiW {\n  flex: 1 1 0;\n  margin: 2px 4px;\n  min-height: 124px;\n  background-color: transparent;\n  border: none;\n  color: #fff;\n  outline: none;\n}\n.j5vKXZLWnl4Y45QQgwiW::placeholder {\n  color: #999;\n}\n.u_cytOjWUQTsPjDgdFq1 {\n  text-align: center;\n}\n.PhGwne7K6Jw3GhjBBuJh {\n  width: 30px;\n  height: 30px;\n  text-align: center;\n  line-height: 30px;\n  color: #000;\n  margin: 0 !important;\n  border: solid 1px #999 !important;\n  border-radius: 5px !important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.hDUaqwJswV87ZOWBkiBr {\n  width: 30px;\n  height: 30px;\n  font-size: 30px;\n  line-height: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n}\n.hDUaqwJswV87ZOWBkiBr.kp8e1S10nrhxzueWuBMX {\n  color: #555;\n}\n",""]),a.locals={container:"BR9aSrU2wvojn_UspwXQ",input:"vKbl_sDw_IrE_lpHRbfG",textArea:"j5vKXZLWnl4Y45QQgwiW",inputNum:"u_cytOjWUQTsPjDgdFq1",btn:"PhGwne7K6Jw3GhjBBuJh",clear:"hDUaqwJswV87ZOWBkiBr",disabled:"kp8e1S10nrhxzueWuBMX"};const s=a},8297:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".vcYAEXhz37cMc9v0IMb5 {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  overflow: hidden;\n}\n.z3raWKG05xRLXh9vp3de {\n  display: flex;\n  flex-direction: row;\n}\n.aC2QGVrnWSC0zks2YaEK {\n  flex: 1;\n  border-bottom: solid 2px transparent;\n  height: 32px;\n  line-height: 32px;\n  padding: 2px 10px;\n  text-align: center;\n}\n.aC2QGVrnWSC0zks2YaEK.z2x5M2q73yKJQp4Ha7UE {\n  border-color: blue;\n  color: blue;\n}\n.BR3W4DCNPJwpo6o0st8r {\n  display: flex;\n  flex-direction: row;\n  transition: transform 0.3s;\n  overflow: visible;\n  flex: 1;\n  height: 0;\n}\n.KutF8ovoRzrkZm93sopp {\n  min-width: 100vw;\n  display: flex;\n  flex: 1;\n}\n",""]),a.locals={root:"vcYAEXhz37cMc9v0IMb5",tabs:"z3raWKG05xRLXh9vp3de",tab:"aC2QGVrnWSC0zks2YaEK",active:"z2x5M2q73yKJQp4Ha7UE",container:"BR3W4DCNPJwpo6o0st8r",content:"KutF8ovoRzrkZm93sopp"};const s=a},6626:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,"html,\nbody {\n  height: 100%;\n  margin: 0;\n}\n.AS56vztoR2wAn3uZJJpB {\n  height: 100%;\n  display: flex;\n}\n* {\n  flex-direction: column;\n  overflow: hidden;\n}\n*::-webkit-scrollbar {\n  display: none;\n}\n",""]),a.locals={root:"AS56vztoR2wAn3uZJJpB"};const s=a},5975:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".OnAJoPhHctIqKSwtUgyG {\n  font-weight: 600;\n  font-size: 15px;\n}\n.Oagme2GLld1hqmV3_BgB {\n  color: #fb2400;\n}\n.sw7Af6SUNSkasF9htnZV {\n  color: #0005ff;\n}\n.vrBiDdN70Mnq4UT8lVWt {\n  color: #3eec2f;\n}\n.QfOgA3RqBoI6_j8Kekey {\n  color: #7799ff;\n}\n",""]),a.locals={crit:"OnAJoPhHctIqKSwtUgyG",campPlayer:"Oagme2GLld1hqmV3_BgB",campOther:"sw7Af6SUNSkasF9htnZV",recovery:"vrBiDdN70Mnq4UT8lVWt",rebornIn:"QfOgA3RqBoI6_j8Kekey"};const s=a},3107:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".oYvitkkO_9PoObljFu3y {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n}\n.DaaOIDznZWlUa_V94ok_ {\n  height: 44px;\n  background-color: blue;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 70px;\n}\n.SwHr84JFeTOIEua4KFDT {\n  color: white;\n  font-size: 20px;\n}\n.oUBVbdRrJcyBBOD7Co0D {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  padding: 0 15px;\n  justify-content: center;\n  align-items: center;\n}\n.rPU8rXKgQAFk4gW9k3iK {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding: 0 15px;\n  justify-content: center;\n  align-items: center;\n}\n.JRm_WkUBrS2LaUjpgznH {\n  color: white;\n  font-size: 15;\n}\n",""]),a.locals={container:"oYvitkkO_9PoObljFu3y",navBar:"DaaOIDznZWlUa_V94ok_",title:"SwHr84JFeTOIEua4KFDT",left:"oUBVbdRrJcyBBOD7Co0D",right:"rPU8rXKgQAFk4gW9k3iK",button:"JRm_WkUBrS2LaUjpgznH"};const s=a},8874:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".Yj51uh_Zg2h5cAkpsR2X {\n  flex: 1;\n  background-color: white;\n}\n.wBtYblyx3184SjlT4fYU {\n  border-bottom: solid 1px #999;\n  flex-direction: row;\n  align-items: center;\n  height: 80px;\n}\n.fxcOLzi9rwjlAni2jIpF {\n  flex: 3;\n}\n.j3ZxRh2gkyV9ctCOltFP {\n  font-size: 18px;\n  text-align: center;\n  flex: 1.5;\n}\n.okkfwBe8ajWBFt6nVZH0 {\n  font-size: 14px;\n}\n.jRSzeVzwbO7fz7yTeCtP {\n  font-size: 12px;\n}\n.mY0MZjSfQHlb5ykJs6q4 {\n  justify-content: center;\n  align-items: center;\n}\n._k37EcYPtChDDVdVuhck {\n  font-size: 14px;\n  text-decoration-line: line-through;\n  color: #999;\n}\n",""]),a.locals={container:"Yj51uh_Zg2h5cAkpsR2X",item:"wBtYblyx3184SjlT4fYU",column:"fxcOLzi9rwjlAni2jIpF",title:"j3ZxRh2gkyV9ctCOltFP",price:"okkfwBe8ajWBFt6nVZH0",desc:"jRSzeVzwbO7fz7yTeCtP",center:"mY0MZjSfQHlb5ykJs6q4",deleteLine:"_k37EcYPtChDDVdVuhck"};const s=a},9998:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".pq5Zgxh7J2vcs5ZePuL5 {\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  background-color: white;\n}\n",""]),a.locals={container:"pq5Zgxh7J2vcs5ZePuL5"};const s=a},6181:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".xF0vW43UbdBIIrNZuAqd {\n  flex: 1;\n  flex-direction: column;\n  background-color: white;\n  padding-bottom: calc(60px + constant(safe-area-inset-bottom));\n  padding-bottom: calc(60px + env(safe-area-inset-bottom));\n}\n.iL1ZX8ZyQSH1QqwVE7_M {\n  flex: 1;\n}\n.B6I8h02h2FsM93coMmvi {\n  position: fixed;\n  flex-direction: row;\n  bottom: 0;\n  width: 100%;\n  height: 60px;\n  padding-bottom: constant(safe-area-inset-bottom);\n  padding-bottom: env(safe-area-inset-bottom);\n  border-top: solid 1px #ccc;\n  background-color: white;\n}\n.jI6ardiPJhXm7dj8bYgr {\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n}\n.iRYKWIU4NYIbzCIimMJC {\n  color: blue;\n}\n",""]),a.locals={container:"xF0vW43UbdBIIrNZuAqd",content:"iL1ZX8ZyQSH1QqwVE7_M",tabBar:"B6I8h02h2FsM93coMmvi",button:"jI6ardiPJhXm7dj8bYgr",active:"iRYKWIU4NYIbzCIimMJC"};const s=a},6360:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".OrwHmvL1xvBHVT2yoHfm {\n  flex: 1;\n}\n.xTNRImjvGRVikNPWd0wf {\n  justify-content: center;\n  align-items: center;\n}\n.LioWCPWHPrW_6rBvvXLW {\n  margin-top: 20px;\n  color: blue;\n}\n._mQtQTXA9sjEMQWU6Vmt {\n  height: 180px;\n}\n",""]),a.locals={container:"OrwHmvL1xvBHVT2yoHfm",centerContainer:"xTNRImjvGRVikNPWd0wf",skipFoward:"LioWCPWHPrW_6rBvvXLW",scrollview:"_mQtQTXA9sjEMQWU6Vmt"};const s=a},549:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".iKTWzSOG_zk4MBUx8862 {\n  width: 100vw;\n  flex: 1;\n}\n.n5uxuZl61nmyq9yNt1O9 {\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n}\n.torksx9RFo5kxRKuPn5i {\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n}\n.IbEPHlXLuwu6l5ZLmEAQ {\n  margin: 5px;\n  padding: 5px 10px;\n  border: solid 1px #000;\n  border-radius: 5px;\n}\n.kIqeXQrSY26h8JutqaOH {\n  font-size: 14px;\n}\n.RFuwqryAfOQxsRbE7fd0 {\n  border-color: blue;\n  background-color: white;\n}\n.MG5Abrq4iifloviLSTLW {\n  color: blue;\n}\n.jBO70hCSAWA1ZGj7l4zK {\n  border-color: blue;\n  background-color: blue;\n}\n.C9DExtcgMUudla4BwBqz {\n  color: white;\n}\n.iWvgROQbLcv85ERFvH2p {\n  width: 100vw;\n  padding: 5px;\n  background-color: #ddf;\n}\n.wLWKzy800Dsd9s1jQXui {\n  color: #330;\n  font-size: 16px;\n}\n.XJgLy3hzQVQTlvFJZMJq {\n  width: 100vw;\n  padding: 2px 5px;\n  flex-direction: row;\n}\n.QmaUpxaqInthXLYqSz19 {\n  width: 25px;\n}\n.q9Xq0eEhFysZtU_b2pAq {\n  font-size: 14px;\n}\n.NITO963yJWAZ5XMcGegB {\n  font-size: 12px;\n}\n",""]),a.locals={panel:"iKTWzSOG_zk4MBUx8862",panelContent:"n5uxuZl61nmyq9yNt1O9",endlessGroup:"torksx9RFo5kxRKuPn5i",option:"IbEPHlXLuwu6l5ZLmEAQ",label:"kIqeXQrSY26h8JutqaOH",optionPending:"RFuwqryAfOQxsRbE7fd0",labelPending:"MG5Abrq4iifloviLSTLW",optionActive:"jBO70hCSAWA1ZGj7l4zK",labelActive:"C9DExtcgMUudla4BwBqz",section:"iWvgROQbLcv85ERFvH2p",sectionTitle:"wLWKzy800Dsd9s1jQXui",phase:"XJgLy3hzQVQTlvFJZMJq",phaseState:"QmaUpxaqInthXLYqSz19",phaseLabel:"q9Xq0eEhFysZtU_b2pAq",cooldownCount:"NITO963yJWAZ5XMcGegB"};const s=a},1180:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".bf1FkSG2sfgndD2DVGBf {\n  width: 100vw;\n  padding: 5px;\n  flex: 1;\n}\n.cV0WUTYmS3V_jmDmEASP {\n  font-size: 18px;\n  margin-right: 20px;\n}\n.LAzplDVtaR_y5ZQLjGZk {\n  flex-direction: row;\n}\n.LclIXb3NJ5dRiHdrpwsB {\n  height: 12px;\n}\n.v7zHAE2VDhih1cvNvMz8 {\n  flex: 1;\n  flex-direction: column;\n  padding: 5px;\n  line-height: 22px;\n}\n.W7Cq22XMxe0FDg72Spvd {\n  color: 'blue';\n}\n",""]),a.locals={panel:"bf1FkSG2sfgndD2DVGBf",name:"cV0WUTYmS3V_jmDmEASP",row:"LAzplDVtaR_y5ZQLjGZk",seperator:"LclIXb3NJ5dRiHdrpwsB",column:"v7zHAE2VDhih1cvNvMz8",blue:"W7Cq22XMxe0FDg72Spvd"};const s=a},7373:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".pPcjGhL1jPxJY5AyTIeN {\n  flex: 1;\n  overflow: hidden;\n}\n.s40KJGrItX5gdLFsOOyK {\n  width: 100vw;\n  height: 180px;\n  flex: 0;\n  flex-basis: 30vh;\n}\n.zuapUy8k5ZPwDyB9xPMF {\n  flex: 1;\n}\n.uhkO5Pz1BHSV00YnMZhQ {\n  flex: 1;\n  align-self: stretch;\n}\n.ETNpGVE5wKvt2y6PrJ6A {\n  align-items: flex-start;\n  padding: 5px;\n}\n.S8V3YNBsWVBAPiKG24l9 {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.eaRwuUmuTFbz67IKqDe0 {\n  width: 20vw;\n  height: 76px;\n  padding: 5px;\n}\n.PaKxywdIshHEbVNB_4LQ {\n  background-color: #ddd;\n}\n.ijwBwF4_01OW_FGWaug1 {\n  background-color: #79f;\n}\n.FrhCnSApZs4zoFD65EdQ {\n  background-color: #acf;\n}\n.wkJwAwy19LCfu3rlt9ZG {\n  background-color: #ff0;\n}\n.T01UJpJinfDOqXuah2Om {\n  background-color: #f97;\n}\n.jyjRJnSCJQULYHh2jJAs {\n  background-color: #0ff;\n}\n._8L2zWpAFrq82FQ7FDrAf {\n  margin: 3px 0;\n}\n.QNppfy2htfv4K6AhWHwU {\n  font-size: 12px;\n}\n.e0jy8aG_A7DwdDPJSvJD {\n  font-size: 12px;\n}\n.yNhuNbeyuLitAEPghGa7 {\n  font-size: 12px;\n  text-align: center;\n}\n",""]),a.locals={container:"pPcjGhL1jPxJY5AyTIeN",panel:"s40KJGrItX5gdLFsOOyK",spacer:"zuapUy8k5ZPwDyB9xPMF",messageList:"uhkO5Pz1BHSV00YnMZhQ",content:"ETNpGVE5wKvt2y6PrJ6A",panelContent:"S8V3YNBsWVBAPiKG24l9",unit:"eaRwuUmuTFbz67IKqDe0",unitGhost:"PaKxywdIshHEbVNB_4LQ",unitPlayer:"ijwBwF4_01OW_FGWaug1",unitAlien:"FrhCnSApZs4zoFD65EdQ",unitNeutral:"wkJwAwy19LCfu3rlt9ZG",unitEnemy:"T01UJpJinfDOqXuah2Om",unitShrine:"jyjRJnSCJQULYHh2jJAs",bar:"_8L2zWpAFrq82FQ7FDrAf",target:"QNppfy2htfv4K6AhWHwU",name:"e0jy8aG_A7DwdDPJSvJD",casting:"yNhuNbeyuLitAEPghGa7"};const s=a},1723:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".vLJ8P7NAvLlAcdoz4P4Y {\n  flex: 1;\n  background-color: white;\n}\n.zUpLur_sfK62aJRqwibS {\n  border-bottom: solid 1px #999;\n  padding: 0 5px;\n}\n.VAXilp1Zp3bxOuEhA9TU {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n}\n.kJv58U6fUlxCLKspbUrQ {\n  width: 150px;\n  font-size: 24px;\n}\n.GYVHw72dAG3cH11g5sDX {\n  flex: 1;\n}\n",""]),a.locals={container:"vLJ8P7NAvLlAcdoz4P4Y",careerItem:"zUpLur_sfK62aJRqwibS",main:"VAXilp1Zp3bxOuEhA9TU",name:"kJv58U6fUlxCLKspbUrQ",spacer:"GYVHw72dAG3cH11g5sDX"};const s=a},4077:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".wQi6mYG4lXcQR2aTqe8F {\n  flex: 1;\n  background-color: white;\n}\n.v91KEwpRovn8tFujtmz5 {\n  height: 100px;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n}\n.xQzh3vqRQW0MIiyKqfIj {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.OtF4amq_iIi5ZiX_4c30 {\n  font-size: 32px;\n}\n.jt6l2_EhEhQ_QBWX7bAI {\n  border-bottom: solid 1px #999;\n  padding: 0 5px;\n}\n.NeeCm2JMCVVR3Wd3fVDl {\n  background-color: #aaa;\n}\n.Sa3aCTSv8o17KUM8rO4_ {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n}\n.Xuvt0vWqEsFM4Vc7yyAg {\n  width: 290px;\n  font-size: 24px;\n}\n._e2f_l3V_K9Ft_9fj4wu {\n  flex: 1;\n}\n",""]),a.locals={container:"wQi6mYG4lXcQR2aTqe8F",selectedList:"v91KEwpRovn8tFujtmz5",selectedEnhance:"xQzh3vqRQW0MIiyKqfIj",order:"OtF4amq_iIi5ZiX_4c30",enhanceItem:"jt6l2_EhEhQ_QBWX7bAI",enhanceItemDisabled:"NeeCm2JMCVVR3Wd3fVDl",enhanceItemMain:"Sa3aCTSv8o17KUM8rO4_",enhanceName:"Xuvt0vWqEsFM4Vc7yyAg",spacer:"_e2f_l3V_K9Ft_9fj4wu"};const s=a},8945:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".SVm3rQPLuK2RwUXto5qY {\n  flex: 1;\n}\n.frUpNJ5iDM7RWKGlxlLg {\n  height: 100px;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n}\n.TzvQKJtI8LC3hGqhhEwt {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.kvGr0shV5ty4m0iXbYQt {\n  font-size: 32px;\n}\n.UYrtmruOvXX7iIn2dxZk {\n  border-bottom: solid 1px #999;\n  padding: 0 5px;\n}\n.whT6E2gx9jFanHV9lvFI {\n  background-color: #aaa;\n}\n.YmwTjwvSfrulJopyTX39 {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n}\n.BrUc3SnraONQCnTmcDB5 {\n  width: 180px;\n  font-size: 24px;\n}\n.vkJVWNMaa6LvUFeETOYY {\n  margin-right: 20px;\n  white-space: pre-line;\n}\n.S6WFs2ZFNwJqOsWza6yO {\n  flex-direction: row;\n  margin-bottom: 5px;\n}\n.Mwjj5mW8d8B6u52hU3lA {\n  flex: 1;\n}\n",""]),a.locals={container:"SVm3rQPLuK2RwUXto5qY",selectedList:"frUpNJ5iDM7RWKGlxlLg",selectedSkill:"TzvQKJtI8LC3hGqhhEwt",order:"kvGr0shV5ty4m0iXbYQt",skillItem:"UYrtmruOvXX7iIn2dxZk",skillItemDisabled:"whT6E2gx9jFanHV9lvFI",skillItemMain:"YmwTjwvSfrulJopyTX39",skillName:"BrUc3SnraONQCnTmcDB5",textMargin:"vkJVWNMaa6LvUFeETOYY",row:"S6WFs2ZFNwJqOsWza6yO",spacer:"Mwjj5mW8d8B6u52hU3lA"};const s=a},762:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".MZIe90qfJKDwaOOknLTm {\n  flex: 1;\n  background-color: white;\n}\n.MAGaCmpwfW5L3y2FFfIw {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.dVmvOFrzC7kPB5UYA7Rj {\n  flex: 1;\n}\n.sV4FLeXPjIz1Z3Js6aWR {\n  flex: 2;\n}\n",""]),a.locals={container:"MZIe90qfJKDwaOOknLTm",content:"MAGaCmpwfW5L3y2FFfIw",flex1:"dVmvOFrzC7kPB5UYA7Rj",flex2:"sV4FLeXPjIz1Z3Js6aWR"};const s=a},8434:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".hVjlAO21xUsU8i1Vy0k7 {\n  flex: 1;\n}\n.dddvPnAVjEn1Lpv0FWLS {\n  flex: 1;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.CYSSVCs4WD7qCNE9fdYU {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.x6VhZhlq6RETKsey8lB8 {\n  width: 50vw;\n  height: 45px;\n}\n.tn_As1cJ__50VnqTpWaH {\n  width: 100vw;\n  height: 45px;\n}\n.fC_NHj3sGMYxx9cVJxSR {\n  margin: 5px;\n  border-width: solid 0.5px #999;\n  border-radius: 5px;\n  background-color: #aacaff;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n}\n._L9gSDmpqvb6SWiKWClS {\n  width: 16.6vw;\n  height: 16.6vw;\n}\n._DBRCGty2nON8PgyOzqX {\n  flex: 1;\n  margin: 5px;\n  border: solid 1px #999;\n  border-radius: 5px;\n  justify-content: center;\n  align-items: center;\n}\n.akvqIP1pA_UAFMSIxlQ9 {\n  margin: 3px;\n  border: solid 1px blue;\n}\n.j01V48P3B313HXNt5tBp {\n  position: absolute;\n  right: 8px;\n  bottom: 8px;\n  color: blue;\n  background-color: transparent;\n}\n.C4RrusRy7_fPNmLAx00T {\n  height: 260px;\n  padding: 5px;\n}\n.CaVV5wY4nk0HLL7KVxbA {\n  font-size: 20px;\n}\n.d9VBJ0uTLEr4MIdfbgow {\n  font-size: 16px;\n}\n.spw3VuuNKstfyBFzKoNU {\n  font-size: 14px;\n}\n.uedaadHakGQ9aA3_lB92 {\n  font-size: 14px;\n}\n.AINtbOtux6MB1KjJcsCW {\n  flex-direction: row;\n  align-items: flex-end;\n}\n.HwI01OGqatQADahDs35g {\n  flex-direction: row;\n  align-items: flex-start;\n  height: 100px;\n}\n._csphQsNarIMipbhmF_N {\n  flex-direction: row;\n  align-items: flex-start;\n  right: 0px;\n  top: 0px;\n}\n.JZ1nlDcktcxRcY1H8i4N {\n  flex-direction: row;\n  align-items: flex-start;\n  top: 0px;\n  right: 0px;\n}\n.Sn5KQKkNEbBWyso6YjWr {\n  flex-direction: row;\n  align-items: flex-start;\n  width: 49vw;\n  height: 145px;\n}\n.Z3K7417Iy2s8jgvvpDGw {\n  flex-direction: row;\n  align-items: flex-start;\n  height: 198px;\n  white-space: pre-line;\n}\n.h3H7QcRXYun6phC04igH {\n  align-items: flex-end;\n}\n.pesEu9KpuQbN34Iwzudi {\n  flex-direction: reverse;\n  align-items: flex-end;\n}\n.CRMoFdPeYMdWbuLefpSu {\n  flex-direction: row;\n  align-items: center;\n}\n.dvEQoiWK1blmDgL75cIr {\n  flex: 1;\n  white-space: pre-line;\n}\n.hXCLrGOewttoVOKYl9NX {\n  flex: 1;\n  width: 50px;\n  white-space: pre-line;\n  flex-direction: row;\n}\n.ePsxE9HPsGxfNuFPxwRg {\n  color: blue;\n  white-space: pre-line;\n}\n.aujsVhiXnC20As5i7asU {\n  color: green;\n}\n.xkK8peVkSKYBVBuW9diR {\n  margin-left: 5px;\n  border: solid 0.5px #999;\n  border-radius: 4px;\n  padding: 4px 10px;\n  align-items: center;\n  justify-content: center;\n}\n.H0ugBqk5YfTf5_Dpb2W0 {\n  background-color: #ccc;\n}\n.ygbWwvROyvHy0O62grL1 {\n  background-color: #fff;\n}\n.OkGDp6Mcnqb_LLUZWFel {\n  background-color: #aaf;\n}\n.fwzxPxQhHo9BRqUQlZJH {\n  background-color: #ffa;\n}\n.IPD7k735ofEafcABan2w {\n  background-color: #fda;\n}\n.uxNP4bYRVzAy73N1JndG {\n  background-color: #afd;\n}\n.MIW039Hz1GiZ88t3Agt9 {\n  background-color: #faf;\n}\n.Y2emSmpEuzEfJmUi78Xc {\n  background-color: #faa;\n}\n.OvaGnrbXfrfQtw_d97Fh {\n  color: #fff;\n}\n.q3hKgcDT3nA6HJE1h2W4 {\n  color: #aaf;\n}\n.YBsNkQ2ApFBxQBuXvtKc {\n  color: #ffa;\n}\n.LErMimVqFYYo3axqy0oR {\n  color: #fda;\n}\n.fkP5Xp2Lx5elP5dv_GFg {\n  color: #afd;\n}\n.jQmhgdIVItWbAWttHBRl {\n  color: #faf;\n}\n.tr1WdPF9OSCE8IeJbTdZ {\n  color: #faa;\n}\n.CWV4gYr_kApFNo79h17l {\n  margin-left: 20px;\n}\n.dvyqfdXFLgTlCiwdD6Hs {\n  margin-left: 0px;\n}\n.huq1ikw4e4bgmwC3pAu0 {\n  margin-left: 0px;\n  color: blue;\n}\n",""]),a.locals={container:"hVjlAO21xUsU8i1Vy0k7",container1:"dddvPnAVjEn1Lpv0FWLS",content:"CYSSVCs4WD7qCNE9fdYU",bigBtn:"x6VhZhlq6RETKsey8lB8",bigBtn2:"tn_As1cJ__50VnqTpWaH",bigBtnContent:"fC_NHj3sGMYxx9cVJxSR",slot:"_L9gSDmpqvb6SWiKWClS",slotContent:"_DBRCGty2nON8PgyOzqX",slotActive:"akvqIP1pA_UAFMSIxlQ9",count:"j01V48P3B313HXNt5tBp",detail:"C4RrusRy7_fPNmLAx00T",detailName:"CaVV5wY4nk0HLL7KVxbA",originName:"d9VBJ0uTLEr4MIdfbgow",detailCount:"spw3VuuNKstfyBFzKoNU",detailPrice:"uedaadHakGQ9aA3_lB92",row:"AINtbOtux6MB1KjJcsCW",row2:"HwI01OGqatQADahDs35g",row3:"_csphQsNarIMipbhmF_N",row4:"JZ1nlDcktcxRcY1H8i4N",row5:"Sn5KQKkNEbBWyso6YjWr",row6:"Z3K7417Iy2s8jgvvpDGw",row7:"h3H7QcRXYun6phC04igH",row8:"pesEu9KpuQbN34Iwzudi",rowCenter:"CRMoFdPeYMdWbuLefpSu",spacer:"dvEQoiWK1blmDgL75cIr",spacer2:"hXCLrGOewttoVOKYl9NX",affix:"ePsxE9HPsGxfNuFPxwRg",legend:"aujsVhiXnC20As5i7asU",button:"xkK8peVkSKYBVBuW9diR",buttonDisabled:"H0ugBqk5YfTf5_Dpb2W0",btnNormal:"ygbWwvROyvHy0O62grL1",btnGood:"OkGDp6Mcnqb_LLUZWFel",btnExcellent:"fwzxPxQhHo9BRqUQlZJH",btnEpic:"IPD7k735ofEafcABan2w",btnLegend:"uxNP4bYRVzAy73N1JndG",btnAcient:"MIW039Hz1GiZ88t3Agt9",btnArtifact:"Y2emSmpEuzEfJmUi78Xc",fontNormal:"OvaGnrbXfrfQtw_d97Fh",fontGood:"q3hKgcDT3nA6HJE1h2W4",fontExcellent:"YBsNkQ2ApFBxQBuXvtKc",fontEpic:"LErMimVqFYYo3axqy0oR",fontLegend:"fkP5Xp2Lx5elP5dv_GFg",fontAcient:"jQmhgdIVItWbAWttHBRl",fontArtifact:"tr1WdPF9OSCE8IeJbTdZ",marginLeft:"CWV4gYr_kApFNo79h17l",marginLeft2:"dvyqfdXFLgTlCiwdD6Hs",marginLeft3:"huq1ikw4e4bgmwC3pAu0"};const s=a},3912:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".o9nAYhsDaBvetns1QgY_ {\n  flex: 1;\n  background-color: white;\n}\n.bW4CFuOdPlI4SfsdpyOx {\n  flex: 1;\n}\n.tfJ9azz0hx9z6aDzIrOL {\n  flex: 2;\n}\n.vwU2jUtljuWlDUtxPup2 {\n  padding: 5px 10px;\n  border-top: solid 1px #999;\n  border-bottom: solid 1px #999;\n  margin: 5px 0;\n}\n.U9REpO1gAhg0Iy2accc0 {\n  font-size: 16px;\n}\n.Xb2HpXS2vBVnRzuFnd67 {\n  margin-bottom: 5px;\n  color: black;\n  height: 20px;\n  width: 40px;\n  padding-top: 2px;\n  text-align: center;\n}\n.D08iU7Hrb0fFf1QhZCZV {\n  padding: 5px 15px;\n  flex-direction: row;\n}\n.YMLHK2gNODs_CJk_iE0A {\n  width: 180px;\n}\n",""]),a.locals={container:"o9nAYhsDaBvetns1QgY_",flex1:"bW4CFuOdPlI4SfsdpyOx",flex2:"tfJ9azz0hx9z6aDzIrOL",header:"vwU2jUtljuWlDUtxPup2",headerFont:"U9REpO1gAhg0Iy2accc0",title:"Xb2HpXS2vBVnRzuFnd67",row:"D08iU7Hrb0fFf1QhZCZV",sliderTitle:"YMLHK2gNODs_CJk_iE0A"};const s=a},3087:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".PEaWLXBXoVRRR7AynIGz {\n  flex-direction: row;\n  flex: 1;\n}\n.CXGF39cvCLF89fJkeAOR {\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  margin: 0 10px;\n  border: solid 1px #999;\n  border-radius: 3px;\n  height: 20px;\n  background-color: white;\n}\n.CXGF39cvCLF89fJkeAOR.PL4BIVe2gVdDDLOQlmRz {\n  background-color: blue;\n}\n.lag6OYJpB0nDamenYdri {\n  color: blue;\n}\n.lag6OYJpB0nDamenYdri.PL4BIVe2gVdDDLOQlmRz {\n  color: white;\n}\n",""]),a.locals={contain:"PEaWLXBXoVRRR7AynIGz",item:"CXGF39cvCLF89fJkeAOR",active:"PL4BIVe2gVdDDLOQlmRz",label:"lag6OYJpB0nDamenYdri"};const s=a},2598:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".eNMPKiIqmuSG7ovfczBd {\n  flex: 1;\n  background-color: white;\n  padding: 10px;\n}\n.Q4_fFIuvIsW8mUfOYjJN {\n  border: solid 1px #999;\n  padding: 10px 15px;\n  border-radius: 5px;\n  border-color: #666;\n  background-color: yellow;\n}\n.s0EoM7nfpHVafA2sBX6A {\n  font-size: 16px;\n  color: #666;\n}\n.QcauvsJU5VE6fIVi5kNA {\n  border: solid 1px #999;\n  padding: 10px 15px;\n  border-radius: 5px;\n  border-color: #666;\n  margin-bottom: 5px;\n}\n.hu53gOzaBoNTmHxhEzfc {\n  flex-direction: row;\n}\n._BOAeHGnlhHOVsqKjMS2 {\n  align-self: flex-start;\n  background-color: red;\n  padding: 10px 15px;\n  align-items: center;\n  justify-content: center;\n  margin-left: 10px;\n  border-radius: 5px;\n}\n.xBPKSzUUDgvSyjQd2lYg {\n  color: white;\n  font-size: 16px;\n}\n.K78odnDfwqYn3EPAP90o {\n  flex: 1;\n}\n",""]),a.locals={container:"eNMPKiIqmuSG7ovfczBd",footer:"Q4_fFIuvIsW8mUfOYjJN",footerLabel:"s0EoM7nfpHVafA2sBX6A",item:"QcauvsJU5VE6fIVi5kNA",row:"hu53gOzaBoNTmHxhEzfc",button:"_BOAeHGnlhHOVsqKjMS2",buttonLabel:"xBPKSzUUDgvSyjQd2lYg",flex:"K78odnDfwqYn3EPAP90o"};const s=a},6155:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".ZY8eMHDDTZT5SspA4tkt {\n  flex: 1;\n  flex-direction: column;\n  background-color: white;\n  padding: 5px;\n}\n.biu51yBsS2RNSNiBMlpt {\n  font-size: 16px;\n  font-weight: bold;\n  padding: 5px;\n  align-self: stretch;\n}\n.IgTGGH6AgGD2gdAVlVt0 {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.lVSYafS9MCPkYnZHC5kZ {\n  margin: 5;\n  padding: 5px 10px;\n  border-width: 1px;\n  border-radius: 5px;\n}\n.uNzwJ3uEXHGn1KqpKi2g {\n  font-size: 14px;\n}\n.pqKM5QplAnQOBAJmO97w {\n  border-color: blue;\n  background-color: blue;\n}\n.kXxikw5cUzlIUZ28Vw_d {\n  color: white;\n}\n.bloC6HD3eJjCvmw8Erq0 {\n  margin: 15px;\n  font-size: 14px;\n  line-height: 18px;\n  white-space: pre-line;\n}\n.jzyLZZz9TmgglqyoCoIw {\n  flex-direction: column;\n}\n",""]),a.locals={container:"ZY8eMHDDTZT5SspA4tkt",title:"biu51yBsS2RNSNiBMlpt",options:"IgTGGH6AgGD2gdAVlVt0",option:"lVSYafS9MCPkYnZHC5kZ",label:"uNzwJ3uEXHGn1KqpKi2g",optionActive:"pqKM5QplAnQOBAJmO97w",labelActive:"kXxikw5cUzlIUZ28Vw_d",body:"bloC6HD3eJjCvmw8Erq0",group:"jzyLZZz9TmgglqyoCoIw"};const s=a},391:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".bTCeEsiTgTGCaC8gRbsY {\n  flex: 1;\n}\n.WheUgxEqHmRcpS8fh0Fk {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.bmQKBO6yH4TaUbN6lgdw {\n  flex-direction: row;\n  align-items: center;\n  padding: 5px;\n}\n",""]),a.locals={container:"bTCeEsiTgTGCaC8gRbsY",content:"WheUgxEqHmRcpS8fh0Fk",row:"bmQKBO6yH4TaUbN6lgdw"};const s=a},6246:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".mNhLRClzgr9DUBFDtNDt {\n  flex: 1;\n}\n.FwcIcZTBAavd5xyBdWFZ {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.AkSZEZCIfEmpBGYtcSPz {\n  flex-direction: row;\n  align-items: flex-end;\n}\n._MS_28I1Coj_g1PDLxe6 {\n  height: 150px;\n  flex-direction: row;\n}\n.Zxnyw8nuYY7HLOZP8QNb {\n  flex: 1;\n  margin: 10px;\n  border: solid 1px #999;\n  border-radius: 2px;\n  padding: 5px;\n}\n.ky7Dh9kOPOv8veSkBGWk {\n  flex: 1.7;\n}\n.iBhJNFN77AGYzQTaQAD_ {\n  font-size: 12px;\n  color: blue;\n  height: 30px;\n  line-height: 30px;\n}\n.dx8qWm2EuGzQHH9ds0KD {\n  color: green;\n}\n.WwyXdflavXska_MmKAnZ {\n  margin: 3px;\n}\n.YIaXVxyXR2XKcAw2OMJr {\n  margin: 10px 0;\n  padding: 5px 0;\n}\n.J7fe3aDLUfMqkzoA_HpL {\n  height: 30px;\n  line-height: 30px;\n  width: 30px;\n  text-align: center;\n}\n",""]),a.locals={container:"mNhLRClzgr9DUBFDtNDt",content:"FwcIcZTBAavd5xyBdWFZ",row:"AkSZEZCIfEmpBGYtcSPz",detailContainer:"_MS_28I1Coj_g1PDLxe6",detail:"Zxnyw8nuYY7HLOZP8QNb",detail2:"ky7Dh9kOPOv8veSkBGWk",affix:"iBhJNFN77AGYzQTaQAD_",legend:"dx8qWm2EuGzQHH9ds0KD",costItem:"WwyXdflavXska_MmKAnZ",locks:"YIaXVxyXR2XKcAw2OMJr",lock:"J7fe3aDLUfMqkzoA_HpL"};const s=a},684:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".BTdDSNXBu4avxCtU2Bsh {\n  flex: 1;\n}\n.G2baOI82zQgwZy2gR4Mq {\n  flex-direction: row;\n}\n.gxz1LpK3ndaJPCWemqo9 {\n  border-bottom: solid 1px #999;\n  padding: 0 5px;\n  flex-direction: row;\n}\n.YajelsapRKqW0AGlT4OW {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n}\n.VSGfSDlr6eEGjsLdYjn_ {\n  width: 150px;\n  font-size: 24px;\n}\n.Cl7FMIuO9ThFg8WpECCs {\n  flex: 0;\n}\n.M_EZr4CCEhd9VaaBRjJR {\n  flex-direction: row;\n  flex-wrap: wrap;\n  border-top: solid 1px #999;\n}\n.aZGT1nZjmK1i6OA1Mcs5 {\n  flex-direction: row;\n  padding: 8px;\n  border-bottom: solid 1px #999;\n}\n.mMtR03XTKf1qwToRL3gl {\n  height: 45px;\n  justify-content: center;\n  padding: 10px;\n}\n",""]),a.locals={flex:"BTdDSNXBu4avxCtU2Bsh",row:"G2baOI82zQgwZy2gR4Mq",medicine:"gxz1LpK3ndaJPCWemqo9",medicineMain:"YajelsapRKqW0AGlT4OW",medicineName:"VSGfSDlr6eEGjsLdYjn_",noFlex:"Cl7FMIuO9ThFg8WpECCs",itemGroup:"M_EZr4CCEhd9VaaBRjJR",info:"aZGT1nZjmK1i6OA1Mcs5",noItemHint:"mMtR03XTKf1qwToRL3gl"};const s=a},5642:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".tuLcxQaToL81PXaAJlsA {\n  flex: 1;\n}\n.OQhsj5IQO8EzHR32zA4W {\n  flex-direction: row;\n  height: 140px;\n  align-items: stretch;\n  border-bottom: solid 1px #ccc;\n}\n.MtL122eBAwbe5HMutWzt {\n  justify-content: 'center';\n  align-items: 'center';\n  width: 79px;\n  border-right: solid 1px #ccc;\n}\n.SN45_AV_cEZkK3syJNn5 {\n  font-size: 16px;\n}\n.MvHrNKtNLvQkT3cq1j9Z {\n  flex: 1;\n  padding: 5px 0;\n  align-items: center;\n}\n.k3Zs87SLhuMJ1YsdfcAB {\n  background-color: #ccc;\n}\n.StWTavCRheKc_Jeu0_mQ {\n  flex-direction: row;\n}\n.uIGgGC5y91GoRc1TGNna {\n  font-size: 12px;\n  flex: 1;\n}\n.vTDgwB680RQ4sd_SuJD8 {\n  font-size: 12;\n}\n.eU7rIze_55u0n7UIl01f {\n  flex: 1;\n}\n.UvRNSOucUYFSWMECJhAW {\n  padding: 0 5px;\n  border-radius: 5px;\n  border: solid 1px #ccc;\n}\n.RTNQVkYpa2Et5cbbdalA {\n  flex-direction: row;\n}\n.MNgrxchnYQ9BAtF88fG0 {\n  width: 50px;\n  align-items: center;\n  justify-content: center;\n  background-color: #aaf;\n  margin: 0 1px;\n}\n",""]),a.locals={container:"tuLcxQaToL81PXaAJlsA",recipe:"OQhsj5IQO8EzHR32zA4W",name:"MtL122eBAwbe5HMutWzt",nameLabel:"SN45_AV_cEZkK3syJNn5",btn:"MvHrNKtNLvQkT3cq1j9Z",btnDisabled:"k3Zs87SLhuMJ1YsdfcAB",material:"StWTavCRheKc_Jeu0_mQ",materialName:"uIGgGC5y91GoRc1TGNna",materialAmount:"vTDgwB680RQ4sd_SuJD8",spacer:"eU7rIze_55u0n7UIl01f",button:"UvRNSOucUYFSWMECJhAW",row:"RTNQVkYpa2Et5cbbdalA",inventoryButton:"MNgrxchnYQ9BAtF88fG0"};const s=a},8865:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".LPrVhvXMUycmbcLkYAQs {\n  flex: 1;\n}\n.nuDYWDxcYUJn84RMNvat {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.lUOpB4D3AffhnfhFyWai {\n  flex-direction: row;\n  align-items: flex-end;\n  padding: 5px;\n}\n.jbLW38LdlJN2zAJ1n9gv {\n  height: 150px;\n  flex-direction: row;\n}\n.hLLTmFt5q2vltVxLKyI0 {\n  flex: 1;\n  margin: 10px;\n  border: solid 1px #999;\n  border-radius: 2px;\n  padding: 5px;\n}\n.kw6bhcL6pDVuoah8YlNO {\n  flex-direction: row;\n  flex: 1;\n}\n.x58aDivZ8fk1mjnNH504 {\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  border-width: 1px;\n  margin: 5px;\n  background-color: white;\n}\n.M8GO87cwh8DpnZVwB1b8 {\n  background-color: #aaa;\n}\n.gDoVy1cWLk0fdNTUFqqw {\n  background-color: #666;\n}\n.KnaawP9Bb5JGmp7PWf3z {\n  color: blue;\n  height: 30px;\n  line-height: 30px;\n}\n.Onw1GJtzXEo5wfEBTYK_ {\n  color: green;\n}\n.KfSBQlzxEdRXnLDqklPN {\n  margin: 3;\n}\n.HSrrZV0svcaw2vZ4cnCA {\n  margin: 10px 0;\n  padding: 5px 0;\n}\n.Jj9mDQBLvVqMKABT65oy {\n  height: 30px;\n  line-height: 30px;\n  width: 30px;\n  text-align: center;\n}\n",""]),a.locals={container:"LPrVhvXMUycmbcLkYAQs",content:"nuDYWDxcYUJn84RMNvat",row:"lUOpB4D3AffhnfhFyWai",detailContainer:"jbLW38LdlJN2zAJ1n9gv",detail:"hLLTmFt5q2vltVxLKyI0",detailRow:"kw6bhcL6pDVuoah8YlNO",detailAffix:"x58aDivZ8fk1mjnNH504",detailAffixDisabled:"M8GO87cwh8DpnZVwB1b8",detailAffixEmpty:"gDoVy1cWLk0fdNTUFqqw",affix:"KnaawP9Bb5JGmp7PWf3z",legentAffix:"Onw1GJtzXEo5wfEBTYK_",costItem:"KfSBQlzxEdRXnLDqklPN",locks:"HSrrZV0svcaw2vZ4cnCA",lock:"Jj9mDQBLvVqMKABT65oy"};const s=a},5714:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".TfVnV6WvxWHyeRqGQ17D {\n  flex: 1;\n}\n._gLbV62CHJBAaUfwWYYj {\n  flex-direction: row;\n}\n.Yh8kN1n87Bd7NBKbjG1r {\n  border-bottom: solid 1px #999;\n  padding: 0 5px;\n  flex-direction: row;\n}\n.Vpvhn4U90xtt3S_hnAB0 {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n}\n.f8QQmFruiCtstQVz8Aek {\n  width: 150px;\n  font-size: 24px;\n}\n.Buym9dkDlgrU4jrl6jZN {\n  flex: 0;\n}\n.Qz7Vkitp5r71RwoCG67e {\n  flex-direction: row;\n  flex-wrap: wrap;\n  border-top: solid 1px #999;\n}\n.KH8pFty0b3ou5hbHbMAD {\n  flex-direction: row;\n  padding: 8px;\n  border-bottom: solid 1px #999;\n}\n.n8UB8_9VcbaDiB7lNbsp {\n  height: 45px;\n  justify-content: center;\n  padding: 10px;\n}\n",""]),a.locals={flex:"TfVnV6WvxWHyeRqGQ17D",row:"_gLbV62CHJBAaUfwWYYj",cooking:"Yh8kN1n87Bd7NBKbjG1r",cookingMain:"Vpvhn4U90xtt3S_hnAB0",cookingName:"f8QQmFruiCtstQVz8Aek",noFlex:"Buym9dkDlgrU4jrl6jZN",itemGroup:"Qz7Vkitp5r71RwoCG67e",info:"KH8pFty0b3ou5hbHbMAD",noItemHint:"n8UB8_9VcbaDiB7lNbsp"};const s=a},8060:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".C1_xyluJPVXnaS4XYKw9 {\n  flex: 1;\n  background-color: white;\n  overflow: auto;\n}\n.gFGKwCiTX6neraeBc_fD {\n  width: 100vw;\n  color: black;\n  white-space: pre-line;\n}\n",""]),a.locals={container:"C1_xyluJPVXnaS4XYKw9",content:"gFGKwCiTX6neraeBc_fD"};const s=a},8777:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".DqE_kO7MIZqlTi2e8daX {\n  flex: 1;\n}\n.kMOVShHOc_Qx_4fRp_gg {\n  position: absolute;\n  bottom: 10px;\n  left: 5px;\n  right: 5px;\n  height: 120px;\n  background-color: white;\n  border-radius: 5px;\n  padding: 5px;\n  overflow: hidden;\n}\n.nXr_Fao6Y1ctbAYVaej2 {\n  font-size: 20px;\n}\n.GNutTbVPH4socpyXXpmh {\n  font-size: 20px;\n  line-height: 25px;\n  overflow: visible;\n}\n.ZfPDbr8r9CHWCStJuzk4 {\n  margin-top: 80px;\n  align-self: center;\n  padding: 10px;\n  background-color: white;\n  border-radius: 10px;\n  transition: opacity 0.5s;\n  opacity: 1;\n}\n.ZfPDbr8r9CHWCStJuzk4.NtL7IpOB7aUQCFBmPgq3 {\n  opacity: 0;\n}\n.NMgOgwyF2XuCS2i5xYwM {\n  font-size: 36px;\n}\n.lxmgZ0cEREbU_zXNwkLi {\n  position: absolute;\n  right: 20px;\n  top: 35px;\n}\n.M8HZ4LxrHvrbuf3N8qwz {\n  color: white;\n}\n",""]),a.locals={container:"DqE_kO7MIZqlTi2e8daX",content:"kMOVShHOc_Qx_4fRp_gg",name:"nXr_Fao6Y1ctbAYVaej2",text:"GNutTbVPH4socpyXXpmh",scene:"ZfPDbr8r9CHWCStJuzk4",hidden:"NtL7IpOB7aUQCFBmPgq3",sceneLabel:"NMgOgwyF2XuCS2i5xYwM",back:"lxmgZ0cEREbU_zXNwkLi",backLabel:"M8HZ4LxrHvrbuf3N8qwz"};const s=a},1916:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".tZV6GxyyjqqppoJdSBO8 {\n  flex: 1;\n  background-color: white;\n}\n.B8SxwAkjo1zLTnGkt2RR {\n  border-bottom: solid 1px #999;\n  height: 60px;\n  padding: 0 10px;\n  justify-content: center;\n}\n.qFR3bl8kvSeucmq1GeV7 {\n  font-size: 20px;\n}\n.Snt69V0c8x5jWWzu6y4d {\n  flex-direction: row;\n}\n",""]),a.locals={container:"tZV6GxyyjqqppoJdSBO8",item:"B8SxwAkjo1zLTnGkt2RR",itemLabel:"qFR3bl8kvSeucmq1GeV7",line:"Snt69V0c8x5jWWzu6y4d"};const s=a},5678:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),o=n(3527),a=n.n(o)()(i());a.push([e.id,".v2RcSiEb6wh0BoE2J7kd {\n  flex: 1;\n  background-color: white;\n}\n.JKOBnp9KlJRenDPh78m3 {\n  border-bottom: solid 1px #999;\n  height: 40px;\n  padding: 0 10px;\n  justify-content: center;\n}\n.dLvA5OVktBMXVYFJ_RlU {\n  font-size: 20px;\n}\n",""]),a.locals={container:"v2RcSiEb6wh0BoE2J7kd",item:"JKOBnp9KlJRenDPh78m3",itemLabel:"dLvA5OVktBMXVYFJ_RlU"};const s=a},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=o[c]||0,h="".concat(c," ").concat(u);o[c]=u+1;var p=n(h),d={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(d);else{var f=i(d,r);r.byIndex=s,t.splice(s,0,{identifier:h,updater:f,references:1})}a.push(h)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var l=r(e,i),c=0;c<o.length;c++){var u=n(o[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,exports:{}};return n[e](o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,i.d(o,a),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nc=void 0,(()=>{"use strict";var e=i(8568),t=i(8281),n=i.t(t,2);function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var o={};function a(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:o}var s=Object.assign,l=Object.getOwnPropertyDescriptor,c=Object.defineProperty,u=Object.prototype,h=[];Object.freeze(h);var p={};Object.freeze(p);var d="undefined"!=typeof Proxy,f=Object.toString();function m(){d||r("Proxy not available")}function g(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var y=function(){};function v(e){return"function"==typeof e}function b(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function k(e){return null!==e&&"object"==typeof e}function w(e){if(!k(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===f}function x(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function _(e,t,n){c(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function S(e,t,n){c(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function E(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return k(e)&&!0===e[n]}}function A(e){return e instanceof Map}function D(e){return e instanceof Set}var C=void 0!==Object.getOwnPropertySymbols,P="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:C?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function R(e){return null===e?null:"object"==typeof e?""+e:e}function O(e,t){return u.hasOwnProperty.call(e,t)}var T=Object.getOwnPropertyDescriptors||function(e){var t={};return P(e).forEach((function(n){t[n]=l(e,n)})),t};function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}function N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,I(e,t)}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var q=Symbol("mobx-stored-annotations");function z(e){return Object.assign((function(t,n){U(t,n,e)}),e)}function U(e,t,n){O(e,q)||_(e,q,M({},e[q])),function(e){return e.annotationType_===X}(n)||(e[q][t]=n)}var V=Symbol("mobx administration"),K=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=We.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return vt(this)},t.reportChanged=function(){gt(),bt(this),yt()},t.toString=function(){return this.name_},e}(),Y=E("Atom",K);function $(e,t,n){void 0===t&&(t=y),void 0===n&&(n=y);var r=new K(e);return t!==y&&Vt(qt,r,t,undefined),n!==y&&Ut(r,n),r}var W={identity:function(e,t){return e===t},structural:function(e,t){return pr(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return pr(e,t,1)}};function G(e,t,n){return on(e)?e:Array.isArray(e)?Re.array(e,{name:n}):w(e)?Re.object(e,void 0,{name:n}):A(e)?Re.map(e,{name:n}):D(e)?Re.set(e,{name:n}):"function"!=typeof e||Nt(e)||tn(e)?e:x(e)?Zt(e):Ft(n,e)}function J(e){return e}var X="override",Q=z({annotationType_:X,make_:function(e,t){return 0},extend_:function(e,t,n,i){r("'"+this.annotationType_+"' can only be used with 'makeObservable'")}});function Z(e,t){return{annotationType_:e,options_:t,make_:ee,extend_:te}}function ee(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Nt(n.value))return 1;var o=ne(e,this,t,n,!1);return c(r,t,o),2}function te(e,t,n,r){var i=ne(e,this,t,n);return e.defineProperty_(t,i,r)}function ne(e,t,n,r,i){var o,a,s,l,c,u,h,p;void 0===i&&(i=dt.safeDescriptors),p=r,t.annotationType_,p.value;var d,f=r.value;return null!=(o=t.options_)&&o.bound&&(f=f.bind(null!=(d=e.proxy_)?d:e.target_)),{value:Le(null!=(a=null==(s=t.options_)?void 0:s.name)?a:n.toString(),f,null!=(l=null==(c=t.options_)?void 0:c.autoAction)&&l,null!=(u=t.options_)&&u.bound?null!=(h=e.proxy_)?h:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function re(e,t){return{annotationType_:e,options_:t,make_:ie,extend_:oe}}function ie(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!O(e.target_,t)||!tn(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(tn(n.value))return 1;var o=ae(e,this,0,n,!1,!1);return c(r,t,o),2}function oe(e,t,n,r){var i,o=ae(e,this,0,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,r)}function ae(e,t,n,r,i,o){var a;void 0===o&&(o=dt.safeDescriptors),a=r,t.annotationType_,a.value;var s,l=r.value;return tn(l)||(l=Zt(l)),i&&((l=l.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0),{value:l,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function se(e,t){return{annotationType_:e,options_:t,make_:le,extend_:ce}}function le(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ce(e,t,n,r){return i=n,this.annotationType_,i.get,e.defineComputedProperty_(t,M({},this.options_,{get:n.get,set:n.set}),r);var i}function ue(e,t){return{annotationType_:e,options_:t,make_:he,extend_:pe}}function he(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function pe(e,t,n,r){var i,o;return this.annotationType_,e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:G,r)}var de="true",fe=me();function me(e){return{annotationType_:de,options_:e,make_:ge,extend_:ye}}function ge(e,t,n,r){var i,o,a,s;if(n.get)return Fe.make_(e,t,n,r);if(n.set){var l=Le(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!dt.safeDescriptors||e.isPlainObject_,set:l})?0:2:(c(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof n.value)return x(n.value)?(null!=(s=this.options_)&&s.autoBind?Zt.bound:Zt).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?Ft.bound:Ft).make_(e,t,n,r);var u,h=!1===(null==(i=this.options_)?void 0:i.deep)?Re.ref:Re;return"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(u=e.proxy_)?u:e.target_)),h.make_(e,t,n,r)}function ye(e,t,n,r){var i,o,a;return n.get?Fe.extend_(e,t,n,r):n.set?e.defineProperty_(t,{configurable:!dt.safeDescriptors||e.isPlainObject_,set:Le(t.toString(),n.set)},r):("function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_)),(!1===(null==(o=this.options_)?void 0:o.deep)?Re.ref:Re).extend_(e,t,n,r))}var ve={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function be(e){return e||ve}Object.freeze(ve);var ke=ue("observable"),we=ue("observable.ref",{enhancer:J}),xe=ue("observable.shallow",{enhancer:function(e,t,n){return null==e||Jn(e)||Bn(e)||Ln(e)||Un(e)?e:Array.isArray(e)?Re.array(e,{name:n,deep:!1}):w(e)?Re.object(e,void 0,{name:n,deep:!1}):A(e)?Re.map(e,{name:n,deep:!1}):D(e)?Re.set(e,{name:n,deep:!1}):void 0}}),_e=ue("observable.struct",{enhancer:function(e,t){return pr(e,t)?t:e}}),Se=z(ke);function Ee(e){return!0===e.deep?G:!1===e.deep?J:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:G;var t,n,r}function Ae(e,t,n){if(!b(t))return on(e)?e:w(e)?Re.object(e,t,n):Array.isArray(e)?Re.array(e,t):A(e)?Re.map(e,t):D(e)?Re.set(e,t):"object"==typeof e&&null!==e?e:Re.box(e,t);U(e,t,ke)}Object.assign(Ae,Se);var De,Ce,Pe={box:function(e,t){var n=be(t);return new Ye(e,Ee(n),n.name,!0,n.equals)},array:function(e,t){var n=be(t);return(!1===dt.useProxies||!1===n.proxy?sr:Sn)(e,Ee(n),n.name)},map:function(e,t){var n=be(t);return new Hn(e,Ee(n),n.name)},set:function(e,t){var n=be(t);return new zn(e,Ee(n),n.name)},object:function(e,t,n){return $t(!1===dt.useProxies||!1===(null==n?void 0:n.proxy)?$n({},n):function(e,t){var n,r;return m(),null!=(r=(n=(e=$n(e,t))[V]).proxy_)?r:n.proxy_=new Proxy(e,pn)}({},n),e,t)},ref:z(we),shallow:z(xe),deep:Se,struct:z(_e)},Re=s(Ae,Pe),Oe="computed",Te=se(Oe),Be=se("computed.struct",{equals:W.structural}),Fe=function(e,t){if(b(t))return U(e,t,Te);if(w(e))return z(se(Oe,e));var n=w(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new Je(n)};Object.assign(Fe,Te),Fe.struct=z(Be);var Me,Ne=0,Ie=1,je=null!=(De=null==(Ce=l((function(){}),"name"))?void 0:Ce.configurable)&&De,He={value:"action",configurable:!0,writable:!1,enumerable:!1};function Le(e,t,n,r){function i(){return qe(0,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,je&&(He.value=e,Object.defineProperty(i,"name",He)),i}function qe(e,t,n,i,o){var a=function(e,t,n,r){var i=dt.trackingDerivation,o=!t||!i;gt();var a=dt.allowStateChanges;o&&(ot(),a=Ue(!0));var s={runAsAction_:o,prevDerivation_:i,prevAllowStateChanges_:a,prevAllowStateReads_:st(!0),notifySpy_:!1,startTime_:0,actionId_:Ie++,parentActionId_:Ne};return Ne=s.actionId_,s}(0,t);try{return n.apply(i,o)}catch(e){throw a.error_=e,e}finally{!function(e){Ne!==e.actionId_&&r(30),Ne=e.parentActionId_,void 0!==e.error_&&(dt.suppressReactionErrors=!0),Ve(e.prevAllowStateChanges_),lt(e.prevAllowStateReads_),yt(),e.runAsAction_&&at(e.prevDerivation_),dt.suppressReactionErrors=!1}(a)}}function ze(e,t){var n=Ue(e);try{return t()}finally{Ve(n)}}function Ue(e){var t=dt.allowStateChanges;return dt.allowStateChanges=e,t}function Ve(e){dt.allowStateChanges=e}Me=Symbol.toPrimitive;var Ke,Ye=function(e){function t(t,n,r,i,o){var a;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=W.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=o,a.value_=n(t,void 0,r),a}N(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==dt.UNCHANGED&&this.setNewValue_(e)},n.prepareNewValue_=function(e){if(dn(this)){var t=mn(this,{object:this,type:wn,newValue:e});if(!t)return dt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?dt.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),gn(this)&&vn(this,{type:wn,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return fn(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:wn,newValue:this.value_,oldValue:void 0}),yn(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return R(this.get())},n[Me]=function(){return this.valueOf()},t}(K),$e=E("ObservableValue",Ye);Ke=Symbol.toPrimitive;var We,Ge,Je=function(){function e(e){this.dependenciesState_=We.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=We.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Qe(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ge.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||r(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Le("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?W.structural:W.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){var e;(e=this).lowestObserverState_===We.UP_TO_DATE_&&(e.lowestObserverState_=We.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===We.UP_TO_DATE_&&(e.dependenciesState_=We.POSSIBLY_STALE_,e.onBecomeStale_())})))},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&r(32,this.name_,this.derivation),0!==dt.inBatch||0!==this.observers_.size||this.keepAlive_){if(vt(this),et(this)){var e=dt.trackingContext;this.keepAlive_&&!e&&(dt.trackingContext=this),this.trackAndCompute()&&((t=this).lowestObserverState_!==We.STALE_&&(t.lowestObserverState_=We.STALE_,t.observers_.forEach((function(e){e.dependenciesState_===We.POSSIBLY_STALE_?e.dependenciesState_=We.STALE_:e.dependenciesState_===We.UP_TO_DATE_&&(t.lowestObserverState_=We.UP_TO_DATE_)})))),dt.trackingContext=e}}else et(this)&&(this.warnAboutUntrackedRead_(),gt(),this.value_=this.computeValue_(!1),yt());var t,n=this.value_;if(Ze(n))throw n.cause;return n},t.set=function(e){if(this.setter_){this.isRunningSetter_&&r(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else r(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===We.NOT_TRACKING_,n=this.computeValue_(!0),r=t||Ze(e)||Ze(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing_=!0;var t,n=Ue(!1);if(e)t=nt(this,this.derivation,this.scope_);else if(!0===dt.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new Qe(e)}return Ve(n),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(rt(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return It((function(){var o=n.get();if(!r||t){var a=ot();e({observableKind:"computed",debugObjectName:n.name_,type:wn,object:n,newValue:o,oldValue:i}),at(a)}r=!1,i=o}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return R(this.get())},t[Ke]=function(){return this.valueOf()},e}(),Xe=E("ComputedValue",Je);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(We||(We={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Ge||(Ge={}));var Qe=function(e){this.cause=void 0,this.cause=e};function Ze(e){return e instanceof Qe}function et(e){switch(e.dependenciesState_){case We.UP_TO_DATE_:return!1;case We.NOT_TRACKING_:case We.STALE_:return!0;case We.POSSIBLY_STALE_:for(var t=st(!0),n=ot(),r=e.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(Xe(a)){if(dt.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return at(n),lt(t),!0}if(e.dependenciesState_===We.STALE_)return at(n),lt(t),!0}}return ct(e),at(n),lt(t),!1}}function tt(){return null!==dt.trackingDerivation}function nt(e,t,n){var r=st(!0);ct(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++dt.runId;var i,o=dt.trackingDerivation;if(dt.trackingDerivation=e,dt.inBatch++,!0===dt.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new Qe(e)}return dt.inBatch--,dt.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=We.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var s=n[a];0===s.diffValue_&&(s.diffValue_=1,i!==a&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}for(n.length=i,e.newObserving_=null,o=t.length;o--;){var l=t[o];0===l.diffValue_&&ft(l,e),l.diffValue_=0}for(;i--;){var c=n[i];1===c.diffValue_&&(c.diffValue_=0,h=e,(u=c).observers_.add(h),u.lowestObserverState_>h.dependenciesState_&&(u.lowestObserverState_=h.dependenciesState_))}var u,h;r!==We.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),lt(r),i}function rt(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)ft(t[n],e);e.dependenciesState_=We.NOT_TRACKING_}function it(e){var t=ot();try{return e()}finally{at(t)}}function ot(){var e=dt.trackingDerivation;return dt.trackingDerivation=null,e}function at(e){dt.trackingDerivation=e}function st(e){var t=dt.allowStateReads;return dt.allowStateReads=e,t}function lt(e){dt.allowStateReads=e}function ct(e){if(e.dependenciesState_!==We.UP_TO_DATE_){e.dependenciesState_=We.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=We.UP_TO_DATE_}}var ut=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ht=!0,pt=!1,dt=function(){var e=a();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ht=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new ut).version&&(ht=!1),ht?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ut):(setTimeout((function(){pt||r(35)}),1),new ut)}();function ft(e,t){e.observers_.delete(t),0===e.observers_.size&&mt(e)}function mt(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,dt.pendingUnobservations.push(e))}function gt(){dt.inBatch++}function yt(){if(0==--dt.inBatch){_t();for(var e=dt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Je&&n.suspend_())}dt.pendingUnobservations=[]}}function vt(e){var t=dt.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&dt.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&dt.inBatch>0&&mt(e),!1)}function bt(e){e.lowestObserverState_!==We.STALE_&&(e.lowestObserverState_=We.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===We.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=We.STALE_})))}var kt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=We.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Ge.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,dt.pendingReactions.push(this),_t())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){gt(),this.isScheduled_=!1;var e=dt.trackingContext;if(dt.trackingContext=this,et(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}dt.trackingContext=e,yt()}},t.track=function(e){if(!this.isDisposed_){gt(),this.isRunning_=!0;var t=dt.trackingContext;dt.trackingContext=this;var n=nt(this,e,void 0);dt.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&rt(this),Ze(n)&&this.reportExceptionInDerivation_(n.cause),yt()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(dt.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";dt.suppressReactionErrors||console.error(n,e),dt.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(gt(),rt(this),yt()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[V]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){r("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];"boolean"==typeof n[n.length-1]&&(e=n.pop());var o=function(e){switch(e.length){case 0:return dt.trackingDerivation;case 1:return lr(e[0]);case 2:return lr(e[0],e[1])}}(n);if(!o)return r("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===Ge.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled"),o.isTracing_=e?Ge.BREAK:Ge.LOG}(this,e)},e}(),wt=100,xt=function(e){return e()};function _t(){dt.inBatch>0||dt.isRunningReactions||xt(St)}function St(){dt.isRunningReactions=!0;for(var e=dt.pendingReactions,t=0;e.length>0;){++t===wt&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}dt.isRunningReactions=!1}var Et=E("Reaction",kt),At="action",Dt="autoAction",Ct=Z(At),Pt=Z("action.bound",{bound:!0}),Rt=Z(Dt,{autoAction:!0}),Ot=Z("autoAction.bound",{autoAction:!0,bound:!0});function Tt(e){return function(t,n){return v(t)?Le(t.name||"<unnamed action>",t,e):v(n)?Le(t,n,e):b(n)?U(t,n,e?Rt:Ct):b(t)?z(Z(e?Dt:At,{name:t,autoAction:e})):void 0}}var Bt=Tt(!1);Object.assign(Bt,Ct);var Ft=Tt(!0);function Mt(e){return qe(e.name,!1,e,this,void 0)}function Nt(e){return v(e)&&!0===e.isMobxAction}function It(e,t){var n,r;void 0===t&&(t=p);var i,o=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(t.scheduler||t.delay){var a=Ht(t),s=!1;i=new kt(o,(function(){s||(s=!0,a((function(){s=!1,i.isDisposed_||i.track(l)})))}),t.onError,t.requiresObservable)}else i=new kt(o,(function(){this.track(l)}),t.onError,t.requiresObservable);function l(){e(i)}return i.schedule_(),i.getDisposer_()}Object.assign(Ft,Rt),Bt.bound=z(Pt),Ft.bound=z(Ot);var jt=function(e){return e()};function Ht(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:jt}function Lt(e,t,n){var r;void 0===n&&(n=p);var i,o,a,s,l=null!=(r=n.name)?r:"Reaction",c=Bt(l,n.onError?(i=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){i.call(this,e)}}):t),u=!n.scheduler&&!n.delay,h=Ht(n),d=!0,f=!1,m=n.compareStructural?W.structural:n.equals||W.default,g=new kt(l,(function(){d||u?y():f||(f=!0,h(y))}),n.onError,n.requiresObservable);function y(){if(f=!1,!g.isDisposed_){var t=!1;g.track((function(){var n=ze(!1,(function(){return e(g)}));t=d||!m(a,n),s=a,a=n})),(d&&n.fireImmediately||!d&&t)&&c(a,s,g),d=!1}}return g.schedule_(),g.getDisposer_()}var qt="onBO",zt="onBUO";function Ut(e,t,n){return Vt(zt,e,t,n)}function Vt(e,t,n,r){var i="function"==typeof r?lr(t,n):lr(t),o=v(r)?r:n,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}var Kt="always";function Yt(e){!0===e.isolateGlobalState&&function(){if((dt.pendingReactions.length||dt.inBatch||dt.isRunningReactions)&&r(36),pt=!0,ht){var e=a();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),dt=new ut}}();var t,n,i=e.useProxies,o=e.enforceActions;if(void 0!==i&&(dt.useProxies=i===Kt||"never"!==i&&"undefined"!=typeof Proxy),"ifavailable"===i&&(dt.verifyProxies=!0),void 0!==o){var s=o===Kt?Kt:"observed"===o;dt.enforceActions=s,dt.allowStateChanges=!0!==s&&s!==Kt}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(dt[t]=!!e[t])})),dt.allowStateReads=!dt.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=xt,xt=function(e){return t((function(){return n(e)}))})}function $t(e,t,n,r){var i=T(t),o=$n(e,r)[V];gt();try{P(i).forEach((function(e){o.extend_(e,i[e],!n||!(e in n)||n[e])}))}finally{yt()}return e}function Wt(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(Wt)),n}var Gt=0;function Jt(){this.message="FLOW_CANCELLED"}Jt.prototype=Object.create(Error.prototype);var Xt=re("flow"),Qt=re("flow.bound",{bound:!0}),Zt=Object.assign((function(e,t){if(b(t))return U(e,t,Xt);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++Gt,o=Bt(r+" - runid: "+i+" - init",n).apply(this,t),a=void 0,s=new Promise((function(t,n){var s=0;function l(e){var t;a=void 0;try{t=Bt(r+" - runid: "+i+" - yield "+s++,o.next).call(o,e)}catch(e){return n(e)}u(t)}function c(e){var t;a=void 0;try{t=Bt(r+" - runid: "+i+" - yield "+s++,o.throw).call(o,e)}catch(e){return n(e)}u(t)}function u(e){if(!v(null==e?void 0:e.then))return e.done?t(e.value):(a=Promise.resolve(e.value)).then(l,c);e.then(u,n)}e=n,l(void 0)}));return s.cancel=Bt(r+" - runid: "+i+" - cancel",(function(){try{a&&en(a);var t=o.return(void 0),n=Promise.resolve(t.value);n.then(y,y),en(n),e(new Jt)}catch(t){e(t)}})),s};return i.isMobXFlow=!0,i}),Xt);function en(e){v(e.cancel)&&e.cancel()}function tn(e){return!0===(null==e?void 0:e.isMobXFlow)}function nn(e,t){if(void 0===t)return Xe(e);if(!1===Jn(e))return!1;if(!e[V].values_.has(t))return!1;var n=lr(e,t);return Xe(n)}function rn(e,t){return nn(e,t)}function on(e){return function(e,t){return!!e&&(void 0!==t?!!Jn(e)&&e[V].values_.has(t):Jn(e)||!!e[V]||Y(e)||Et(e)||Xe(e))}(e)}function an(e,t,n,r){return v(n)?function(e,t,n,r){return cr(e,t).observe_(n,r)}(e,t,n,r):function(e,t,n){return cr(e).observe_(t,n)}(e,t,n)}function sn(e,t,n){return e.set(t,n),n}function ln(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!on(e))return e;if($e(e)||Xe(e))return ln(e.get(),t);if(t.has(e))return t.get(e);if(Bn(e)){var n=sn(t,e,new Array(e.length));return e.forEach((function(e,r){n[r]=ln(e,t)})),n}if(Un(e)){var i=sn(t,e,new Set);return e.forEach((function(e){i.add(ln(e,t))})),i}if(Ln(e)){var o=sn(t,e,new Map);return e.forEach((function(e,n){o.set(n,ln(e,t))})),o}var a=sn(t,e,{});return function(e){if(Jn(e))return e[V].ownKeys_();r(38)}(e).forEach((function(n){u.propertyIsEnumerable.call(e,n)&&(a[n]=ln(e[n],t))})),a}function cn(e,t){return ln(e,new Map)}function un(e,t){void 0===t&&(t=void 0),gt();try{return e.apply(t)}finally{yt()}}function hn(e){return e[V]}Zt.bound=z(Qt);var pn={has:function(e,t){return hn(e).has_(t)},get:function(e,t){return hn(e).get_(t)},set:function(e,t,n){var r;return!!b(t)&&(null==(r=hn(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!b(t)&&(null==(n=hn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=hn(e).defineProperty_(t,n))||r},ownKeys:function(e){return hn(e).ownKeys_()},preventExtensions:function(e){r(13)}};function dn(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function fn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),g((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function mn(e,t){var n=ot();try{for(var i=[].concat(e.interceptors_||[]),o=0,a=i.length;o<a&&((t=i[o](t))&&!t.type&&r(14),t);o++);return t}finally{at(n)}}function gn(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function yn(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),g((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function vn(e,t){var n=ot(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);at(n)}}function bn(e,t,n){var r=$n(e,n)[V];gt();try{null!=t||(t=function(e){return O(e,q)||_(e,q,M({},e[q])),e[q]}(e)),P(t).forEach((function(e){return r.make_(e,t[e])}))}finally{yt()}return e}var kn="splice",wn="update",xn={get:function(e,t){var n=e[V];return t===V?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?O(En,t)?En[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[V];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){r(15)}},_n=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new K(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return fn(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),yn(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&r("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&r(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&ar(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=h),dn(this)){var o=mn(this,{object:this.proxy_,type:kn,index:e,removedCount:t,added:n});if(!o)return h;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var s=0;s<o.length;s++)this.values_[e+n.length+s]=o[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=gn(this),o=i||r?{observableKind:"array",object:this.proxy_,type:wn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&vn(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=gn(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:kn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&vn(this,o)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&r(17,e,n.length),e<n.length){this.atom_;var i=n[e];if(dn(this)){var o=mn(this,{type:wn,object:this.proxy_,index:e,newValue:t});if(!o)return;t=o.newValue}(t=this.enhancer_(t,i))!==i&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,i))}else{for(var a=new Array(e+1-n.length),s=0;s<a.length-1;s++)a[s]=void 0;a[a.length-1]=t,this.spliceWithArray_(n.length,0,a)}},e}();function Sn(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),m();var i=new _n(n,t,r,!1);S(i.values_,V,i);var o=new Proxy(i.values_,xn);if(i.proxy_=o,e&&e.length){var a=Ue(!0);i.spliceWithArray_(0,0,e),Ve(a)}return o}var En={clear:function(){return this.splice(0)},replace:function(e){var t=this[V];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[V];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[V].spliceWithArray_(e,t,n)},push:function(){for(var e=this[V],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[V].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[V],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return dt.trackingDerivation&&r(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){dt.trackingDerivation&&r(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[V],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function An(e,t){"function"==typeof Array.prototype[e]&&(En[e]=t(e))}function Dn(e){return function(){var t=this[V];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Cn(e){return function(t,n){var r=this,i=this[V];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Pn(e){return function(){var t=this,n=this[V];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}An("concat",Dn),An("flat",Dn),An("includes",Dn),An("indexOf",Dn),An("join",Dn),An("lastIndexOf",Dn),An("slice",Dn),An("toString",Dn),An("toLocaleString",Dn),An("every",Cn),An("filter",Cn),An("find",Cn),An("findIndex",Cn),An("flatMap",Cn),An("forEach",Cn),An("map",Cn),An("some",Cn),An("reduce",Pn),An("reduceRight",Pn);var Rn,On,Tn=E("ObservableArrayAdministration",_n);function Bn(e){return k(e)&&Tn(e[V])}var Fn={},Mn="add",Nn="delete";Rn=Symbol.iterator,On=Symbol.toStringTag;var In,jn,Hn=function(){function e(e,t,n){var i=this;void 0===t&&(t=G),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[V]=Fn,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,v(Map)||r(18),this.keysAtom_=$("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,ze(!0,(function(){i.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!dt.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new Ye(this.has_(e),J,"ObservableMap.key?",!1);this.hasMap_.set(e,r),Ut(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(dn(this)){var r=mn(this,{type:n?wn:Mn,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if(this.keysAtom_,dn(this)&&!mn(this,{type:Nn,object:this,name:e}))return!1;if(this.has_(e)){var n=gn(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Nn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return un((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&vn(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==dt.UNCHANGED){var r=gn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:wn,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&vn(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,un((function(){var r,i=new Ye(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=gn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Mn,object:this,name:e,newValue:t}:null;r&&vn(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return mr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return mr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Rn]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=L(this);!(n=r()).done;){var i=n.value,o=i[0],a=i[1];e.call(t,a,o,this)}},t.merge=function(e){var t=this;return Ln(e)&&(e=new Map(e)),un((function(){w(e)?function(e){var t=Object.keys(e);if(!C)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return u.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):A(e)?(e.constructor!==Map&&r(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&r(20,e)})),this},t.clear=function(){var e=this;un((function(){it((function(){for(var t,n=L(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return un((function(){for(var n,i=function(e){if(A(e)||Ln(e))return e;if(Array.isArray(e))return new Map(e);if(w(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return r(21,e)}(e),o=new Map,a=!1,s=L(t.data_.keys());!(n=s()).done;){var l=n.value;if(!i.has(l))if(t.delete(l))a=!0;else{var c=t.data_.get(l);o.set(l,c)}}for(var u,h=L(i.entries());!(u=h()).done;){var p=u.value,d=p[0],f=p[1],m=t.data_.has(d);if(t.set(d,f),t.data_.has(d)){var g=t.data_.get(d);o.set(d,g),m||(a=!0)}}if(!a)if(t.data_.size!==o.size)t.keysAtom_.reportChanged();else for(var y=t.data_.keys(),v=o.keys(),b=y.next(),k=v.next();!b.done;){if(b.value!==k.value){t.keysAtom_.reportChanged();break}b=y.next(),k=v.next()}t.data_=o})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return fn(this,e)},F(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:On,get:function(){return"Map"}}]),e}(),Ln=E("ObservableMap",Hn),qn={};In=Symbol.iterator,jn=Symbol.toStringTag;var zn=function(){function e(e,t,n){void 0===t&&(t=G),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[V]=qn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,v(Set)||r(22),this.atom_=$(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;un((function(){it((function(){for(var t,n=L(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=L(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if(this.atom_,dn(this)&&!mn(this,{type:Mn,object:this,newValue:e}))return this;if(!this.has(e)){un((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=gn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Mn,object:this,newValue:e}:null;n&&vn(this,r)}return this},t.delete=function(e){var t=this;if(dn(this)&&!mn(this,{type:Nn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=gn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Nn,object:this,oldValue:e}:null;return un((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&vn(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return mr({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return mr({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return Un(e)&&(e=new Set(e)),un((function(){Array.isArray(e)||D(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&r("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return fn(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[In]=function(){return this.values()},F(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:jn,get:function(){return"Set"}}]),e}(),Un=E("ObservableSet",zn),Vn=Object.create(null),Kn="remove",Yn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=fe),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new K("ObservableObject.keys"),this.isPlainObject_=w(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof Je)return n.set(t),!0;if(dn(this)){var r=mn(this,{type:wn,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==dt.UNCHANGED){var i=gn(this),o=i?{type:wn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&vn(this,o)}return!0},t.get_=function(e){return dt.trackingDerivation&&!O(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),O(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!dt.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Ye(e in this.target_,J,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var n;if(null!=(n=this.target_[q])&&n[e])return;r(1,t.annotationType_,this.name_+"."+e.toString())}for(var i=this.target_;i&&i!==u;){var o=l(i,e);if(o){var a=t.make_(this,e,o,i);if(0===a)return;if(1===a)break}i=Object.getPrototypeOf(i)}Xn(this,0,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);var i=n.extend_(this,e,t,r);return i&&Xn(this,0,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{gt();var r=this.delete_(e);if(!r)return r;if(dn(this)){var i=mn(this,{object:this.proxy_||this.target_,name:e,type:Mn,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=M({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else c(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{yt()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{gt();var i=this.delete_(e);if(!i)return i;if(dn(this)){var o=mn(this,{object:this.proxy_||this.target_,name:e,type:Mn,newValue:t});if(!o)return null;t=o.newValue}var a=Gn(e),s={configurable:!dt.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else c(this.target_,e,s);var l=new Ye(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{yt()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{gt();var r=this.delete_(e);if(!r)return r;if(dn(this)&&!mn(this,{object:this.proxy_||this.target_,name:e,type:Mn,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Gn(e),o={configurable:!dt.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else c(this.target_,e,o);this.values_.set(e,new Je(t)),this.notifyPropertyAddition_(e,void 0)}finally{yt()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!O(this.target_,e))return!0;if(dn(this)&&!mn(this,{object:this.proxy_||this.target_,name:e,type:Kn}))return null;try{var n,r;gt();var i,o=gn(this),a=this.values_.get(e),s=void 0;if(!a&&o&&(s=null==(i=l(this.target_,e))?void 0:i.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof Ye&&(s=a.value_),bt(a)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),o){var c={type:Kn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};o&&vn(this,c)}}finally{yt()}return!0},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return fn(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=gn(this);if(i){var o=i?{type:Mn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&vn(this,o)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),P(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function $n(e,t){var n;if(O(e,V))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new Yn(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:me(e):void 0}(t));return _(e,V,i),e}var Wn=E("ObservableObjectAdministration",Yn);function Gn(e){return Vn[e]||(Vn[e]={get:function(){return this[V].getObservablePropValue_(e)},set:function(t){return this[V].setObservablePropValue_(e,t)}})}function Jn(e){return!!k(e)&&Wn(e[V])}function Xn(e,t,n){var r;null==(r=e.target_[q])||delete r[n]}var Qn,Zn,er=ir(0),tr=0,nr=function(){};Qn=nr,Zn=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Qn.prototype,Zn):void 0!==Qn.prototype.__proto__?Qn.prototype.__proto__=Zn:Qn.prototype=Zn;var rr=function(e,t,n){function r(t,n,r,i){var o;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this;var a=new _n(r,n,i,!0);if(a.proxy_=j(o),S(j(o),V,a),t&&t.length){var s=Ue(!0);o.spliceWithArray(0,0,t),Ve(s)}return Object.defineProperty(j(o),"0",er),o}N(r,e);var i=r.prototype;return i.concat=function(){this[V].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Bn(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return mr({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},F(r,[{key:"length",get:function(){return this[V].getArrayLength_()},set:function(e){this[V].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(nr,Symbol.toStringTag,Symbol.iterator);function ir(e){return{enumerable:!1,configurable:!0,get:function(){return this[V].get_(e)},set:function(t){this[V].set_(e,t)}}}function or(e){c(rr.prototype,""+e,ir(e))}function ar(e){if(e>tr){for(var t=tr;t<e+100;t++)or(t);tr=e}}function sr(e,t,n){return new rr(e,t,n)}function lr(e,t){if("object"==typeof e&&null!==e){if(Bn(e))return void 0!==t&&r(23),e[V].atom_;if(Un(e))return e[V];if(Ln(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||r(25,t,ur(e)),n}if(Jn(e)){if(!t)return r(26);var i=e[V].values_.get(t);return i||r(27,t,ur(e)),i}if(Y(e)||Xe(e)||Et(e))return e}else if(v(e)&&Et(e[V]))return e[V];r(28)}function cr(e,t){return e||r(29),void 0!==t?cr(lr(e,t)):Y(e)||Xe(e)||Et(e)||Ln(e)||Un(e)?e:e[V]?e[V]:void r(24,e)}function ur(e,t){var n;if(void 0!==t)n=lr(e,t);else{if(Nt(e))return e.name;n=Jn(e)||Ln(e)||Un(e)?cr(e):lr(e)}return n.name_}Object.entries(En).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&_(rr.prototype,t,n)})),ar(1e3);var hr=u.toString;function pr(e,t,n){return void 0===n&&(n=-1),dr(e,t,n)}function dr(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var a=hr.call(e);if(a!==hr.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=fr(e),t=fr(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(v(l)&&l instanceof l&&v(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return i[u]===t;if(r.push(e),i.push(t),s){if((u=e.length)!==t.length)return!1;for(;u--;)if(!dr(e[u],t[u],n-1,r,i))return!1}else{var h,p=Object.keys(e);if(u=p.length,Object.keys(t).length!==u)return!1;for(;u--;)if(!O(t,h=p[u])||!dr(e[h],t[h],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function fr(e){return Bn(e)?e.slice():A(e)||Ln(e)||D(e)||Un(e)?Array.from(e.entries()):e}function mr(e){return e[Symbol.iterator]=gr,e}function gr(){return this}if(["Symbol","Map","Set"].forEach((function(e){void 0===a()[e]&&r("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:ur},$mobx:V}),!t.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!bn)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function yr(e){e()}function vr(e){return function(e,t){return Wt(lr(e,t))}(e)}var br="undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry;function kr(e){return{reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+wr}}var wr=1e4,xr=br?function(e){var t=new Map,n=1,r=new e((function(e){var n=t.get(e);n&&(n.reaction.dispose(),t.delete(e))}));return{addReactionToTrack:function(e,i,o){var a=n++;return r.register(o,a,e),e.current=kr(i),e.current.finalizationRegistryCleanupToken=a,t.set(a,e.current),e.current},recordReactionAsCommitted:function(e){r.unregister(e),e.current&&e.current.finalizationRegistryCleanupToken&&t.delete(e.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}(br):function(){var e,t=new Set;function n(){void 0===e&&(e=setTimeout(r,1e4))}function r(){e=void 0;var r=Date.now();t.forEach((function(e){var n=e.current;n&&r>=n.cleanAt&&(n.reaction.dispose(),e.current=null,t.delete(e))})),t.size>0&&n()}return{addReactionToTrack:function(e,r,i){var o;return e.current=kr(r),o=e,t.add(o),n(),e.current},recordReactionAsCommitted:function(e){t.delete(e)},forceCleanupTimerToRunNowForTests:function(){e&&(clearTimeout(e),r())},resetCleanupScheduleForTests:function(){var n,r;if(t.size>0){try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.current;s&&(s.reaction.dispose(),a.current=null)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.clear()}e&&(clearTimeout(e),e=void 0)}}}(),_r=xr.addReactionToTrack,Sr=xr.recordReactionAsCommitted,Er=(xr.resetCleanupScheduleForTests,xr.forceCleanupTimerToRunNowForTests,!1);function Ar(){return Er}var Dr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function Cr(e){return"observer".concat(e)}var Pr=function(){};function Rr(){return new Pr}var Or="function"==typeof Symbol&&Symbol.for,Tr=Or?Symbol.for("react.forward_ref"):"function"==typeof t.forwardRef&&(0,t.forwardRef)((function(e){return null})).$$typeof,Br=Or?Symbol.for("react.memo"):"function"==typeof t.memo&&(0,t.memo)((function(e){return null})).$$typeof;function Fr(e,n){var r;if(Br&&e.$$typeof===Br)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(Ar())return e;var i=null!==(r=null==n?void 0:n.forwardRef)&&void 0!==r&&r,o=e,a=e.displayName||e.name;if(Tr&&e.$$typeof===Tr&&(i=!0,"function"!=typeof(o=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s,l,c=function(e,n){return function(e,n){if(void 0===n&&(n="observed"),Ar())return e();var r=Dr(t.useState(Rr),1)[0],i=Dr(t.useState(),2)[1],o=function(){return i([])},a=t.useRef(null);if(!a.current)var s=new kt(Cr(n),(function(){l.mounted?o():l.changedBeforeMount=!0})),l=_r(a,s,r);var c,u,h=a.current.reaction;if(t.useDebugValue(h,vr),t.useEffect((function(){return Sr(a),a.current?(a.current.mounted=!0,a.current.changedBeforeMount&&(a.current.changedBeforeMount=!1,o())):(a.current={reaction:new kt(Cr(n),(function(){o()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},o()),function(){a.current.reaction.dispose(),a.current=null}}),[]),h.track((function(){try{c=e()}catch(e){u=e}})),u)throw u;return c}((function(){return o(e,n)}),a)};return""!==a&&(c.displayName=a),e.contextTypes&&(c.contextTypes=e.contextTypes),i&&(c=(0,t.forwardRef)(c)),s=e,l=c=(0,t.memo)(c),Object.keys(s).forEach((function(e){Mr[e]||Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(s,e))})),c}var Mr={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};!function(e){e||(e=yr),Yt({reactionScheduler:e})}(e.unstable_batchedUpdates);var Nr=0,Ir={};function jr(e){return Ir[e]||(Ir[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+Nr+")";return Nr++,t}(e)),Ir[e]}function Hr(e,t){if(Lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!Lr(e[n[i]],t[n[i]]))return!1;return!0}function Lr(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function qr(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var zr=jr("patchMixins"),Ur=jr("patchedDefinition");function Vr(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.locks++;try{var a;return null!=e&&(a=e.apply(this,i)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,i)}))}}function Kr(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Vr.call.apply(Vr,[this,e,t].concat(r))}}function Yr(e,t,n){var r=function(e,t){var n=e[zr]=e[zr]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[Ur]){var o=e[t],a=$r(e,t,i?i.enumerable:void 0,r,o);Object.defineProperty(e,t,a)}}function $r(e,t,n,r,i){var o,a=Kr(i,r);return(o={})[Ur]=!0,o.get=function(){return a},o.set=function(i){if(this===e)a=Kr(i,r);else{var o=$r(this,t,n,r,i);Object.defineProperty(this,t,o)}},o.configurable=!0,o.enumerable=n,o}var Wr,Gr,Jr=V||"$mobx",Xr=jr("isMobXReactObserver"),Qr=jr("isUnmounted"),Zr=jr("skipRender"),ei=jr("isForcingUpdate");function ti(e){var n=e.prototype;if(e[Xr]){var r=ni(n);console.warn("The provided component class ("+r+")\n                has already been declared as an observer component.")}else e[Xr]=!0;if(n.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==t.PureComponent)if(n.shouldComponentUpdate){if(n.shouldComponentUpdate!==ii)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else n.shouldComponentUpdate=ii;oi(n,"props"),oi(n,"state"),e.contextType&&oi(n,"context");var i=n.render;if("function"!=typeof i){var o=ni(n);throw new Error("[mobx-react] class component ("+o+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return n.render=function(){return this.render=Ar()?i:ri.call(this,i),this.render()},Yr(n,"componentDidMount",(function(){this[Qr]=!1,this.render[Jr]||t.Component.prototype.forceUpdate.call(this)})),Yr(n,"componentWillUnmount",(function(){if(!Ar()){var e=this.render[Jr];if(e)e.dispose(),this.render[Jr]=null;else{var t=ni(this);console.warn("The reactive render of an observer class component ("+t+")\n                was overridden after MobX attached. This may result in a memory leak if the\n                overridden reactive render was not properly disposed.")}this[Qr]=!0}})),e}function ni(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function ri(e){var n=this;qr(this,Zr,!1),qr(this,ei,!1);var r=ni(this),i=e.bind(this),o=!1;return function e(){var a;o=!1;var s=null!=(a=e[Jr])?a:e[Jr]=function(){var e=new kt(r+".render()",(function(){if(!o&&(o=!0,!0!==n[Qr])){var r=!0;try{qr(n,ei,!0),n[Zr]||t.Component.prototype.forceUpdate.call(n),r=!1}finally{qr(n,ei,!1),r&&(e.dispose(),n.render[Jr]=null)}}}));return e.reactComponent=n,e}(),l=void 0,c=void 0;if(s.track((function(){try{c=ze(!1,i)}catch(e){l=e}})),l)throw l;return c}}function ii(e,t){return Ar()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!Hr(this.props,e)}function oi(e,t){var n=jr("reactProp_"+t+"_valueHolder"),r=jr("reactProp_"+t+"_atomHolder");function i(){return this[r]||qr(this,r,$("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return st&&lt&&(e=st(!0)),i.call(this).reportObserved(),st&&lt&&lt(e),this[n]},set:function(e){this[ei]||Hr(this[n],e)?qr(this,n,e):(qr(this,n,e),qr(this,Zr,!0),i.call(this).reportChanged(),qr(this,Zr,!1))}})}function ai(e){return!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(t.Component,e)||Object.prototype.isPrototypeOf.call(t.PureComponent,e)?ti(e):Fr(e)}if(!t.Component)throw new Error("mobx-react requires React to be available");if(!Re)throw new Error("mobx-react requires mobx to be available");function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},si.apply(this,arguments)}function li(e,t){if(!1===e||null==e)throw new Error(t)}function ci(e,t,n,r){return void 0===n&&(n=null),si({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?hi(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function ui(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function hi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function pi(e){let t="undefined"!=typeof window&&void 0!==window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,n="string"==typeof e?e:ui(e);return li(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}function di(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=new Set),e.map(((e,r)=>{let i=[...t,r],o="string"==typeof e.id?e.id:i.join("-");return li(!0!==e.index||!e.children,"Cannot specify children on an index route"),li(!n.has(o),'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),n.add(o),function(e){return!0===e.index}(e)?si({},e,{id:o}):si({},e,{id:o,children:e.children?di(e.children,i,n):void 0})}))}function fi(e,t,n){void 0===n&&(n="/");let r=Ci(("string"==typeof t?hi(t):t).pathname||"/",n);if(null==r)return null;let i=mi(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let e=0;null==o&&e<i.length;++e)o=Ei(i[e],Di(r));return o}function mi(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(li(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=Ti([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(li(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),mi(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Si(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of gi(e.path))i(e,t,n);else i(e,t)})),t}function gi(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=gi(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Wr||(Wr={})),function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Gr||(Gr={}));const yi=/^:\w+$/,vi=3,bi=2,ki=1,wi=10,xi=-2,_i=e=>"*"===e;function Si(e,t){let n=e.split("/"),r=n.length;return n.some(_i)&&(r+=xi),t&&(r+=bi),n.filter((e=>!_i(e))).reduce(((e,t)=>e+(yi.test(t)?vi:""===t?ki:wi)),r)}function Ei(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let e=0;e<n.length;++e){let a=n[e],s=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=Ai({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=a.route;o.push({params:r,pathname:Ti([i,c.pathname]),pathnameBase:Bi(Ti([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=Ti([i,c.pathnameBase]))}return o}function Ai(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),Pi("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return Pi(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function Di(e){try{return decodeURI(e)}catch(t){return Pi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Ci(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Pi(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function Ri(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Oi(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}const Ti=e=>e.join("/").replace(/\/\/+/g,"/"),Bi=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fi=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Mi=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class Ni extends Error{}class Ii{constructor(e){let t;this.pendingKeys=new Set,this.subscriber=void 0,li(e&&"object"==typeof e&&!Array.isArray(e),"defer() only accepts plain objects"),this.abortPromise=new Promise(((e,n)=>t=n)),this.controller=new AbortController;let n=()=>t(new Ni("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",n),this.controller.signal.addEventListener("abort",n),this.data=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:this.trackPromise(n,r)})}),{})}trackPromise(e,t){if(!(t instanceof Promise))return t;this.pendingKeys.add(e);let n=Promise.race([t,this.abortPromise]).then((t=>this.onSettle(n,e,null,t)),(t=>this.onSettle(n,e,t)));return n.catch((()=>{})),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(e,t,n,r){if(this.controller.signal.aborted&&n instanceof Ni)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>n}),Promise.reject(n);this.pendingKeys.delete(t),this.done&&this.unlistenAbortSignal();const i=this.subscriber;return n?(Object.defineProperty(e,"_error",{get:()=>n}),i&&i(!1),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:()=>r}),i&&i(!1),r)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach(((e,t)=>this.pendingKeys.delete(t)));let e=this.subscriber;e&&e(!0)}async resolveData(e){let t=!1;if(!this.done){let n=()=>this.cancel();e.addEventListener("abort",n),t=await new Promise((t=>{this.subscribe((r=>{e.removeEventListener("abort",n),(r||this.done)&&t(r)}))}))}return t}get done(){return 0===this.pendingKeys.size}get unwrappedData(){return li(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:ji(r)})}),{})}}function ji(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}class Hi{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Li(e){return e instanceof Hi}const qi=["post","put","patch","delete"],zi=new Set(qi),Ui=["get",...qi],Vi=new Set(Ui),Ki=new Set([301,302,303,307,308]),Yi=new Set([307,308]),$i={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Wi={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Gi=!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement);function Ji(e,t,n){void 0===n&&(n=!1);let r,i="string"==typeof e?e:ui(e);if(!t||!function(e){return null!=e&&"formData"in e}(t))return{path:i};if(t.formMethod&&(o=t.formMethod,!Vi.has(o)))return{path:i,error:so(405,{method:t.formMethod})};var o;if(t.formData&&(r={formMethod:t.formMethod||"get",formAction:co(i),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},fo(r.formMethod)))return{path:i,submission:r};let a=hi(i);try{let e=no(t.formData);n&&a.search&&yo(a.search)&&e.append("index",""),a.search="?"+e}catch(e){return{path:i,error:so(400)}}return{path:ui(a),submission:r}}function Xi(e,t,n,r,i,o,a,s,l,c){let u=l?Object.values(l)[0]:s?Object.values(s)[0]:void 0,h=function(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}(t,l?Object.keys(l)[0]:void 0).filter(((t,a)=>null!=t.route.loader&&(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(e.loaderData,e.matches[a],t)||o.some((e=>e===t.route.id))||Zi(e.location,e.matches[a],n,r,t,i,u)))),p=[];return c&&c.forEach(((e,t)=>{let[r,o,s]=e;(a.includes(t)||i&&Zi(r,o,n,r,o,i,u))&&p.push([t,r,o,s])})),[h,p]}function Qi(e,t){let n=e.route.path;return e.pathname!==t.pathname||n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Zi(e,t,n,r,i,o,a){let s=pi(e),l=t.params,c=pi(r),u=i.params,h=Qi(t,i)||s.toString()===c.toString()||s.search!==c.search||o;if(i.route.shouldRevalidate){let e=i.route.shouldRevalidate(si({currentUrl:s,currentParams:l,nextUrl:c,nextParams:u},n,{actionResult:a,defaultShouldRevalidate:h}));if("boolean"==typeof e)return e}return h}async function eo(e,t,n,r,i,o,a,s){let l,c,u;void 0===i&&(i="/"),void 0===o&&(o=!1),void 0===a&&(a=!1);let h=new Promise(((e,t)=>u=t)),p=()=>u();t.signal.addEventListener("abort",p);try{let r=n.route[e];li(r,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),c=await Promise.race([r({request:t,params:n.params,context:s}),h]),li(void 0!==c,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){l=Gr.error,c=e}finally{t.signal.removeEventListener("abort",p)}if(function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&void 0!==e.body}(c)){let e,s=c.status;if(Ki.has(s)){let e=c.headers.get("Location");if(li(e,"Redirects returned/thrown from loaders/actions must have a Location header"),!/^[a-z+]+:\/\//i.test(e)&&!e.startsWith("//")){let o=function(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=hi(e):(i=si({},e),li(!i.pathname||!i.pathname.includes("?"),Ri("?","pathname","search",i)),li(!i.pathname||!i.pathname.includes("#"),Ri("#","pathname","hash",i)),li(!i.search||!i.search.includes("#"),Ri("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(r||null==s)o=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?hi(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Fi(r),hash:Mi(i)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}(e,Oi(r.slice(0,r.indexOf(n)+1)).map((e=>e.pathnameBase)),new URL(t.url).pathname);if(li(ui(o),"Unable to resolve redirect location: "+e),i){let e=o.pathname;o.pathname="/"===e?i:Ti([i,e])}e=ui(o)}if(o)throw c.headers.set("Location",e),c;return{type:Gr.redirect,status:s,location:e,revalidate:null!==c.headers.get("X-Remix-Revalidate")}}if(a)throw{type:l||Gr.data,response:c};let u=c.headers.get("Content-Type");return e=u&&/\bapplication\/json\b/.test(u)?await c.json():await c.text(),l===Gr.error?{type:l,error:new Hi(s,c.statusText,e),headers:c.headers}:{type:Gr.data,data:e,statusCode:c.status,headers:c.headers}}return l===Gr.error?{type:l,error:c}:c instanceof Ii?{type:Gr.deferred,deferredData:c}:{type:Gr.data,data:c}}function to(e,t,n){let r=pi(co(e)).toString(),i={signal:t};if(n&&fo(n.formMethod)){let{formMethod:e,formEncType:t,formData:r}=n;i.method=e.toUpperCase(),i.body="application/x-www-form-urlencoded"===t?no(r):r}return new Request(r,i)}function no(e){let t=new URLSearchParams;for(let[n,r]of e.entries())li("string"==typeof r,'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),t.append(n,r);return t}function ro(e,t,n,r,i,o,a,s){let{loaderData:l,errors:c}=function(e,t,n,r,i){let o,a={},s=null,l=!1,c={};return n.forEach(((n,u)=>{let h=t[u].route.id;if(li(!po(n),"Cannot handle redirect results in processLoaderData"),ho(n)){let t=oo(e,h),i=n.error;r&&(i=Object.values(r)[0],r=void 0),s=s||{},null==s[t.route.id]&&(s[t.route.id]=i),a[h]=void 0,l||(l=!0,o=Li(n.error)?n.error.status:500),n.headers&&(c[h]=n.headers)}else uo(n)?(i&&i.set(h,n.deferredData),a[h]=n.deferredData.data):(a[h]=n.data,null==n.statusCode||200===n.statusCode||l||(o=n.statusCode),n.headers&&(c[h]=n.headers))})),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:c}}(t,n,r,i,s);for(let t=0;t<o.length;t++){let[n,,r]=o[t];li(void 0!==a&&void 0!==a[t],"Did not find corresponding fetcher result");let i=a[t];if(ho(i)){let t=oo(e.matches,r.route.id);c&&c[t.route.id]||(c=si({},c,{[t.route.id]:i.error})),e.fetchers.delete(n)}else{if(po(i))throw new Error("Unhandled fetcher revalidation redirect");if(uo(i))throw new Error("Unhandled fetcher deferred data");{let t={state:"idle",data:i.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(n,t)}}}return{loaderData:l,errors:c}}function io(e,t,n,r){let i=si({},t);for(let o of n){let n=o.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function oo(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function ao(e){let t=e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function so(e,t){let{pathname:n,routeId:r,method:i}=void 0===t?{}:t,o="Unknown Server Error",a="Unknown @remix-run/router error";return 400===e?(o="Bad Request",a=i&&n&&r?"You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"Cannot submit binary form data using GET"):403===e?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):404===e?(o="Not Found",a='No route matches URL "'+n+'"'):405===e&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Hi(e||500,o,new Error(a),!0)}function lo(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(po(n))return n}}function co(e){return ui(si({},"string"==typeof e?hi(e):e,{hash:""}))}function uo(e){return e.type===Gr.deferred}function ho(e){return e.type===Gr.error}function po(e){return(e&&e.type)===Gr.redirect}function fo(e){return zi.has(e)}async function mo(e,t,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],l=t[a],c=e.find((e=>e.route.id===l.route.id)),u=null!=c&&!Qi(c,l)&&void 0!==(o&&o[l.route.id]);uo(s)&&(i||u)&&await go(s,r,i).then((e=>{e&&(n[a]=e||n[a])}))}}async function go(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Gr.data,data:e.deferredData.unwrappedData}}catch(e){return{type:Gr.error,error:e}}return{type:Gr.data,data:e.deferredData.data}}}function yo(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function vo(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function bo(e,t){let n="string"==typeof t?hi(t).search:t.search;if(e[e.length-1].route.index&&yo(n||""))return e[e.length-1];let r=Oi(e);return r[r.length-1]}function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ko.apply(this,arguments)}const wo="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:xo,useEffect:_o,useLayoutEffect:So,useDebugValue:Eo}=n;function Ao(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!wo(n,e)}catch(e){return!0}}const Do="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t,n){return t()}:function(e,t,n){const r=t(),[{inst:i},o]=xo({inst:{value:r,getSnapshot:t}});return So((()=>{i.value=r,i.getSnapshot=t,Ao(i)&&o({inst:i})}),[e,r,t]),_o((()=>(Ao(i)&&o({inst:i}),e((()=>{Ao(i)&&o({inst:i})})))),[e]),Eo(r),r},Co=Do,Po=t.createContext(null),Ro=t.createContext(null),Oo=t.createContext(null),To=t.createContext(null),Bo=t.createContext(null),Fo=t.createContext({outlet:null,matches:[]}),Mo=t.createContext(null);function No(){return null!=t.useContext(Bo)}function Io(){let e=function(){var e;let n=t.useContext(Mo),r=function(e){let n=t.useContext(Oo);return n||li(!1),n}(qo.UseRouteError),i=function(e){let n=function(e){let n=t.useContext(Fo);return n||li(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||li(!1),r.route.id}(qo.UseRouteError);return n||(null==(e=r.errors)?void 0:e[i])}(),n=Li(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,t.createElement("p",null,"💿 Hey developer 👋"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:a},"errorElement")," props on ",t.createElement("code",{style:a},"<Route>")))}class jo extends t.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(Fo.Provider,{value:this.props.routeContext},t.createElement(Mo.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ho(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(Po);return o&&r.route.errorElement&&(o._deepestRenderedBoundaryId=r.route.id),t.createElement(Fo.Provider,{value:n},i)}var Lo,qo,zo;function Uo(e){let{fallbackElement:n,router:r}=e,i=Co(r.subscribe,(()=>r.state),(()=>r.state)),o=t.useMemo((()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})})),[r]),a=r.basename||"/";return t.createElement(Ro.Provider,{value:{router:r,navigator:o,static:!1,basename:a}},t.createElement(Oo.Provider,{value:i},t.createElement(Ko,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:o},r.state.initialized?t.createElement(Yo,null):n)))}function Vo(e){li(!1)}function Ko(e){let{basename:n="/",children:r=null,location:i,navigationType:o=Wr.Pop,navigator:a,static:s=!1}=e;No()&&li(!1);let l=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:l,navigator:a,static:s})),[l,a,s]);"string"==typeof i&&(i=hi(i));let{pathname:u="/",search:h="",hash:p="",state:d=null,key:f="default"}=i,m=t.useMemo((()=>{let e=Ci(u,l);return null==e?null:{pathname:e,search:h,hash:p,state:d,key:f}}),[l,u,h,p,d,f]);return null==m?null:t.createElement(To.Provider,{value:c},t.createElement(Bo.Provider,{children:r,value:{location:m,navigationType:o}}))}function Yo(e){let{children:n,location:r}=e,i=t.useContext(Ro);return function(e,n){No()||li(!1);let{navigator:r}=t.useContext(To),i=t.useContext(Oo),{matches:o}=t.useContext(Fo),a=o[o.length-1],s=a?a.params:{},l=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let c,u=(No()||li(!1),t.useContext(Bo).location);if(n){var h;let e="string"==typeof n?hi(n):n;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||li(!1),c=e}else c=u;let p=c.pathname||"/",d=fi(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),f=function(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}let i=e,o=null==r?void 0:r.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&(null==o?void 0:o[e.route.id])));e>=0||li(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight(((e,a,s)=>{let l=a.route.id?null==o?void 0:o[a.route.id]:null,c=r?a.route.errorElement||t.createElement(Io,null):null,u=n.concat(i.slice(0,s+1)),h=()=>t.createElement(Ho,{match:a,routeContext:{outlet:e,matches:u}},l?c:void 0!==a.route.element?a.route.element:e);return r&&(a.route.errorElement||0===s)?t.createElement(jo,{location:r.location,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u}}):h()}),null)}(d&&d.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Ti([l,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Ti([l,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,i||void 0);return n&&f?t.createElement(Bo.Provider,{value:{location:ko({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Wr.Pop}},f):f}(i&&!n?i.router.routes:$o(n),r)}function $o(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;if(e.type===t.Fragment)return void r.push.apply(r,$o(e.props.children,n));e.type!==Vo&&li(!1),e.props.index&&e.props.children&&li(!1);let o=[...n,i],a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(a.children=$o(e.props.children,o)),r.push(a)})),r}!function(e){e.UseRevalidator="useRevalidator"}(Lo||(Lo={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(qo||(qo={})),function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(zo||(zo={})),new Promise((()=>{})),t.Component;var Wo=i(3358),Go=i.n(Wo),Jo=i(5072),Xo=i.n(Jo),Qo=i(7825),Zo=i.n(Qo),ea=i(7659),ta=i.n(ea),na=i(5056),ra=i.n(na),ia=i(540),oa=i.n(ia),aa=i(1113),sa=i.n(aa),la=i(5399),ca={};ca.styleTagTransform=sa(),ca.setAttributes=ra(),ca.insert=ta().bind(null,"head"),ca.domAPI=Zo(),ca.insertStyleElement=oa(),Xo()(la.A,ca);const ua=la.A&&la.A.locals?la.A.locals:void 0;var ha=i(2856),pa={};pa.styleTagTransform=sa(),pa.setAttributes=ra(),pa.insert=ta().bind(null,"head"),pa.domAPI=Zo(),pa.insertStyleElement=oa(),Xo()(ha.A,pa);const da=ha.A&&ha.A.locals?ha.A.locals:void 0;function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fa.apply(this,arguments)}function ma(e){let{type:n,size:r,className:i,children:o,to:a,...s}=e;return t.createElement("button",fa({className:Go()(da.button,i,n&&da[n],r&&da[r])},s),o)}var ga=i(5316),ya={};ya.styleTagTransform=sa(),ya.setAttributes=ra(),ya.insert=ta().bind(null,"head"),ya.domAPI=Zo(),ya.insertStyleElement=oa(),Xo()(ga.A,ya);const va=ga.A&&ga.A.locals?ga.A.locals:void 0;function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ba.apply(this,arguments)}function ka(e){let{onValueChange:n,onChange:r,...i}=e;const o=(0,t.useCallback)((e=>{r&&r(e),e.isDefaultPrevented&&n&&n(e.currentTarget.value)}),[r,n]);return t.createElement("div",{className:va.container},t.createElement("input",ba({className:va.input},i,{onChange:o})))}function wa(e){let{onValueChange:n,onChange:r,min:i,max:o,value:a,className:s,...l}=e;const[c,u]=(0,t.useState)((()=>String(a||0)));(0,t.useEffect)((()=>{u(String(a))}),[a]);const h=(0,t.useCallback)((e=>{r&&r(e),e.isDefaultPrevented&&u(e.currentTarget.value)}),[r,n]),p=(0,t.useCallback)((()=>{let e=Math.floor(Number(c));i&&(e=Math.max(i,e)),o&&(e=Math.min(o,e)),n&&n(e),u(String(e))}),[c,a]),d=(0,t.useCallback)((()=>{a<o&&n&&n(a+1)}),[a,o]),f=(0,t.useCallback)((()=>{a>i&&n&&n(a-1)}),[a,i]);return t.createElement("div",{className:va.container},t.createElement(ma,{disabled:a<=i,className:va.btn,onClick:f},"-"),t.createElement("input",ba({className:Go()(va.input,va.inputNum,s)},l,{value:c,onChange:h,onBlur:p,inputMode:"numeric"})),t.createElement(ma,{disabled:a>=o,className:va.btn,onClick:d},"+"))}function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xa.apply(this,arguments)}function _a(e){let{className:n,numberOfLines:r,style:i,onPress:o,...a}=e;return t.createElement("span",xa({className:Go()(ua.text,n,r&&ua["numberOfLine"+r]),onClick:o},a))}const Sa=(0,t.forwardRef)((function(e,n){let{className:r,...i}=e;return t.createElement("div",xa({ref:n,className:Go()(ua.view,r)},i))}));function Ea(e){let{activeOpacity:n,className:r,onPress:i,onLongPress:o,disabled:a,...s}=e,l=(0,t.useMemo)((()=>({})));const c=(0,t.useCallback)((()=>{a||i()}),[a,i]),u=(0,t.useCallback)((()=>{l.timer=setTimeout((()=>{o()}),800)}),[o]),h=(0,t.useCallback)((()=>{l.timer&&(clearTimeout(l.timer),l.timer=null)}),[o]);return t.createElement("div",xa({className:Go()(ua.touchable,a&&ua.disabled,r),onClick:c},s,{onMouseDown:u,onTouchStart:u,onMouseUp:h,onTouchEnd:h,role:"button"}))}const Aa=t.forwardRef((function(e,n){let{className:r,children:i,contentContainerClassName:o,horizontal:a,bounces:s=!0,...l}=e;return t.createElement("div",xa({className:Go()(a?ua.scrollViewH:ua.scrollView,s&&ua.bounces,r)},l,{ref:n}),t.createElement("div",{className:Go()(a?ua.scrollViewContentH:ua.scrollViewContent,o)},i))})),Da=t.memo((function(e){let{render:t,data:n}=e;return t(n)}));function Ca(e){let{enableEmptySections:n,dataSource:r,renderFooter:i,renderRow:o,...a}=e;return t.createElement(Aa,a,r&&r.map((e=>t.createElement(Da,{render:o,data:e,key:e.key||e[0]}))),i&&t.createElement(Da,{render:i}))}function Pa(e){let{value:n,onValueChange:r}=e;const i=t.useCallback((e=>{r(e.currentTarget.checked)}));return t.createElement("input",{type:"checkbox",checked:n,onChange:i})}Ca.DataSource=class{constructor(){}cloneWithRows(e){return[...e]}};var Ra=i(5516),Oa=function(){};function Ta(e,t){void 0===t&&(t="Illegal state"),e||function(e){throw new Error("[mobx-utils] "+e)}(t)}var Ba=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(Ba(Object.getPrototypeOf(e))||[])},Fa=function(e){return function(e){var t=Ba(e);return t.filter((function(e,n){return t.indexOf(e)===n}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))},Ma="pending",Na="fulfilled",Ia="rejected";function ja(e){switch(this.state){case Ma:return e.pending&&e.pending(this.value);case Ia:return e.rejected&&e.rejected(this.value);case Na:return e.fulfilled?e.fulfilled(this.value):this.value}}function Ha(e,t){if(Ta(arguments.length<=2,"fromPromise expects up to two arguments"),Ta("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var n=e;e.then(Bt("observableFromPromise-resolve",(function(e){n.value=e,n.state=Na})),Bt("observableFromPromise-reject",(function(e){n.value=e,n.state=Ia}))),n.isPromiseBasedObservable=!0,n.case=ja;var r=t&&t.state===Na?t.value:void 0;return $t(n,{value:r,state:Ma},{},{deep:!1}),n}function La(e,t,n){void 0===t&&(t=Oa),void 0===n&&(n=void 0);var r=!1,i=!1,o=n,a=function(){r&&(r=!1,t())},s=$("ResourceBasedObservable",(function(){Ta(!r&&!i),r=!0,e((function(e){ze(!0,(function(){o=e,s.reportChanged()}))}))}),a);return{current:function(){return Ta(!i,"subscribingObservable has already been disposed"),s.reportObserved()||r||console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),o},dispose:function(){i=!0,a()},isAlive:function(){return r}}}!function(e){e.reject=Bt("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state=Ia,n.value=t,n})),e.resolve=Bt("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state=Na,n.value=t,n}))}(Ha||(Ha={}));var qa=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};!function(){function e(e,t){var n=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),bn(this),Mt((function(){n.current=t,n.subscription=e.subscribe(n)}))}Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(e.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e}}),Object.defineProperty(e.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(e.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e,this.dispose()}}),qa([Re.ref],e.prototype,"current",void 0),qa([Bt.bound],e.prototype,"next",null),qa([Bt.bound],e.prototype,"complete",null),qa([Bt.bound],e.prototype,"error",null)}();var za=function(){return za=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},za.apply(this,arguments)},Ua=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Va=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function Ka(e,t){var n=lr(e,t);if(!n)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return an(n,(function(){}))}!function(){function e(e){var t=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:Re.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:Re.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return t.localValues.has(e)}}),bn(this),Ta(Jn(e),"createViewModel expects an observable object");var n=Fa(this);Fa(e).forEach((function(r){var i;if(!n.includes(r)&&r!==V&&"__mobxDidRunLazyInitializers"!==r){if(Ta(-1===Va.indexOf(r),"The propertyname "+r+" is reserved and cannot be used with viewModels"),rn(e,r)){var o=cr(e,r),a=o.derivation.bind(t),s=null===(i=o.setter_)||void 0===i?void 0:i.bind(t);t.localComputedValues.set(r,Fe(a,{set:s}))}var l=Object.getOwnPropertyDescriptor(e,r),c=l?{enumerable:l.enumerable}:{};Object.defineProperty(t,r,za(za({},c),{configurable:!0,get:function(){return rn(e,r)?t.localComputedValues.get(r).get():t.isPropertyDirty(r)?t.localValues.get(r):t.model[r]},set:Bt((function(n){rn(e,r)?t.localComputedValues.get(r).set(n):n!==t.model[r]?t.localValues.set(r,n):t.localValues.delete(r)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;(function(e){return Jn(e)?e[V].keys_():Ln(e)||Un(e)?Array.from(e.keys()):Bn(e)?e.map((function(e,t){return t})):void r(5)})(this.localValues).forEach((function(t){var n=e.localValues.get(t),r=e.model[t];Bn(r)?r.replace(n):Ln(r)?(r.clear(),r.merge(n)):nn(n)||(e.model[t]=n)})),this.localValues.clear()}}),Object.defineProperty(e.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(e.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.localValues.delete(e)}}),Ua([Fe],e.prototype,"isDirty",null),Ua([Fe],e.prototype,"changedValues",null),Ua([Bt.bound],e.prototype,"submit",null),Ua([Bt.bound],e.prototype,"reset",null),Ua([Bt.bound],e.prototype,"resetProperty",null)}();var Ya={};function $a(e){return tt()||console.warn("'expr' should only be used inside other reactive functions."),Fe(e).get()}var Wa,Ga,Ja,Xa,Qa=(Wa=function(e,t){return Wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Wa(e,t)},function(e,t){function n(){this.constructor=e}Wa(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Za=(function(e){function t(t,n,r){var i=void 0===r?{}:r,o=i.name,a=void 0===o?"ogm"+(1e3*Math.random()|0):o,s=i.keyToName,l=void 0===s?function(e){return""+e}:s,c=e.call(this)||this;Object.defineProperty(c,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),c._keyToName=l,c._groupBy=n,c._ogmInfoKey=Symbol("ogmInfo"+a),c._base=t;for(var u=0;u<t.length;u++)c._addItem(t[u]);return c._disposeBaseObserver=an(c._base,(function(e){if("splice"===e.type)un((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];c._removeItem(r)}for(var i=0,o=e.added;i<o.length;i++){var a=o[i];c._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");un((function(){c._removeItem(e.oldValue),c._addItem(e.newValue)}))}})),c}Qa(t,e),Object.defineProperty(t.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(e){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}}}),Object.defineProperty(t.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=Re([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,n)),n}}),Object.defineProperty(t.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)}}),Object.defineProperty(t.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=this._groupBy(e),r=this._getGroupArr(n),i={groupByValue:n,groupArrIndex:r.length,reaction:Lt((function(){return t._groupBy(e)}),(function(n,r){var i=e[t._ogmInfoKey];t._removeFromGroupArr(i.groupByValue,i.groupArrIndex);var o=t._getGroupArr(n),a=o.length;o.push(e),i.groupByValue=n,i.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),r.push(e)}}),Object.defineProperty(t.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}})}(Hn),function(){function e(e,t){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var n=this.closest=this.root=e,r=0;r<this.args.length-1&&(n=n.get(t[r]));r++)this.closest=n;this.closestIdx=r}return Object.defineProperty(e.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])}}),Object.defineProperty(e.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertNotDisposed();for(var t=this.args.length,n=this.closest,r=this.closestIdx;r<t-1;r++){var i=new Map;n.set(this.args[r],i),n=i}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],r=0;r<e-1;r++)t=t.get(this.args[r]),n.push(t);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0}}),Object.defineProperty(e.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),e}());Object.defineProperty(function(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new Za(this.store,e)}});class es{constructor(e){(function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})(this,"items",[]),this.compare=e}add(e){return this.bubbleUp(this.items.length,e)}minimum(){return this.items[0]}removeMin(){1!==this.items.length?this.bubbleDown(0,this.items.pop()):this.items.pop()}bubbleUp(e,t){let n;for(;e>0&&(n=e-1>>1,this.compare(t,this.items[n]));)this.items[e]=this.items[n],e=n;return this.items[e]=t,e}bubbleDown(e,t){for(;;){let n=1+(e<<1);if(n>=this.items.length)break;if(n+1<this.items.length&&this.compare(this.items[n+1],this.items[n])&&(n+=1),!this.compare(this.items[n],t))break;this.items[e]=this.items[n],e=n}return this.items[e]=t,e}}function ts(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ns(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const rs={setTimeout:(e,t)=>window.setTimeout(e,t),clearTimeout:e=>window.clearTimeout(e),getTime:()=>Date.now(),tryUpdate:()=>{},get now(){return void 0===(e="frame")&&(e=1e3),tt()?(Ya[e]||(Ya[e]="number"==typeof e?function(e){var t;return La((function(n){n(Date.now()),t=setInterval((function(){return n(Date.now())}),e)}),(function(){clearInterval(t)}),Date.now())}(e):t=La((function(e){e(Date.now()),function n(){window.requestAnimationFrame((function(){e(Date.now()),t.isAlive()&&n()}))}()}),(function(){}),Date.now())),Ya[e].current()):Date.now();var e,t}};let is=0,os=(Ja=ns((Ga=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rs;ts(this,"rate",Ja,this),ts(this,"paused",Xa,this),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"lastEnd",Date.now()),bn(this),this.tree=new es(((e,t)=>e.at<t.at)),this.parent=e,this.parentCurrent=e.getTime(),this.isUpdating=!1,this.timer=null,this.current=0,this.onTimer=()=>{this.timer=null,this.update(),this.resetTimer()}}get now(){return this.paused?this.current:(this.parent.now-this.parentCurrent)*this.rate+this.current}dispose(){this.clearTimer()}getTime(){return this.current}tryUpdate(){this.isUpdating||this.paused||(this.parent.tryUpdate(),this.update())}setTimeout(e,t){if(isNaN(t))throw new Error("Invalid delay.");this.tryUpdate();const n={id:++is,at:this.current+t,func:e};return 0===this.tree.add(n)&&(this.isUpdating||this.paused||(this.clearTimer(),this.resetTimer())),n}clearTimeout(e){e.removed=!0}pause(){this.paused||(this.isUpdating||(this.clearTimer(),this.tryUpdate()),this.paused=!0)}resume(){this.paused&&(this.paused=!1,this.parentCurrent=this.parent.getTime(),this.isUpdating||(this.tryUpdate(),this.resetTimer()))}setRate(e){this.rate!==e&&(this.isUpdating||(this.clearTimer(),this.update()),this.rate=e,this.isUpdating||this.resetTimer())}clearTimer(){this.timer&&(this.parent.clearTimeout(this.timer),this.timer=null)}resetTimer(){if(this.paused)return;const e=this.tree.minimum();e&&(this.timer=this.parent.setTimeout(this.onTimer,(e.at-this.current)/this.rate+.01))}update(){this.isUpdating=!0;const e=this.parent.getTime(),t=this.current+(e-this.parentCurrent)*this.rate;for(;;){const e=this.tree.minimum();if(!e||e.at>t)break;this.current=e.at,this.tree.removeMin(),e.removed||(e.removed=!0,e.func())}this.current=t,this.parentCurrent=e,this.isUpdating=!1}stepPaused(e){this.isUpdating=!0;const t=this.lastEnd,n=this.current+e;let r=0;for(;;){const e=this.tree.minimum();if(!e||e.at>n)return this.current=n,this.parentCurrent=this.parent.getTime(),this.savedCurrent=n,this.isUpdating=!1,0;if(this.current=e.at,this.tree.removeMin(),e.removed||(e.removed=!0,e.func()),r+=1,r%100==0&&Date.now()-t>=48){this.lastEnd=Date.now();break}}return this.isUpdating=!1,n-this.current}}).prototype,"rate",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Xa=ns(Ga.prototype,"paused",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ns(Ga.prototype,"pause",[Bt],Object.getOwnPropertyDescriptor(Ga.prototype,"pause"),Ga.prototype),ns(Ga.prototype,"resume",[Bt],Object.getOwnPropertyDescriptor(Ga.prototype,"resume"),Ga.prototype),ns(Ga.prototype,"setRate",[Bt],Object.getOwnPropertyDescriptor(Ga.prototype,"setRate"),Ga.prototype),Ga);var as=i(7615),ss=i(5041),ls={};ls.styleTagTransform=sa(),ls.setAttributes=ra(),ls.insert=ta().bind(null,"head"),ls.domAPI=Zo(),ls.insertStyleElement=oa(),Xo()(ss.A,ls);const cs=ss.A&&ss.A.locals?ss.A.locals:void 0;function us(e){const t=document.createElement("div");t.className=cs.root;const n=document.createElement("div");n.className=cs.container,n.appendChild(document.createTextNode(e)),t.appendChild(n),document.body.appendChild(t),setTimeout((()=>{n.className=cs.container+" "+cs.visible}));let r=!1;function i(){r||(r=!0,n.className=cs.container,setTimeout((()=>{document.body.removeChild(t)}),300))}n.addEventListener("click",i),setTimeout(i,1700)}var hs,ps,ds,fs,ms,gs,ys;function vs(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bs(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ks(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let ws=(hs=class{constructor(e,t,n){bs(this,"onTimer",(()=>{if(this.timer=null,this.config.max&&this.count>=this.config.max||this.config.total&&this.total>=this.config.total)return;let e=0;if(this.config.quality){const t=this.config.quality.reduce(((e,t)=>e+t),0);let n=Math.random()*t;e=this.config.quality.findIndex((e=>n<e||(n-=e,!1)))}const{type:t,types:n}=this.config;kc.addEnemy(t||function(e){const t=Object.keys(e),n=t.reduce(((t,n)=>e[n]+t),0);let r=Math.random()*n;for(let n=0;n<t.length;n++){if(r<e[t[n]])return t[n];r-=e[t[n]]}return t[0]}(n),this,e),this.count+=1,this.total+=1,this.setTimer()})),vs(this,"over",ps,this),bs(this,"count",0),bs(this,"total",0),bs(this,"config",null),bs(this,"timeline",null),bs(this,"timer",null),bs(this,"disposed",!1),bn(this),this.timeline=e,this.config=t,n?(this.over=n.over,this.total=n.total,this.setTimer(n.timer)):this.setTimer(!0)}testTimer(){this.config.max&&this.count>=this.config.max&&this.timer&&(this.timeline.clearTimeout(this.timer),this.timer=null)}setTimer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(this.config.max&&this.count>=this.config.max||this.config.total&&this.total>=this.config.total))if("number"!=typeof e){if(!this.timer&&!this.disposed){const t=e?this.config.warmup||0:this.config.delay&&this.config.delay+1e3*Math.random()-500;if(!e&&!t)return;this.timer=this.timeline.setTimeout(this.onTimer,t)}}else this.timer=this.timeline.setTimeout(this.onTimer,e)}dispose(){this.disposed=!0,this.timer&&(this.timeline.clearTimeout(this.timer),this.timer=null)}onEnemyKilled(){this.count-=1,this.total>=this.config.total&&this.count<=0?this.over=!0:this.setTimer()}dumpState(){return{over:this.over,total:this.total,timer:this.timer&&this.timer.at-this.timeline.getTime()}}},ps=ks(hs.prototype,"over",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hs),xs=(ys=ks((gs=class{constructor(e,t,n){bs(this,"timeline",void 0),bs(this,"borns",null),vs(this,"map",ys,this),this.timeline=e,this.map=t;const{monsters:r}=this.mapData;this.borns=r&&r.map(((t,r)=>t&&new ws(e,t,n&&n.borns&&n.borns[r])))}dispose(){this.borns&&(this.borns.forEach((e=>e.dispose())),this.borns=null)}get mapData(){return as.maps[this.map]}dumpState(){return{borns:this.borns&&this.borns.map((e=>e&&e.dumpState()))}}onPlayerDeath(){}}).prototype,"map",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ks(gs.prototype,"mapData",[Fe],Object.getOwnPropertyDescriptor(gs.prototype,"mapData"),gs.prototype),gs),_s=(fs=ks((ds=class extends xs{constructor(e,t,n){super(e,t,n),vs(this,"phaseBorn",fs,this),vs(this,"currentPhase",ms,this),bn(this),this.switchToPhase(n?n.currentPhase:0,n&&n.phaseBorn),this.autoDispose=It((()=>{const{phaseBorn:e,disposed:t}=this;!t&&e&&e.every((e=>!e||!e.config.total||e.over))&&this.switchToPhase(this.currentPhase+1)}))}get phaseData(){return this.mapData.phases[this.currentPhase]}switchToPhase(e,t){this.currentPhase=e,this.phaseBorn&&(this.phaseBorn.forEach((e=>e.dispose())),this.phaseBorn=null);const{phaseData:n}=this;if(n)this.phaseBorn=n.monsters&&n.monsters.map(((e,n)=>new ws(this.timeline,e,t&&t[n])));else{const{player:e}=kc,t=kc._endlessLevel?"nightmare."+kc._endlessLevel:this.mapData.group||this.map;if(e.countTicket(t)>0){const{exp:n=0,level:r,loots:i}=this.mapData;kc.gotExp(n*(kc._endlessLevel?Math.pow(1.5,kc._endlessLevel):1),Qu(r)),kc.loots(i,r,0),kc.lootEndless(),e.costTicket(t)}if(this.currentPhase=null,kc.pendingMaps.length>0){const[e,t]=kc.pendingMaps.shift();kc._map=e,kc._endlessLevel=t,kc.onMapChanged()}else kc.map=this.mapData.outside||"home"}}dispose(){this.disposed=!0,this.autoDispose&&this.autoDispose(),this.borns&&this.borns.forEach((e=>e.dispose())),this.phaseBorn&&this.phaseBorn.forEach((e=>e.dispose()))}dumpState(){const e=super.dumpState();return e.phaseBorn=this.phaseBorn&&this.phaseBorn.map((e=>e&&e.dumpState())),e.currentPhase=this.currentPhase,e}onPlayerDeath(){if(this.currentPhase=null,kc.pendingMaps.length>0){const[e,t]=kc.pendingMaps.shift();kc._map=e,kc._endlessLevel=t,kc.onMapChanged()}else kc.map=this.mapData.outside||"home"}}).prototype,"phaseBorn",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ms=ks(ds.prototype,"currentPhase",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ks(ds.prototype,"phaseData",[Fe],Object.getOwnPropertyDescriptor(ds.prototype,"phaseData"),ds.prototype),ks(ds.prototype,"switchToPhase",[Bt],Object.getOwnPropertyDescriptor(ds.prototype,"switchToPhase"),ds.prototype),ds);const Ss=/[\p{Lu}]/u,Es=/[\p{Ll}]/u,As=/^[\p{Lu}](?![\p{Lu}])/gu,Ds=/([\p{Alpha}\p{N}_]|$)/u,Cs=/[_.\- ]+/,Ps=new RegExp("^"+Cs.source),Rs=new RegExp(Cs.source+Ds.source,"gu"),Os=new RegExp("\\d+"+Ds.source,"gu");function Ts(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const n=!1===t.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t.locale),r=!1===t.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t.locale);return 1===e.length?Cs.test(e)?"":t.pascalCase?r(e):n(e):(e!==n(e)&&(e=((e,t,n,r)=>{let i=!1,o=!1,a=!1,s=!1;for(let l=0;l<e.length;l++){const c=e[l];s=!(l>2)||"-"===e[l-3],i&&Ss.test(c)?(e=e.slice(0,l)+"-"+e.slice(l),i=!1,a=o,o=!0,l++):o&&a&&Es.test(c)&&(!s||r)?(e=e.slice(0,l-1)+"-"+e.slice(l-1),a=o,o=!1,i=!0):(i=t(c)===c&&n(c)!==c,a=o,o=n(c)===c&&t(c)!==c)}return e})(e,n,r,t.preserveConsecutiveUppercase)),e=e.replace(Ps,""),e=t.preserveConsecutiveUppercase?((e,t)=>(As.lastIndex=0,e.replace(As,(e=>t(e)))))(e,n):n(e),t.pascalCase&&(e=r(e.charAt(0))+e.slice(1)),((e,t)=>(Rs.lastIndex=0,Os.lastIndex=0,e.replace(Rs,((e,n)=>t(n))).replace(Os,(e=>t(e)))))(e,r))}class Bs extends Ra.EventEmitter{send(e){kc.paused||this.emit("message",e)}sendGeneral(e){this.send({type:"general",message:e})}sendSystem(e,t){this.send({type:"other.system",subType:e,options:t})}sendDodge(e,t,n){this.send({type:"battle.dodge",from:e,to:t,skill:n})}sendDamage(e,t,n,r,i,o,a){r&&this.send({type:"battle.damage",damageType:e,from:t,to:n,skill:r,value:i,isCrit:o,absorbed:a})}sendHeal(e,t,n,r){this.send({type:"battle.heal",from:e,to:t,skill:n,value:r})}sendPlayerDeath(e,t){this.send({type:"player.death",who:e,rebornIn:t})}sendDeath(e,t){this.send({type:"battle.death",who:e,rebornIn:t})}sendEnterMap(e){this.send({type:"map.enter",map:e})}sendEnemyAppear(e,t){this.send({type:"enemy.appear",enemy:e,summoner:t})}sendGotExp(e,t){this.send({type:"player.gotExp",who:e,value:t})}sendLoot(e,t,n){this.send({type:"player.loot",who:e,what:t,showToast:n})}sendSkillUsage(e,t,n){this.send({type:"battle.skill",from:e,targets:t,skill:n})}sendBuff(e,t){this.send({type:"battle.buff",who:e,what:t})}sendBuffOff(e,t){this.send({type:"battle.buffOff",who:e,what:t})}sendBreakCasting(e,t){this.send({type:"battle.breakCasting",who:e,what:t})}}const Fs=new Bs;var Ms,Ns,Is,js,Hs,Ls,qs,zs,Us,Vs,Ks,Ys,$s,Ws,Gs,Js,Xs,Qs,Zs,el,tl,nl,rl,il,ol,al,sl,ll,cl,ul,hl,pl,dl,fl,ml,gl,yl,vl,bl;function kl(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function wl(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xl(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const _l=.5,Sl="ghost",El="neutral",Al="player",Dl="enemy",Cl={ghost:{},neutral:{player:!0,alien:!0},player:{neutral:!0,enemy:"hate"},alien:{neutral:!0,enemy:"hate"},enemy:{player:"hate",alien:"hate"},shrine:{},story:{}},Pl={ghost:{},neutral:{neutral:!0,enemy:!0},player:{player:!0,alien:!0},alien:{player:!0,alien:!0},enemy:{neutral:!0,enemy:!0},shrine:{}};let Rl=0,Ol=(Ns=xl((Ms=class{constructor(e,t,n,r){kl(this,"type",Ns,this),wl(this,"timeline",null),wl(this,"unit",null),wl(this,"coolDownTimer",null),kl(this,"cooleddown",Is,this),kl(this,"coolDownAt",js,this),kl(this,"effect",Hs,this),kl(this,"onCoolDown",Ls,this),bn(this),this.timeline=e,this.type=n,this.unit=t,r?r.coolDown&&this.setupCoolDown(r.coolDown):this.setupCoolDown()}getLevel(){return 0}addSkillExp(){}reduceCoolDown(e,t){if(!this.cooleddown){const t=Math.max(this.coolDownAt-this.timeline.getTime()-e,10);this.setupCoolDown(t,!0)}}setupCoolDown(e,t){const{skillData:n}=this;n||alert(this.type);const r=e||("function"==typeof n.coolDown?n.coolDown(this.getLevel(),this.unit):n.coolDown);!t&&this.coolDownAt-this.timeline.getTime()>=r||(this.coolDownTimer&&(this.timeline.clearTimeout(this.coolDownTimer),this.coolDownTimer=null),r&&r>0?(this.coolDownAt=this.timeline.getTime()+r,this.cooleddown=!1,this.coolDownTimer=this.timeline.setTimeout(this.onCoolDown,r)):this.cooleddown=!0)}get shouldUse(){if(!this.canUse)return!1;const{skillData:e}=this;return!e.shouldUse||e.shouldUse.call(this,kc,this.unit,this.getLevel())}get canUse(){if(!this.cooleddown)return!1;const{skillData:e}=this;return!(e.isAttack&&!this.unit.attackCooledDown||e.cost&&["hp","mp","rp","ep","comboPoint"].some((t=>{let n=e.cost[t];return"function"==typeof n&&(n=n(this.unit)),n&&n>this.unit[t]}))||e.canUse&&!e.canUse.call(this,kc,this.unit,this.getLevel()))}get notBreakable(){return this.skillData.notBreakable}get skillData(){return as.skills[this.type]}get name(){return this.skillData.name}dispose(){this.coolDownTimer&&(this.timeline.clearTimeout(this.coolDownTimer),this.coolDownTimer=null);for(const e of kc.units.filter((e=>e.summonSkill===this)))e.kill()}dumpState(){const e={};return this.cooleddown||(e.coolDown=this.coolDownTimer.at-this.timeline.getTime()),e}testBreak(){const{antiBreak:e}=this.skillData;return!e||Math.random()<1-e}}).prototype,"type",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Is=xl(Ms.prototype,"cooleddown",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),js=xl(Ms.prototype,"coolDownAt",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xl(Ms.prototype,"setupCoolDown",[Bt],Object.getOwnPropertyDescriptor(Ms.prototype,"setupCoolDown"),Ms.prototype),Hs=xl(Ms.prototype,"effect",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{skillData:e}=this;e.effect.call(this,kc,this.unit,this.getLevel()),e.isAttack&&this.unit.setAttackCoolDown(),e.cost&&["hp","mp","rp","ep","comboPoint"].forEach((t=>{let n=e.cost[t];"function"==typeof n&&(n=n(this.unit)),n&&("rp"===t&&(this.unit.hp+=n*(this.unit.rpRecHp||0)),this.unit[t]-=n,this.unit.runAttrHooks(n,Ts("postCost-"+t)))})),this.setupCoolDown(),this.addSkillExp()}}}),Ls=xl(Ms.prototype,"onCoolDown",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.coolDownTimer=null,this.coolDownAt=0,this.cooleddown=!0}}}),xl(Ms.prototype,"shouldUse",[Fe],Object.getOwnPropertyDescriptor(Ms.prototype,"shouldUse"),Ms.prototype),xl(Ms.prototype,"canUse",[Fe],Object.getOwnPropertyDescriptor(Ms.prototype,"canUse"),Ms.prototype),xl(Ms.prototype,"notBreakable",[Fe],Object.getOwnPropertyDescriptor(Ms.prototype,"notBreakable"),Ms.prototype),xl(Ms.prototype,"skillData",[Fe],Object.getOwnPropertyDescriptor(Ms.prototype,"skillData"),Ms.prototype),xl(Ms.prototype,"name",[Fe],Object.getOwnPropertyDescriptor(Ms.prototype,"name"),Ms.prototype),Ms),Tl=(qs=class{constructor(e,t,n,r,i,o){wl(this,"expireAt",null),wl(this,"timeline",null),wl(this,"unit",null),wl(this,"timer",null),wl(this,"group",null),wl(this,"hookDisposes",[]),kl(this,"type",zs,this),kl(this,"arg",Us,this),kl(this,"stack",Vs,this),wl(this,"effect",(()=>{this.effectTimer=this.timeline.setTimeout(this.effect,this.effectInterval),Mt((()=>{this.buffData.effect.call(this,kc)}))})),wl(this,"over",(()=>{this.timer=null,this.unit.removeBuff(this)})),bn(this),this.timeline=e,this.unit=t,this.type=n,this.arg=i,this.group=o,r&&(this.totalTime=r,this.expireAt=e.getTime()+r,this.timer=e.setTimeout(this.over,r))}resetTimer(e){const{timeline:t}=this;this.timer&&t.clearTimeout(this.timer),e?(this.expireAt=t.getTime()+e,this.timer=t.setTimeout(this.over,e)):this.expireAt=null}get buffData(){return as.buffs[this.type]}get effectInterval(){const{effectInterval:e}=this.buffData;return"function"==typeof e?e.call(this):e}dispose(){this.didRemove()}runAttrHook(e,t){const{buffData:{hooks:n}}=this;return n&&n[t]?n[t].call(this,e):e}willAppear(){const{willAppear:e}=this.buffData;return!e||e.call(this)}didAppear(){const{timeline:e,unit:t,buffData:{didAppear:n,hooks:r},effectInterval:i}=this;if(i&&(this.effectTimer=e.setTimeout(this.effect,i)),r)for(const e of Object.keys(r))this.hookDisposes.push(t.addAttrHook(e,r[e].bind(this)));n&&n.call(this)}willRemove(){const{willRemove:e}=this.buffData;e&&e.call(this,kc)}didRemove(){const{didRemove:e}=this.buffData;e&&e.call(this,kc),this.timer&&this.timeline.clearTimeout(this.timer),this.effectTimer&&(this.timeline.clearTimeout(this.effectTimer),this.effectTimer=null);const{buffData:t}=this;t.onOver&&t.onOver.call(this,kc),this.hookDisposes&&(this.hookDisposes.forEach((e=>e())),this.hookDisposes=null),this.unit.reading===this&&(this.unit.reading=null)}dumpState(){if(this.buffData.notSave)return;const e={type:this.type,group:this.group,arg:this.arg};return this.expireAt&&(e.time=this.expireAt-this.timeline.getTime()),e}},zs=xl(qs.prototype,"type",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Us=xl(qs.prototype,"arg",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vs=xl(qs.prototype,"stack",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),xl(qs.prototype,"buffData",[Fe],Object.getOwnPropertyDescriptor(qs.prototype,"buffData"),qs.prototype),xl(qs.prototype,"effectInterval",[Fe],Object.getOwnPropertyDescriptor(qs.prototype,"effectInterval"),qs.prototype),qs),Bl=0,Fl=(Ks=class{constructor(e,t){wl(this,"key",0),wl(this,"timeline",null),wl(this,"keepAlives",[]),wl(this,"autoDisposes",[]),kl(this,"_hp",Ys,this),kl(this,"_mp",$s,this),kl(this,"_rp",Ws,this),kl(this,"_ep",Gs,this),kl(this,"_fp",Js,this),kl(this,"_cp",Xs,this),kl(this,"comboPoint",Qs,this),kl(this,"camp",Zs,this),kl(this,"target",el,this),kl(this,"skills",tl,this),kl(this,"buffs",nl,this),kl(this,"combos",rl,this),wl(this,"hooks",Re.map()),wl(this,"recoveryTimer",null),kl(this,"attackCooledDown",il,this),wl(this,"attackCoolDownTimer",null),kl(this,"casting",ol,this),wl(this,"castingTimer",null),kl(this,"reading",al,this),wl(this,"canUseSkill",(()=>this.camp===Sl||this.casting||this.reading||this.timeline.paused||this.runAttrHooks(!1,"stunned")?null:this.skills.find((e=>e.shouldUse)))),kl(this,"tryUseSkill",sl,this),kl(this,"onAttackCoolDown",ll,this),kl(this,"recovery",cl,this),bn(this),this.timeline=new os(e),this.disposeUseSkill=Lt(this.canUseSkill,this.tryUseSkill),this.disposeSpeed=It((()=>{this.timeline.setRate(this.speedRate)})),this.autoDisposes.push(It((()=>{const{target:e}=this;e&&e.camp===Sl&&this.findTarget()}))),this.key=Rl+=1}initKeepAlives(){[Ka(this,"maxHp")].forEach((e=>this.keepAlives.push(e)))}get hp(){return this._hp}set hp(e){this._hp=Math.max(0,Math.min(e,this.maxHp))}get mp(){return this._mp}set mp(e){this._mp=Math.max(0,Math.min(e,this.maxMp))}get rp(){return this._rp}set rp(e){this._rp=Math.max(0,Math.min(e,this.maxRp))}get ep(){return this._ep}set ep(e){this._ep=Math.max(0,Math.min(e,this.maxEp))}get fp(){return this._fp}set fp(e){this._fp=Math.max(0,Math.min(e,this.maxFp))}get cp(){return this._cp}set cp(e){this._cp=Math.max(0,Math.min(e,this.maxCp))}setTarget(e){this.target=e,e&&e.runAttrHooks(this,"becomeTarget")}get targetDisplayName(){return this.target?this.target.displayName:""}get rpRecHp(){let e=0;return e=this.runAttrHooks(e,"rpRecHp"),e}get castingName(){return this.casting&&this.casting.skillData.name||this.reading&&this.reading.buffData.name}get castingTime(){return this.casting?this.casting.skillData.castTime:this.reading?this.reading.totalTime:1}setCamp(e){this.camp=e,this.target=null,this.findTarget();for(const e of kc.units)e.target!==this||e.canAttack(this)||(e.target=null,e.findTarget())}get castingRest(){return this.casting?this.castingTime+this.timeline.now-this.castingTimer.at:this.reading?this.reading.expireAt-this.timeline.now:0}startRead(e,t,n,r){if(this.camp===Sl)return;const i=new Tl(this.timeline,this,e,t,n);i.skill=r,i.willAppear(),Fs.sendBuff(this,e),this.buffs.push(i),i.didAppear(),this.reading=i}get speedRate(){let e=1;return e=this.runAttrHooks(e,"speedRateAdd"),Math.min(e,4)}setAttackCoolDown(){this.attackCooledDown=!1,this.attackCoolDownTimer=this.timeline.setTimeout(this.onAttackCoolDown,1e3/this.atkSpeed)}breakCasting(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{casting:n,reading:r}=this;if(n&&!n.notBreakable){if(!t&&!n.testBreak())return;Fs.sendBreakCasting(this,n),this.timeline.clearTimeout(this.castingTimer),this.castingTimer=null,this.casting=null,e&&n.setupCoolDown(e)}if(r&&r.skill&&!r.skill.notBreakable){if(!t&&!r.skill.testBreak())return;Fs.sendBreakCasting(this,r),this.reading=null,this.removeBuff(r),e&&r.skill&&r.skill.setupCoolDown(e)}}get noDodgeRate(){return this.runAttrHooks(1,"noDodgeRate")}get dodgeRate(){return 1-this.noDodgeRate}get stunResist(){return this.runAttrHooks(0,"stunResist")}testDodge(){const{noDodgeRate:e}=this;return Math.random()>e}damage(e,t,n){return this.camp!==Sl&&(this.hp-=n,this.hp<=0?this.kill():t&&null===this.target&&this.canAttack(t)&&this.setTarget(t),!0)}kill(){this.camp=Sl,this.target=null,this.rp=0,this.mp=0,this.ep=0,this.comboPoint=0,this.casting&&(this.timeline.clearTimeout(this.castingTimer),this.casting=null,this.castingTimer=null),this.recoveryTimer&&(this.timeline.parent.clearTimeout(this.recoveryTimer),this.recoveryTimer=null);for(const e of this.buffs.slice(0))this.removeBuff(e)}findTarget(){const e=kc.units.filter((e=>this.willAttack(e))),t=e[Math.floor(Math.random()*e.length)];this.setTarget(t||null)}willAttack(e){const t=Cl[this.camp][e.camp];return this.runAttrHooks("hate"===t,"willAttack",e)}canAttack(e){return!!Cl[this.camp][e.camp]}willAssist(e){return!!Pl[this.camp][e.camp]}addSkill(e,t){this.skills.unshift(new Ol(this.timeline,this,e,t))}removeSkill(e){const t=this.skills.findIndex((t=>t.type===e));this.skills.splice(t,1)[0].dispose()}startRecovery(){this.recoveryTimer||(this.recoveryTimer=this.timeline.parent.setTimeout(this.recovery,500/this.speedRate))}addAttrHook(e,t){let n=this.hooks.get(e);n||(n=Re.map(),this.hooks.set(e,n));let r=++Bl;for(Bl>=1e5&&(Bl=0);n.has(r);)r=++Bl,Bl>=1e5&&(Bl=0);return n.set(r,t),Bt((()=>{n.delete(r)}))}runAttrHooks(e,t){let n=e;const r=this.hooks.get(t);if(r){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];for(const e of r.values())n=e(n,...o)}return n}dispose(){this.disposeUseSkill(),this.disposeSpeed(),this.keepAlives.forEach((e=>e())),this.keepAlives=[],this.skills.forEach((e=>e.dispose())),this.skills.clear();const{casting:e,reading:t}=this;e&&(this.timeline.clearTimeout(this.castingTimer),this.castingTimer=null,this.casting=null),t&&(this.reading=null,this.removeBuff(t)),this.attackCoolDownTimer&&(this.timeline.clearTimeout(this.attackCoolDownTimer),this.attackCoolDownTimer=null),this.recoveryTimer&&(this.timeline.clearTimeout(this.recoveryTimer),this.recoveryTimer=null),this.timeline.dispose();for(const e of this.autoDisposes.splice(0))e()}addBuff(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;if(this.camp===Sl)return;if(r){const a=this.buffs.filter((e=>e.group===r)).sort(((e,t)=>{let n=0;if(e.buffData.compBuff&&(n=e.buffData.compBuff(e,t)),!n)return e.expireAt-t.expireAt})),s=a.slice(0,a.length-i+1),l=s.shift();if(l&&l.type===e)return l.arg=n,l.resetTimer(t),l;const c=new Tl(this.timeline.parent,this,e,t,n,r);if(!c.willAppear())return;return l&&this.removeBuff(l),s.forEach((e=>this.removeBuff(e))),c.skill=o||0,Fs.sendBuff(this,e),this.buffs.push(c),c.didAppear(),c}const a=new Tl(this.timeline.parent,this,e,t,n,r);return a.willAppear()?(a.skill=o||0,Fs.sendBuff(this,e),this.buffs.push(a),a.didAppear(),a):void 0}removeBuff(e){const t=this.buffs.indexOf(e);t<0||(Fs.sendBuffOff(this,e.type),e.willRemove(),this.buffs.splice(t,1),e.didRemove())}dumpState(){const e={};for(const t of this.skills)e[t.type]=t.dumpState();return{camp:this.camp,hp:this.hp,rp:this.rp,ep:this.ep,mp:this.mp,target:this.target&&kc.units.indexOf(this.target),skills:e,buffs:this.buffs.map((e=>e.dumpState())),casting:this.casting&&this.skills.indexOf(this.casting),castingTimer:this.casting&&this.castingTimer.at-this.timeline.getTime(),reading:this.reading&&this.buffs.indexOf(this.reading)}}stun(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stunned",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{casting:r,reading:i}=this;if(r&&r.notBreakable&&!n)return!1;if(i&&i.skill&&!i.skill.notBreakable&&!n)return!1;const{stunResist:o}=this,a=n?e:e/(1+o/100);let s=Math.floor(a);const l=a-s;return Math.random()<l&&(s+=1),s>0&&(this.breakCasting(null,!0),this.addBuff(t,1e3*s),!0)}testCrit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=this.critRate);let t=Math.floor(e);const n=e-t;return Math.random()<n&&++t,this.runAttrHooks("testCrit",t),t}getCritBonus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===t&&(t=this.critBonus-1),1+t*e}},Ys=xl(Ks.prototype,"_hp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$s=xl(Ks.prototype,"_mp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ws=xl(Ks.prototype,"_rp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gs=xl(Ks.prototype,"_ep",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Js=xl(Ks.prototype,"_fp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xs=xl(Ks.prototype,"_cp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qs=xl(Ks.prototype,"comboPoint",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zs=xl(Ks.prototype,"camp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sl}}),el=xl(Ks.prototype,"target",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xl(Ks.prototype,"setTarget",[Bt],Object.getOwnPropertyDescriptor(Ks.prototype,"setTarget"),Ks.prototype),tl=xl(Ks.prototype,"skills",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nl=xl(Ks.prototype,"buffs",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rl=xl(Ks.prototype,"combos",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xl(Ks.prototype,"targetDisplayName",[Fe],Object.getOwnPropertyDescriptor(Ks.prototype,"targetDisplayName"),Ks.prototype),xl(Ks.prototype,"rpRecHp",[Fe],Object.getOwnPropertyDescriptor(Ks.prototype,"rpRecHp"),Ks.prototype),il=xl(Ks.prototype,"attackCooledDown",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ol=xl(Ks.prototype,"casting",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),al=xl(Ks.prototype,"reading",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xl(Ks.prototype,"castingName",[Fe],Object.getOwnPropertyDescriptor(Ks.prototype,"castingName"),Ks.prototype),xl(Ks.prototype,"castingTime",[Fe],Object.getOwnPropertyDescriptor(Ks.prototype,"castingTime"),Ks.prototype),xl(Ks.prototype,"setCamp",[Bt],Object.getOwnPropertyDescriptor(Ks.prototype,"setCamp"),Ks.prototype),xl(Ks.prototype,"castingRest",[Fe],Object.getOwnPropertyDescriptor(Ks.prototype,"castingRest"),Ks.prototype),xl(Ks.prototype,"startRead",[Bt],Object.getOwnPropertyDescriptor(Ks.prototype,"startRead"),Ks.prototype),xl(Ks.prototype,"speedRate",[Fe],Object.getOwnPropertyDescriptor(Ks.prototype,"speedRate"),Ks.prototype),xl(Ks.prototype,"setAttackCoolDown",[Bt],Object.getOwnPropertyDescriptor(Ks.prototype,"setAttackCoolDown"),Ks.prototype),xl(Ks.prototype,"breakCasting",[Bt],Object.getOwnPropertyDescriptor(Ks.prototype,"breakCasting"),Ks.prototype),sl=xl(Ks.prototype,"tryUseSkill",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(this.runAttrHooks(e,"preskill",kc),!this.casting&&e&&e.canUse){const{castTime:t}=e.skillData;t?(this.castingTimer=this.timeline.setTimeout(Bt((()=>{e.canUse&&(this.runAttrHooks(null,"preSkillEffect"),e.effect(),this.runAttrHooks(null,"postSkillEffect")),this.castingTimer=null,this.casting=null})),t),this.casting=e):(this.runAttrHooks(null,"preSkillEffect"),e.effect(),this.runAttrHooks(null,"postSkillEffect"))}}}}),ll=xl(Ks.prototype,"onAttackCoolDown",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.attackCoolDownTimer=null,this.attackCooledDown=!0}}}),xl(Ks.prototype,"noDodgeRate",[Fe],Object.getOwnPropertyDescriptor(Ks.prototype,"noDodgeRate"),Ks.prototype),xl(Ks.prototype,"dodgeRate",[Fe],Object.getOwnPropertyDescriptor(Ks.prototype,"dodgeRate"),Ks.prototype),xl(Ks.prototype,"stunResist",[Fe],Object.getOwnPropertyDescriptor(Ks.prototype,"stunResist"),Ks.prototype),xl(Ks.prototype,"damage",[Bt],Object.getOwnPropertyDescriptor(Ks.prototype,"damage"),Ks.prototype),xl(Ks.prototype,"kill",[Bt],Object.getOwnPropertyDescriptor(Ks.prototype,"kill"),Ks.prototype),xl(Ks.prototype,"findTarget",[Bt],Object.getOwnPropertyDescriptor(Ks.prototype,"findTarget"),Ks.prototype),xl(Ks.prototype,"addSkill",[Bt],Object.getOwnPropertyDescriptor(Ks.prototype,"addSkill"),Ks.prototype),xl(Ks.prototype,"removeSkill",[Bt],Object.getOwnPropertyDescriptor(Ks.prototype,"removeSkill"),Ks.prototype),cl=xl(Ks.prototype,"recovery",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.camp!==Sl?(this.hpRecovery&&(this.hp+=(this.hpRecovery||0)*_l),this.mpRecovery&&(this.mp+=(this.mpRecovery||0)*_l),this.rpRecovery&&(this.rp+=(this.rpRecovery||0)*_l),this.epRecovery&&(this.ep+=(this.epRecovery||0)*_l),this.fpRecovery&&(this.fp+=(this.fpRecovery||0)*_l),this.cpRecovery&&(this.cp+=(this.cpRecovery||0)*_l),this.recoveryTimer=null,this.startRecovery()):this.recoveryTimer=null}}}),xl(Ks.prototype,"addAttrHook",[Bt],Object.getOwnPropertyDescriptor(Ks.prototype,"addAttrHook"),Ks.prototype),xl(Ks.prototype,"addBuff",[Bt],Object.getOwnPropertyDescriptor(Ks.prototype,"addBuff"),Ks.prototype),xl(Ks.prototype,"removeBuff",[Bt],Object.getOwnPropertyDescriptor(Ks.prototype,"removeBuff"),Ks.prototype),xl(Ks.prototype,"stun",[Bt],Object.getOwnPropertyDescriptor(Ks.prototype,"stun"),Ks.prototype),Ks),Ml=(ul=class extends Fl{constructor(e,t,n){var r;super(e,n),r=this,kl(this,"player",hl,this),kl(this,"reborn",pl,this),bn(this),Mt((()=>{this.player=t,["weapon","plastron","gaiter","ornament"].forEach((e=>{let t=[];this.autoDisposes.push(It((()=>{const n=this.player.equipments[e];for(const e of t.splice(0))e();if(!n.empty)for(const e of n.affixes){const{hooks:n}=e.affixData;for(const r of Object.keys(n))t.push(this.addAttrHook(r,n[r].bind(this,e.value)))}})))}));{let e=[];this.autoDisposes.push(It((()=>{for(const t of e.splice(0))t();Object.keys(this.player.careerData.passives).forEach((t=>{if($a((()=>this.player.careerData.passives[t]<=this.player.level))){const n=as.passives[t],{hooks:r}=n;if(r)for(const t of Object.keys(r))e.push(this.addAttrHook(t,r[t].bind(this,kc)))}}))})))}{let e=[];this.autoDisposes.push(It((()=>{for(const t of e.splice(0))t();this.player.careerInfo.selectedEnhances.forEach((t=>{const{hooks:n}=as.enhances[t];if(n)for(const t of Object.keys(n))e.push(this.addAttrHook(t,n[t].bind(this,kc)))}))})))}for(const e of Object.keys(as.medicines)){const{hooks:t}=as.medicines[e];if(t)for(const n of Object.keys(t))this.addAttrHook(n,(function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t[n].apply(r,[qm.medicineLevel.get(e)||0,...o])}))}for(const e of Object.keys(as.cookings)){const{hooks:t}=as.cookings[e];if(t)for(const n of Object.keys(t))this.addAttrHook(n,(function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t[n].apply(r,[qm.cookingLevel.get(e)||0,...o])}))}}));const i=this.player.careerInfo.selectedSkills,o=n&&n.skills;for(let e=i.length-1;e>=0;e--)this.addSkill(i[e],o&&o[i[e]]);if(n){if(this.camp=n.camp,n.rebornTimer)Fs.sendPlayerDeath(this,(n.rebornTimer/1e3).toFixed(1)),this.timeline.parent.setTimeout(this.reborn,n.rebornTimer);else if(this.camp===Sl){const e=10;Fs.sendPlayerDeath(this,e),this.rebornTimer=this.timeline.parent.setTimeout(this.reborn,1e3*e)}if(n.buffs)for(const e of n.buffs)e&&e.time>0&&(e.buff=this.addBuff(e.type,e.time,e.arg,e.group,99999));if(this.hp=n.hp,this.mp=n.mp,this.rp=n.rp,this.ep=n.ep,"number"==typeof n.reading)this.reading=this.buffs[n.reading];else if("number"==typeof n.casting){const e=this.skills[n.casting],t=n.castingTimer;e&&(this.castingTimer=this.timeline.setTimeout((()=>{e.canUse&&e.effect(),this.castingTimer=null,this.casting=null}),t),this.casting=e)}}else this.hp=this.maxHp,this.mp=this.maxMp,this.camp=Al;this.setAttackCoolDown(),this.startRecovery()}initKeepAlives(){super.initKeepAlives(),[Ka(this,"maxMp"),Ka(this,"maxRp"),Ka(this,"maxEp"),Ka(this,"atk"),Ka(this,"atkSpeed"),Ka(this,"def"),Ka(this,"hpRecovery"),Ka(this,"mpRecovery"),Ka(this,"rpRecovery"),Ka(this,"epRecovery"),Ka(this,"rpOnAttack"),Ka(this,"rpOnAttacked"),Ka(this,"critRate"),Ka(this,"critBonus"),Ka(this,"leech"),Ka(this,"meleeAbsorb"),Ka(this,"fireResist"),Ka(this,"fireAbsorb"),Ka(this,"darkResist"),Ka(this,"darkAbsorb"),Ka(this,"coldResist"),Ka(this,"coldAbsorb"),Ka(this,"lightningResist"),Ka(this,"lightningAbsorb"),Ka(this,"mf"),Ka(this,"gf")].forEach((e=>this.keepAlives.push(e)))}selectCareer(e){for(const e of this.skills.splice(0))e.dispose();this.player.selectCareer(e);const t=this.player.careerInfo.selectedSkills;for(let e=t.length-1;e>=0;e--)this.addSkill(t[e])}get name(){return this.player?this.player.name:""}get displayName(){return this.runAttrHooks(this.name,"displayName")}get str(){let e=0;const{ornament:t}=this.player.equipments;return t.empty||(e+=t.str),this.player&&(e+=this.player.roleData.attrBase.str,e+=this.player.careerData.attrGrow.str*(this.player.level+this.player.peakLevel)),e=this.runAttrHooks(e,"strAdd"),e=this.runAttrHooks(e,"str"),e}get dex(){let e=0;const{ornament:t}=this.player.equipments;return t.empty||(e+=t.dex),this.player&&(e+=this.player.roleData.attrBase.dex,e+=this.player.careerData.attrGrow.dex*(this.player.level+this.player.peakLevel)),e=this.runAttrHooks(e,"dexAdd"),e=this.runAttrHooks(e,"dex"),e}get int(){let e=0;const{weapon:t}=this.player.equipments;return t.empty||(e+=t.int),this.player&&(e+=this.player.roleData.attrBase.int,e+=this.player.careerData.attrGrow.int*(this.player.level+this.player.peakLevel)),e=this.runAttrHooks(e,"intAdd"),e=this.runAttrHooks(e,"int"),e}get sta(){let e=0;const{ornament:t}=this.player.equipments;return t.empty||(e+=t.sta),this.player&&(e+=this.player.roleData.attrBase.sta,e+=this.player.careerData.attrGrow.sta*(this.player.level+this.player.peakLevel)),e=this.runAttrHooks(e,"staAdd"),e=this.runAttrHooks(e,"sta"),e}get maxHp_self(){let e=0;const{ornament:t}=this.player.equipments;return t.empty||(e+=t.maxHp),e+=5*this.sta,e=this.runAttrHooks(e,"maxHp_Add"),e}get maxHp(){let e=this.maxHp_self;return e=this.runAttrHooks(e,"maxHpAdd"),e*=this.runAttrHooks(1,"maxHpMul"),e}get maxCombo(){let e=0;return e=this.runAttrHooks(e,"maxCombo"),e}get hpRecovery(){let e=1;return"home"===kc.map&&(e+=this.maxHp/10),e=this.runAttrHooks(e,"hpRecovery"),e}get maxMp(){let e=0;return e=this.runAttrHooks(e,"maxMpAdd"),e*=this.runAttrHooks(1,"maxMpMul"),e}get mpRecovery(){let e=0;"home"===kc.map&&(e+=this.maxMp/10);const{weapon:t}=this.player.equipments;return t.empty||(e+=t.mpRecovery||0),e=this.runAttrHooks(e,"mpRecovery"),e}get mpFromKill(){let e=0;const{weapon:t}=this.player.equipments;return t.empty||(e+=t.mpFromKill||0),e=this.runAttrHooks(e,"mpFromKill"),e}get hpFromKill(){let e=0;return e=this.runAttrHooks(e,"hpFromKill"),e}get maxRp(){let e=0;return e=this.runAttrHooks(e,"maxRp"),e=this.runAttrHooks(e,"maxRpMul"),e}get rpRecovery(){let e=0;return e=this.runAttrHooks(e,"rpRecovery"),e=this.runAttrHooks(e,"rpReceiveMul"),e}get maxEp(){let e=0;return e=this.runAttrHooks(e,"maxEp"),e=this.runAttrHooks(e,"maxEpMul"),e}get epRecovery(){let e=0;return e=this.runAttrHooks(e,"epRecovery"),e=this.runAttrHooks(e,"epRecoveryMul"),e}get maxFp(){let e=0;return e=this.runAttrHooks(e,"maxFpAdd"),e}get fpRecovery(){let e=1;return e=this.runAttrHooks(e,"fpRecovery"),e}get maxCp(){let e=0;return e=this.runAttrHooks(e,"maxCpAdd"),e}get cpRecovery(){let e=1;return e=this.runAttrHooks(e,"cpRecovery"),e}get rpOnAttack(){let e=0;return e=this.runAttrHooks(e,"rpOnAttack"),e=this.runAttrHooks(e,"rpReceiveMul"),e}get rpOnAttacked(){let e=0;return e=this.runAttrHooks(e,"rpOnAttacked"),e=this.runAttrHooks(e,"rpReceiveMul"),e}get exp(){return this.player.level>=this.player.maxLevel?this.player.peakExp:this.player.exp}get maxExp(){return this.player.level>=this.player.maxLevel?this.player.maxPeakExp:this.player.maxExp}get atk_self(){let e=1;const{weapon:t}=this.player.equipments;t.empty?e=1:e+=t.atk_self,t.empty||(e*=1+t.atkMul);const{ornament:n}=this.player.equipments;return n.empty||(e+=n.atk_self),e=this.runAttrHooks(e,"atk_self_Add"),e*=this.runAttrHooks(1,"atkMul"),e}get atk(){const{weapon:e}=this.player.equipments;let t=0;return t+=this.atk_self||0,e.empty||(t*=1+e.atkMul),t=this.runAttrHooks(t,"atk_Add"),t}get critRate(){let e=this.critR_level/(1500+.985*this.critR_level)*.74;const{plastron:t,gaiter:n,weapon:r}=this.player.equipments;return t.empty||(e+=t.critRate),n.empty||(e+=n.critRate),r.empty||(e+=r.critRate),e=this.runAttrHooks(e,"critRateAdd"),e=this.runAttrHooks(e,"critRate"),e>1&&(e=1),e>1?1:e}get critR_level(){let e=0;const{plastron:t,gaiter:n,weapon:r,ornament:i}=this.player.equipments;return i.empty||(e+=i.critR_level),t.empty||(e+=t.critR_level),n.empty||(e+=n.critR_level),r.empty||(e+=r.critR_level),e+=1*this.dex,e=this.runAttrHooks(e,"critRLAdd"),e=this.runAttrHooks(e,"critRL"),e}get critBonus(){let e=1.5+this.critB_level/(1500+1.1*this.critB_level)*1.5+this.critB_level/15e4;return e=this.runAttrHooks(e,"critBonusAdd"),e=this.runAttrHooks(e,"critBonus"),e}get critB_level(){let e=0;const{plastron:t,gaiter:n,weapon:r,ornament:i}=this.player.equipments;return i.empty||(e+=i.critB_level),t.empty||(e+=t.critB_level),n.empty||(e+=n.critB_level),r.empty||(e+=r.critB_level),e+=1*this.dex,e=this.runAttrHooks(e,"critBLAdd"),e=this.runAttrHooks(e,"critBL"),e}get leech(){let e=0;return e=this.runAttrHooks(e,"leech"),e}get leech2(){let e=0;return e=this.runAttrHooks(e,"leech2"),e}get def_self(){let e=0;const{plastron:t,gaiter:n,weapon:r}=this.player.equipments;return t.empty||(e+=t.def),n.empty||(e+=n.def),r.empty||(e+=r.def),e+=1*this.str,e+=1*this.sta,e=this.runAttrHooks(e,"defselfAdd"),e*=this.runAttrHooks(1,"defselfMul"),Math.max(e,0)}get def(){let e=this.def_self;return e=this.runAttrHooks(e,"defAdd"),e*=this.runAttrHooks(1,"defMul"),e}get defRate(){let e=1-2e3/(2e3+this.def);return e=this.runAttrHooks(e,"defRate"),Math.min(e,.75)}get miss_shanbizhi(){let e=0;const{plastron:t,gaiter:n,weapon:r,ornament:i}=this.player.equipments;return i.empty||(e+=i.miss_shanbizhi),t.empty||(e+=t.miss_shanbizhi),n.empty||(e+=n.miss_shanbizhi),r.empty||(e+=r.miss_shanbizhi),e+=1*this.dex,e=this.runAttrHooks(e,"shanbizhiAdd"),e=this.runAttrHooks(e,"miss_shanbizhi"),e}get noDodgeRate(){let e=1-(this.miss_shanbizhi||0)/(1.00005*(2e3+this.miss_shanbizhi||0))*.5;return e<.5&&(e=.5),e=this.runAttrHooks(e,"noDodgeRate"),e<0&&(e=0),e}get allResist_self(){let e=0;e+=1*this.int,e+=1*this.sta;const{plastron:t,gaiter:n,weapon:r}=this.player.equipments;return t.empty||(e+=t.allResist),n.empty||(e+=n.allResist),r.empty||(e+=r.allResist),e=this.runAttrHooks(e,"allResselfAdd"),Math.max(e,0)}get allResist(){let e=this.allResist_self;return e=this.runAttrHooks(e,"allResAdd"),e*=this.runAttrHooks(1,"allResMul"),Math.max(e,0)}get allresRate(){let e=1-2e3/(2e3+this.allResist);return e=this.runAttrHooks(e,"allresRate"),e}get meleeAbsorb(){let e=0;e=this.runAttrHooks(e,"meleeAbsorb");const t=this.runAttrHooks(.75,"meleeAbsorbmax");return Math.min(e,t)}get fireAbsorb(){let e=0;e=this.runAttrHooks(e,"fireAbsorb");const t=this.runAttrHooks(.75,"fireAbsorbmax");return Math.min(e,t)}get fireResist(){let e=this.allResist;return e=this.runAttrHooks(e,"fireResist"),Math.max(e,0)}get fireResRate(){let e=1-2e3/(2e3+this.fireResist);return e=this.runAttrHooks(e,"fireResRate"),Math.min(e,.75)}get coldAbsorb(){let e=0;e=this.runAttrHooks(e,"coldAbsorb");const t=this.runAttrHooks(.75,"coldAbsorbmax");return Math.min(e,t)}get coldResist(){let e=this.allResist;return e=this.runAttrHooks(e,"coldResist"),Math.max(e,0)}get coldResRate(){let e=1-2e3/(2e3+this.coldResist);return e=this.runAttrHooks(e,"coldResRate"),Math.min(e,.75)}get lightningAbsorb(){let e=0;e=this.runAttrHooks(e,"lightningAbsorb");const t=this.runAttrHooks(.75,"lightningAbsorbmax");return Math.min(e,t)}get lightningResist(){let e=this.allResist;return e=this.runAttrHooks(e,"lightningResist"),Math.max(e,0)}get lightningResRate(){let e=1-2e3/(2e3+this.lightningResist);return e=this.runAttrHooks(e,"lightningResRate"),Math.min(e,.75)}get poisonAbsorb(){let e=0;e=this.runAttrHooks(e,"poisonAbsorb");const t=this.runAttrHooks(.75,"poisonAbsorbmax");return Math.min(e,t)}get poisonResist(){let e=0;return e+=1*this.sta,e=this.runAttrHooks(e,"poisonResist"),Math.max(e,0)}get poisonResRate(){let e=1-2e3/(2e3+this.poisonResist);return e=this.runAttrHooks(e,"poisonResRate"),Math.min(e,.75)}get lightAbsorb(){let e=0;e=this.runAttrHooks(e,"lightAbsorb");const t=this.runAttrHooks(.75,"lightAbsorbmax");return Math.min(e,t)}get lightResist(){let e=0;return e+=1*this.sta,e=this.runAttrHooks(e,"lightResist"),Math.max(e,0)}get lightResRate(){let e=1-2e3/(2e3+this.lightResist);return e=this.runAttrHooks(e,"lightResRate"),Math.min(e,.75)}get darkAbsorb(){let e=0;e=this.runAttrHooks(e,"darkAbsorb");const t=this.runAttrHooks(.75,"darkAbsorbmax");return Math.min(e,t)}get darkResist(){let e=0;return e+=1*this.sta,e=this.runAttrHooks(e,"darkResist"),Math.max(e,0)}get darkResRate(){let e=1-2e3/(2e3+this.darkResist);return e=this.runAttrHooks(e,"darkResRate"),Math.min(e,.75)}get atkSpeed(){let e;const t=this.player.equipments.weapon;return e=t.empty?this.player.roleData.atkSpeed||.01:t.atkSpeed||.01,e=this.runAttrHooks(e,"atkSpeed"),e*=this.runAttrHooks(1,"atkSpeedAdd"),e}damage(e,t,n){if(super.damage(e,t,n)&&"melee"!==e){const e=this.runAttrHooks(0,"rpFromNonPhy");this.rp+=e}}get skillExpInc(){let e=1;return e=this.runAttrHooks(e,"skillExpInc"),e*=this.runAttrHooks(1,"skillExpMul"),e}addSkill(e){const t=new Ol(this.timeline,this,e);t.getLevel=()=>this.player.getSkillLevel(e),t.addSkillExp=()=>this.player.addSkillExp(e,this.skillExpInc),this.skills.unshift(t)}get canGetExp(){return this.camp===Al}get level(){return this.player.level}get mf(){let e=1+.03*this.player.peakLevel;return e=this.runAttrHooks(e,"mf"),e}get gf(){let e=1+.03*this.player.peakLevel;return e=this.runAttrHooks(e,"gf"),e}get dmgAdd(){let e=1+this.dmgLevel/(1500+1.5*this.dmgLevel)+this.dmgLevel/15e4;const{plastron:t,gaiter:n,weapon:r}=this.player.equipments;return r.empty||(e+=r.dmgAdd),e=this.runAttrHooks(e,"dmgAdd"),e=this.runAttrHooks(e,"dmgMul"),e}get dmgLevel(){let e=0;return e+=1*this.str,e=this.runAttrHooks(e,"dmgLAdd"),e=this.runAttrHooks(e,"dmgLMul"),e}get firedmgAdd(){let e=1+this.firedmgLevel/(1500+1.5*this.firedmgLevel)+this.firedmgLevel/15e4;return e=this.runAttrHooks(e,"firedmgAdd"),e=this.runAttrHooks(e,"firedmgMul"),Math.max(e,1)}get firedmgLevel(){let e=0;return e+=1*this.int,e=this.runAttrHooks(e,"firedmgLAdd"),e=this.runAttrHooks(e,"firedmgLMul"),e}get colddmgAdd(){let e=1+this.colddmgLevel/(1500+1.5*this.colddmgLevel)+this.colddmgLevel/15e4;return e=this.runAttrHooks(e,"colddmgAdd"),e=this.runAttrHooks(e,"colddmgMul"),Math.max(e,1)}get colddmgLevel(){let e=0;return e+=1*this.int,e=this.runAttrHooks(e,"colddmgLAdd"),e=this.runAttrHooks(e,"colddmgLMul"),e}get lightningdmgAdd(){let e=1+this.lightningdmgLevel/(1500+1.5*this.lightningdmgLevel)+this.lightningdmgLevel/15e4;return e=this.runAttrHooks(e,"lightningdmgAdd"),e=this.runAttrHooks(e,"lightningdmgMul"),Math.max(e,1)}get lightningdmgLevel(){let e=0;return e+=1*this.int,e=this.runAttrHooks(e,"lightningdmgLAdd"),e=this.runAttrHooks(e,"lightningdmgLMul"),e}get poisondmgAdd(){let e=1+this.poisondmgLevel/(1500+1.5*this.poisondmgLevel)+this.poisondmgLevel/15e4;return e=this.runAttrHooks(e,"poisondmgAdd"),e=this.runAttrHooks(e,"poisondmgMul"),e}get poisondmgLevel(){let e=0;return e=this.runAttrHooks(e,"poisondmgLAdd"),e=this.runAttrHooks(e,"poisondmgLMul"),e}get darkdmgAdd(){let e=1+this.darkdmgLevel/(1500+1.5*this.darkdmgLevel)+this.darkdmgLevel/15e4;return e=this.runAttrHooks(e,"darkdmgAdd"),e}get darkdmgLevel(){let e=0;return e=this.runAttrHooks(e,"darkdmgLAdd"),e=this.runAttrHooks(e,"darkdmgLMul"),e}get lightdmgAdd(){let e=1+this.lightdmgLevel/(1500+1.5*this.lightdmgLevel)+this.lightdmgLevel/15e4;return e=this.runAttrHooks(e,"lightdmgAdd"),e=this.runAttrHooks(e,"lightdmgMul"),e}get lightdmgLevel(){let e=0;return e=this.runAttrHooks(e,"lightdmgLAdd"),e=this.runAttrHooks(e,"lightdmgLMul"),e}get expInc(){let e=1;return this.level>80?e+=1-.05*(this.level-80):e+=1,e=this.runAttrHooks(e,"expInc"),e}gotExp(e,t){let n=e;const{mpFromKill:r,hpFromKill:i}=this;this.hp+=i,this.mp+=r;const o=Math.min(this.level,100)-t;n=Math.ceil(Math.max(n*(1-o/10),.1*n))*this.expInc,n*=this.runAttrHooks(1,"expMul"),Fs.sendGotExp(this,n),this.player.level>=this.player.maxLevel?(this.player.peakExp+=n,this.player.peakExp>=this.player.maxPeakExp&&this.levelUpPeak()):(this.player.exp+=n,this.player.exp>=this.player.maxExp&&(this.levelUp(),this.player.level>=this.player.maxLevel&&(this.player.peakExp+=this.player.exp,this.player.exp=0)))}levelUp(){this.player.exp-=this.player.maxExp,this.player.level+=1}levelUpPeak(){this.player.peakExp-=this.player.maxPeakExp,this.player.peakLevel+=1}kill(){super.kill(),kc.enemyBorn&&kc.enemyBorn.onPlayerDeath(),Fs.sendPlayerDeath(this,20),this.rebornTimer=this.timeline.parent.setTimeout(Bt(this.reborn),2e4)}canEquip(e){const{goodData:t,level:n}=e;return!(!t||"equip"!==t.type||this.level<Qu(n)||!this.player.careerData.availableClasses[t.class])}dispose(){super.dispose(),this.rebornTimer&&this.timeline.parent.clearTimeout(this.rebornTimer),this.player.dispose(),this.player.key=null}dumpState(){const e=super.dumpState();return e.type="player",this.rebornTimer&&(e.rebornTimer=this.rebornTimer.at-this.timeline.parent.getTime()),e}useExtraSkill(e){as.skills[e].effect.call(new Ol(this.timeline,this,e,{}),kc,this,this.player.getSkillLevel(e))}},hl=xl(ul.prototype,"player",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xl(ul.prototype,"name",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"name"),ul.prototype),xl(ul.prototype,"displayName",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"displayName"),ul.prototype),xl(ul.prototype,"str",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"str"),ul.prototype),xl(ul.prototype,"dex",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"dex"),ul.prototype),xl(ul.prototype,"int",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"int"),ul.prototype),xl(ul.prototype,"sta",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"sta"),ul.prototype),xl(ul.prototype,"maxHp_self",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"maxHp_self"),ul.prototype),xl(ul.prototype,"maxHp",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"maxHp"),ul.prototype),xl(ul.prototype,"maxCombo",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"maxCombo"),ul.prototype),xl(ul.prototype,"hpRecovery",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"hpRecovery"),ul.prototype),xl(ul.prototype,"maxMp",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"maxMp"),ul.prototype),xl(ul.prototype,"mpRecovery",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"mpRecovery"),ul.prototype),xl(ul.prototype,"mpFromKill",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"mpFromKill"),ul.prototype),xl(ul.prototype,"hpFromKill",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"hpFromKill"),ul.prototype),xl(ul.prototype,"maxRp",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"maxRp"),ul.prototype),xl(ul.prototype,"rpRecovery",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"rpRecovery"),ul.prototype),xl(ul.prototype,"maxEp",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"maxEp"),ul.prototype),xl(ul.prototype,"epRecovery",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"epRecovery"),ul.prototype),xl(ul.prototype,"maxFp",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"maxFp"),ul.prototype),xl(ul.prototype,"fpRecovery",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"fpRecovery"),ul.prototype),xl(ul.prototype,"maxCp",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"maxCp"),ul.prototype),xl(ul.prototype,"cpRecovery",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"cpRecovery"),ul.prototype),xl(ul.prototype,"rpOnAttack",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"rpOnAttack"),ul.prototype),xl(ul.prototype,"rpOnAttacked",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"rpOnAttacked"),ul.prototype),xl(ul.prototype,"exp",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"exp"),ul.prototype),xl(ul.prototype,"maxExp",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"maxExp"),ul.prototype),xl(ul.prototype,"atk_self",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"atk_self"),ul.prototype),xl(ul.prototype,"atk",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"atk"),ul.prototype),xl(ul.prototype,"critRate",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"critRate"),ul.prototype),xl(ul.prototype,"critR_level",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"critR_level"),ul.prototype),xl(ul.prototype,"critBonus",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"critBonus"),ul.prototype),xl(ul.prototype,"critB_level",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"critB_level"),ul.prototype),xl(ul.prototype,"leech",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"leech"),ul.prototype),xl(ul.prototype,"leech2",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"leech2"),ul.prototype),xl(ul.prototype,"def_self",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"def_self"),ul.prototype),xl(ul.prototype,"def",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"def"),ul.prototype),xl(ul.prototype,"defRate",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"defRate"),ul.prototype),xl(ul.prototype,"miss_shanbizhi",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"miss_shanbizhi"),ul.prototype),xl(ul.prototype,"noDodgeRate",[Q],Object.getOwnPropertyDescriptor(ul.prototype,"noDodgeRate"),ul.prototype),xl(ul.prototype,"allResist_self",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"allResist_self"),ul.prototype),xl(ul.prototype,"allResist",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"allResist"),ul.prototype),xl(ul.prototype,"allresRate",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"allresRate"),ul.prototype),xl(ul.prototype,"meleeAbsorb",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"meleeAbsorb"),ul.prototype),xl(ul.prototype,"fireAbsorb",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"fireAbsorb"),ul.prototype),xl(ul.prototype,"fireResist",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"fireResist"),ul.prototype),xl(ul.prototype,"fireResRate",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"fireResRate"),ul.prototype),xl(ul.prototype,"coldAbsorb",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"coldAbsorb"),ul.prototype),xl(ul.prototype,"coldResist",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"coldResist"),ul.prototype),xl(ul.prototype,"coldResRate",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"coldResRate"),ul.prototype),xl(ul.prototype,"lightningAbsorb",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"lightningAbsorb"),ul.prototype),xl(ul.prototype,"lightningResist",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"lightningResist"),ul.prototype),xl(ul.prototype,"lightningResRate",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"lightningResRate"),ul.prototype),xl(ul.prototype,"poisonAbsorb",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"poisonAbsorb"),ul.prototype),xl(ul.prototype,"poisonResist",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"poisonResist"),ul.prototype),xl(ul.prototype,"poisonResRate",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"poisonResRate"),ul.prototype),xl(ul.prototype,"lightAbsorb",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"lightAbsorb"),ul.prototype),xl(ul.prototype,"lightResist",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"lightResist"),ul.prototype),xl(ul.prototype,"lightResRate",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"lightResRate"),ul.prototype),xl(ul.prototype,"darkAbsorb",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"darkAbsorb"),ul.prototype),xl(ul.prototype,"darkResist",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"darkResist"),ul.prototype),xl(ul.prototype,"darkResRate",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"darkResRate"),ul.prototype),xl(ul.prototype,"atkSpeed",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"atkSpeed"),ul.prototype),xl(ul.prototype,"damage",[Q],Object.getOwnPropertyDescriptor(ul.prototype,"damage"),ul.prototype),xl(ul.prototype,"skillExpInc",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"skillExpInc"),ul.prototype),xl(ul.prototype,"addSkill",[Q],Object.getOwnPropertyDescriptor(ul.prototype,"addSkill"),ul.prototype),xl(ul.prototype,"canGetExp",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"canGetExp"),ul.prototype),xl(ul.prototype,"level",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"level"),ul.prototype),xl(ul.prototype,"mf",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"mf"),ul.prototype),xl(ul.prototype,"gf",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"gf"),ul.prototype),xl(ul.prototype,"dmgAdd",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"dmgAdd"),ul.prototype),xl(ul.prototype,"dmgLevel",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"dmgLevel"),ul.prototype),xl(ul.prototype,"firedmgAdd",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"firedmgAdd"),ul.prototype),xl(ul.prototype,"firedmgLevel",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"firedmgLevel"),ul.prototype),xl(ul.prototype,"colddmgAdd",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"colddmgAdd"),ul.prototype),xl(ul.prototype,"colddmgLevel",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"colddmgLevel"),ul.prototype),xl(ul.prototype,"lightningdmgAdd",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"lightningdmgAdd"),ul.prototype),xl(ul.prototype,"lightningdmgLevel",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"lightningdmgLevel"),ul.prototype),xl(ul.prototype,"poisondmgAdd",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"poisondmgAdd"),ul.prototype),xl(ul.prototype,"poisondmgLevel",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"poisondmgLevel"),ul.prototype),xl(ul.prototype,"darkdmgAdd",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"darkdmgAdd"),ul.prototype),xl(ul.prototype,"darkdmgLevel",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"darkdmgLevel"),ul.prototype),xl(ul.prototype,"lightdmgAdd",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"lightdmgAdd"),ul.prototype),xl(ul.prototype,"lightdmgLevel",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"lightdmgLevel"),ul.prototype),xl(ul.prototype,"expInc",[Fe],Object.getOwnPropertyDescriptor(ul.prototype,"expInc"),ul.prototype),xl(ul.prototype,"gotExp",[Bt],Object.getOwnPropertyDescriptor(ul.prototype,"gotExp"),ul.prototype),xl(ul.prototype,"levelUp",[Bt],Object.getOwnPropertyDescriptor(ul.prototype,"levelUp"),ul.prototype),xl(ul.prototype,"levelUpPeak",[Bt],Object.getOwnPropertyDescriptor(ul.prototype,"levelUpPeak"),ul.prototype),pl=xl(ul.prototype,"reborn",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.rebornTimer=null,this.camp=Al,this.hp=this.maxHp,this.mp=this.maxMp,this.startRecovery();for(const e of kc.units)null===e.target&&e.willAttack(this)&&e.setTarget(this);this.findTarget()}}}),xl(ul.prototype,"kill",[Q],Object.getOwnPropertyDescriptor(ul.prototype,"kill"),ul.prototype),ul),Nl=(dl=class extends Fl{constructor(e,t,n,r){super(e,r),kl(this,"type",fl,this),kl(this,"quality",ml,this),kl(this,"affixes",gl,this),kl(this,"summoner",yl,this),kl(this,"summonSkill",vl,this),wl(this,"borner",null),kl(this,"clean",bl,this),bn(this),this.type=t,this.quality=n;const i=r&&r.skills;if(this.enemyData.skills&&this.enemyData.skills.forEach((e=>{let{key:t,level:n}=e;this.addSkill(t,n,i&&i[t])})),r&&r.affixes&&r.affixes.length===n)this.affixes=r.affixes;else for(let e=0;e<n;e++){const{affixes:e}=this.enemyData,t=Object.keys(e),n=t.reduce(((t,n)=>t+e[n]),0);let r=Math.random()*n;this.affixes.push(t.find((t=>(r-=e[t],r<=0))))}if(this.hookRecords=[],this.enemyData.hooks)for(const e in this.enemyData.hooks)this.hookRecords.push(this.addAttrHook(e,this.enemyData.hooks[e].bind(this,kc)));for(const e of this.affixes){const{hooks:t}=as.enemyAffixes[e];for(const e in t)this.addAttrHook(e,t[e].bind(this,kc))}if(r){if(this.camp=r.camp,r.cleanTimer?this.timeline.parent.setTimeout(this.clean,r.cleanTimer):"ghost"===this.camp&&this.timeline.parent.setTimeout(this.clean,3e3),"number"==typeof r.borner?this.borner=kc.enemyBorn.borns[r.borner]:"number"==typeof r.phaseBorn&&(this.borner=kc.enemyBorn.phaseBorn[r.phaseBorn]),this.borner&&(this.borner.count++,this.borner.testTimer()),r.buffs)for(const e of r.buffs)e&&as.buffs[e.type]&&(e.buff=this.addBuff(e.type,e.time,e.arg,e.group,99999));if(this.hp=r.hp,this.mp=r.mp,this.rp=r.rp,this.ep=r.ep,"number"==typeof r.reading)this.reading=this.buffs[r.reading];else if("number"==typeof r.casting){const e=this.skills[r.casting];if(e){const t=r.castingTimer;this.castingTimer=this.timeline.setTimeout((()=>{e.canUse&&e.effect(),this.castingTimer=null,this.casting=null}),t),this.casting=e}}}else{if(this.camp=this.enemyData.camp,this.enemyData.buffs)for(const e of this.enemyData.buffs)this.addBuff(e.type,e.time,e.arg);this.hp=this.maxHp,this.mp=this.maxMp,this.ep=this.maxEp}this.setAttackCoolDown(),this.startRecovery()}transformType(e){this.type=e;for(const e of this.skills.splice(0))e.dispose();for(const e of this.hookRecords.splice(0))e();for(const e of this.buffs.slice(0))e.buffData.notRemoveWhenTransform||this.removeBuff(e);if(this.enemyData.skills.forEach((e=>{let{key:t,level:n}=e;this.addSkill(t,n)})),this.enemyData.hooks)for(const e in this.enemyData.hooks)this.hookRecords.push(this.addAttrHook(e,this.enemyData.hooks[e].bind(this,kc)));if(this.enemyData.buffs)for(const e of this.enemyData.buffs)this.addBuff(e.type,e.time,e.arg);this.camp=this.enemyData.camp,this.findTarget(),kc.units.forEach((e=>{null===e.target&&e.willAttack(this)&&e.setTarget(this)})),this.setAttackCoolDown()}get enemyData(){return as.enemies[this.type]||{}}get name(){return this.enemyData.name||""}get displayName(){const e=this.affixes.map((e=>as.enemyAffixes[e].name));return e.push(this.name),this.runAttrHooks(e.join(""),"displayName")}get maxHp(){let e=this.enemyData.maxHp;return e=this.runAttrHooks(e,"maxHp"),e*=1.5**this.quality,e=this.runAttrHooks(e,"maxHpMul"),kc._endlessLevel&&this.camp==Dl&&(e*=Math.pow(1.5,kc._endlessLevel-1)),e}get maxMp(){return this.enemyData.maxMp||0}get mpRecovery(){return this.enemyData.mpRecovery||0}get maxRp(){return this.enemyData.maxRp||0}get rpRecovery(){return this.enemyData.rpRecovery||-1}get maxEp(){return this.enemyData.maxEp||0}get epRecovery(){return this.enemyData.epRecovery||-1}get rpOnAttack(){return this.enemyData.rpOnAttack||0}get rpOnAttacked(){return this.enemyData.rpOnAttacked||0}get atkSpeed(){let e=this.enemyData.atkSpeed||0;return e=this.runAttrHooks(e,"atkSpeed"),e=this.runAttrHooks(e,"atkSpeedMul"),e}get hpRecovery(){let e=this.enemyData.hpRecovery||0;return e=this.runAttrHooks(e,"hpRecovery"),kc._endlessLevel&&this.camp==Dl&&(e*=Math.pow(1.5,kc._endlessLevel-1)),e}get atk(){let e=this.enemyData.atk||0;return e=this.runAttrHooks(e,"atk"),e*=this.runAttrHooks(1,"atkAdd"),e*=this.runAttrHooks(1,"atkMulAttr"),e=this.runAttrHooks(e,"atkMul"),kc._endlessLevel&&this.camp==Dl&&(e*=Math.pow(1.2,kc._endlessLevel-1)),e}get critRate(){let e=this.enemyData.critRate||0;return e=this.runAttrHooks(e,"critRate"),e}get critBonus(){let e=this.enemyData.critBonus||1.5;return e=this.runAttrHooks(e,"critBonus"),e}get leech(){let e=this.enemyData.leech||0;return e=this.runAttrHooks(e,"leech"),e}get def(){let e=this.enemyData.def||0;return e=this.runAttrHooks(e,"defAdd"),e*=this.runAttrHooks(1,"defMul"),e}get meleeAbsorb(){let e=this.enemyData.meleeAbsorb||0;return e=this.runAttrHooks(e,"meleeAbsorb"),e}get fireAbsorb(){let e=this.enemyData.fireAbsorb||0;return e=this.runAttrHooks(e,"fireAbsorb"),e}get fireResist(){let e=this.enemyData.fireResist||0;return e+=this.enemyData.allResist||0,e=this.runAttrHooks(e,"fireResist"),e}get colddmgAdd(){let e=this.enemyData.colddmgAdd||1;return e=this.runAttrHooks(e,"colddmgAdd"),e}get coldAbsorb(){let e=this.enemyData.coldAbsorb||0;return e=this.runAttrHooks(e,"coldAbsorb"),e}get coldResist(){let e=this.enemyData.coldResist||0;return e+=this.enemyData.allResist||0,e=this.runAttrHooks(e,"coldResist"),e}get lightningAbsorb(){let e=this.enemyData.lightningAbsorb||0;return e=this.runAttrHooks(e,"lightningAbsorb"),e}get lightningResist(){let e=this.enemyData.lightningResist||0;return e+=this.enemyData.allResist||0,e=this.runAttrHooks(e,"lightningResist"),e}get poisondmgAdd(){let e=this.enemyData.poisondmgAdd||1;return e=this.runAttrHooks(e,"poisondmgAdd"),e}get poisonAbsorb(){let e=this.enemyData.poisonAbsorb||0;return e=this.runAttrHooks(e,"poisonAbsorb"),e}get poisonResist(){let e=this.enemyData.poisonResist||0;return e=this.runAttrHooks(e,"poisonResist"),e}get darkdmgAdd(){let e=this.enemyData.darkdmgAdd||1;return e=this.runAttrHooks(e,"darkdmgAdd"),e}get darkAbsorb(){let e=this.enemyData.darkAbsorb||0;return e=this.runAttrHooks(e,"darkAbsorb"),e}get darkResist(){let e=this.enemyData.darkResist||0;return e=this.runAttrHooks(e,"darkResist"),e}get lightAbsorb(){let e=this.enemyData.lightAbsorb||0;return e=this.runAttrHooks(e,"lightAbsorb"),e}get lightResist(){let e=this.enemyData.lightResist||0;return e=this.runAttrHooks(e,"lightResist"),e}get exp(){return(this.enemyData.exp||0)*2**this.quality}get level(){return(this.enemyData.level||0)+0*this.quality}get boss(){return this.enemyData.boss||!1}get dmgAdd(){let e=this.enemyData.dmgAdd||1;return e=this.runAttrHooks(e,"dmgAdd"),e=this.runAttrHooks(e,"dmgMul"),e}get speedRate(){let e=this.enemyData.speedRate||1;return e=this.runAttrHooks(e,"speedRateAdd"),e=this.runAttrHooks(e,"speed_nochange"),e}get stunResist(){const e=Qu(this.level);return this.runAttrHooks(this.enemyData.stunResist||10*e,"stunResist")}addSkill(e,t,n){const r=new Ol(this.timeline,this,e,n);r.getLevel=()=>t,this.skills.unshift(r)}kill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.runAttrHooks(!0,"willClean",this,kc)&&this.setCleanTimer(e?1e3:0),super.kill(),this.summoner&&this.summoner.runAttrHooks(this,"onSummonDeath"),Fs.sendDeath(this),this.exp&&kc.gotExp(this.exp,Qu(this.level))}setCleanTimer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.cleanTimer||(this.cleanTimer=this.timeline.parent.setTimeout(this.clean,e))}setTarget(e){super.setTarget(e),this.enemyData.camp===El&&(this.camp=e?Dl:El)}dispose(){super.dispose(),this.cleanTimer&&(this.timeline.clearTimeout(this.cleanTimer),this.cleanTimer=null),this.borner&&this.borner.onEnemyKilled()}dumpState(){const e=super.dumpState();if(e.type=this.type,e.quality=this.quality,e.affixes=cn(this.affixes),this.cleanTimer&&(e.cleanTimer=this.cleanTimer.at-this.timeline.parent.getTime()),this.borner){const{borns:t,phaseBorn:n}=kc.enemyBorn;t&&t.indexOf(this.borner)>=0?e.borner=t.indexOf(this.borner):n&&n.indexOf(this.borner)>=0&&(e.phaseBorn=n.indexOf(this.borner))}if(this.summoner){const t=kc.units.indexOf(this.summoner);if(t>-1&&(e.summoner=t,this.summonSkill)){const t=this.summoner.skills.indexOf(this.summonSkill);t>-1&&(e.summonSkill=t)}}return e}},fl=xl(dl.prototype,"type",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ml=xl(dl.prototype,"quality",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gl=xl(dl.prototype,"affixes",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yl=xl(dl.prototype,"summoner",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vl=xl(dl.prototype,"summonSkill",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xl(dl.prototype,"enemyData",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"enemyData"),dl.prototype),xl(dl.prototype,"name",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"name"),dl.prototype),xl(dl.prototype,"displayName",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"displayName"),dl.prototype),xl(dl.prototype,"maxHp",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"maxHp"),dl.prototype),xl(dl.prototype,"maxMp",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"maxMp"),dl.prototype),xl(dl.prototype,"mpRecovery",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"mpRecovery"),dl.prototype),xl(dl.prototype,"maxRp",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"maxRp"),dl.prototype),xl(dl.prototype,"rpRecovery",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"rpRecovery"),dl.prototype),xl(dl.prototype,"maxEp",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"maxEp"),dl.prototype),xl(dl.prototype,"epRecovery",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"epRecovery"),dl.prototype),xl(dl.prototype,"rpOnAttack",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"rpOnAttack"),dl.prototype),xl(dl.prototype,"rpOnAttacked",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"rpOnAttacked"),dl.prototype),xl(dl.prototype,"atkSpeed",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"atkSpeed"),dl.prototype),xl(dl.prototype,"hpRecovery",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"hpRecovery"),dl.prototype),xl(dl.prototype,"atk",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"atk"),dl.prototype),xl(dl.prototype,"critRate",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"critRate"),dl.prototype),xl(dl.prototype,"critBonus",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"critBonus"),dl.prototype),xl(dl.prototype,"leech",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"leech"),dl.prototype),xl(dl.prototype,"def",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"def"),dl.prototype),xl(dl.prototype,"meleeAbsorb",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"meleeAbsorb"),dl.prototype),xl(dl.prototype,"fireAbsorb",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"fireAbsorb"),dl.prototype),xl(dl.prototype,"fireResist",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"fireResist"),dl.prototype),xl(dl.prototype,"colddmgAdd",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"colddmgAdd"),dl.prototype),xl(dl.prototype,"coldAbsorb",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"coldAbsorb"),dl.prototype),xl(dl.prototype,"coldResist",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"coldResist"),dl.prototype),xl(dl.prototype,"lightningAbsorb",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"lightningAbsorb"),dl.prototype),xl(dl.prototype,"lightningResist",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"lightningResist"),dl.prototype),xl(dl.prototype,"poisondmgAdd",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"poisondmgAdd"),dl.prototype),xl(dl.prototype,"poisonAbsorb",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"poisonAbsorb"),dl.prototype),xl(dl.prototype,"poisonResist",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"poisonResist"),dl.prototype),xl(dl.prototype,"darkdmgAdd",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"darkdmgAdd"),dl.prototype),xl(dl.prototype,"darkAbsorb",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"darkAbsorb"),dl.prototype),xl(dl.prototype,"darkResist",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"darkResist"),dl.prototype),xl(dl.prototype,"lightAbsorb",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"lightAbsorb"),dl.prototype),xl(dl.prototype,"lightResist",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"lightResist"),dl.prototype),xl(dl.prototype,"exp",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"exp"),dl.prototype),xl(dl.prototype,"level",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"level"),dl.prototype),xl(dl.prototype,"boss",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"boss"),dl.prototype),xl(dl.prototype,"dmgAdd",[Fe],Object.getOwnPropertyDescriptor(dl.prototype,"dmgAdd"),dl.prototype),xl(dl.prototype,"speedRate",[Q],Object.getOwnPropertyDescriptor(dl.prototype,"speedRate"),dl.prototype),xl(dl.prototype,"stunResist",[Q],Object.getOwnPropertyDescriptor(dl.prototype,"stunResist"),dl.prototype),xl(dl.prototype,"addSkill",[Q],Object.getOwnPropertyDescriptor(dl.prototype,"addSkill"),dl.prototype),xl(dl.prototype,"kill",[Q],Object.getOwnPropertyDescriptor(dl.prototype,"kill"),dl.prototype),bl=xl(dl.prototype,"clean",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.enemyData.loots&&kc.loots(this.enemyData.loots,this.level,this.quality),kc.player&&qm.onEnemyKilled(this.type,1,kc.player.role),kc.removeUnit(this)}}}),xl(dl.prototype,"setTarget",[Q],Object.getOwnPropertyDescriptor(dl.prototype,"setTarget"),dl.prototype),dl);function Il(e,t,n){const r=e.filter((e=>!n[e])),i=r.reduce(((e,t)=>e+(as.affixes[t].weight||1)),0);let o=Math.random()*i;const a=r.find((e=>{const t=as.affixes[e].weight||1;return o<t||(o-=t,!1)}));return n[a]=!0,(new oh).fromJS({key:a,value:as.affixes[a].generate(t)})}function jl(e,t,n){const r=as.goods[e],i=as.affixes[t];return!(i.maxLevel&&n>i.maxLevel||i.minLevel&&n<i.minLevel||i.validClasses&&-1===i.validClasses.indexOf(r.class)||i.validPositions&&-1===i.validPositions.indexOf(r.position))}function Hl(e,t,n,r){const i=Object.keys(as.affixes).filter((n=>jl(e,n,t))),o=[],a={};for(let e=0;e<n;e++)o.push(Il(i,t||0,a));return r&&o.push((new oh).fromJS({key:r,value:as.legends[r].generate(t)})),new ah("loot").fromJS({key:e,level:t,count:1,affixes:o,quality:n,legendType:r})}const Ll=[1,.5,.05,.005,5e-4,0],ql=Object.keys(as.goods).filter((e=>"equip"===as.goods[e].type));function zl(e,t,n){const r=Math.random()/t,i=Math.max(0,Ll.findIndex((e=>e<r))-1);let o=null;if(4===i&&Math.random()<.05){const t=Object.keys(as.legends).filter((t=>!as.legends[t].special&&(as.legends[t].minLevel||0)<=e&&(as.legends[t].maxLevel||e)>=e&&(!n||as.goods[as.legends[t].type].position===n)));o=t[Math.random()*t.length|0]||null}if(o)return Hl(as.legends[o].type,e,i,o);const a=ql.filter((t=>(as.goods[t].minLevel||0)<=e&&(as.goods[t].maxLevel||e)>=e&&(!n||as.goods[t].position===n)));return Hl(a[Math.random()*a.length|0],e,i,null)}function Ul(e){return e<=30?0:e<=60?1:e<=90?2:e<=120?3:e<=150?4:5}const Vl=[[],[],["wuxingshi","wuxingshi","wuxingshi","wuxingshi","wuxingshi","wuxingshi"]];function Kl(e){let{level:t,quality:n}=e;const r={};for(let e=0;e<=n&&e<3;e++){const n=Vl[e][Ul(t)];n&&(r[n]=1*(Ul(t)+1))}return n>=3&&(r.diamonds=Math.ceil(2+t/100*(1<<(n-3)/2))),r}var Yl=i(4542),$l=i.n(Yl),Wl=i(7298),Gl=i.n(Wl),Jl=i(4526);const Xl={CmdOrCtrl:window.navigator.platform.indexOf("Mac")>=0?"Meta":"Ctrl",Control:"Ctrl",Win:"Meta"};for(const e of"abcdefghijklmnopqrstuvwxyz")Xl[e]=e.toUpperCase();const Ql={Shift:-10,Ctrl:-9,Alt:-8,Meta:-7};var Zl=i(6205),ec={};ec.styleTagTransform=sa(),ec.setAttributes=ra(),ec.insert=ta().bind(null,"head"),ec.domAPI=Zo(),ec.insertStyleElement=oa(),Xo()(Zl.A,ec);const tc=Zl.A&&Zl.A.locals?Zl.A.locals:void 0,nc=e=>{let{title:n,onClose:r,children:i,buttons:o}=e;return t.createElement("div",{className:tc.mask},t.createElement("div",{className:tc.modal},t.createElement("div",{className:tc.title},n),t.createElement("div",{className:tc.message},i),t.createElement("div",{className:tc.buttonList},!o&&t.createElement("div",{className:tc.button,onClick:r,autoFocus:!0,role:"button"},"确定"),o&&o.map(((e,n)=>t.createElement("div",{key:n,className:tc.button,onClick:()=>{var t;r(),null===(t=e.onPress)||void 0===t||t.call(e)},role:"button"},e.text))))))};function rc(n,r,i){const o=document.createElement("div");return document.body.appendChild(o),new Promise((a=>{(0,e.render)(t.createElement(nc,{title:n,onClose:()=>{(0,e.unmountComponentAtNode)(o),document.body.removeChild(o),a()},buttons:i},r),o)}))}const ic=e=>{let{title:n,onConfirm:r,onCancel:i,defaultValue:o,children:a}=e;const[s,l]=(0,t.useState)(o||""),c=(0,t.useCallback)((()=>{r(s)}),[s]),u=(0,t.useCallback)((e=>{"Enter"===function(e){const t=[];return e.shiftKey&&t.push("Shift"),e.ctrlKey&&t.push("Ctrl"),e.metaKey&&t.push("Meta"),e.altKey&&t.push("Alt"),t.push(Xl[e.key]||e.key),Array.from(new Set(t)).sort(((e,t)=>(Ql[e]||0)-(Ql[t]||0))).join("+")}(e)&&(e.stopPropagation(),c())}),[c]);return t.createElement("div",{className:tc.mask},t.createElement("div",{className:tc.modal},t.createElement("div",{className:tc.title},n),t.createElement("div",{className:tc.message},a),t.createElement(ka,{autoFocus:!0,value:s,onValueChange:l,onKeyDown:u}),t.createElement("div",{className:tc.buttonList},t.createElement("div",{className:tc.button,onClick:c,role:"button"},"确定"),t.createElement("div",{onClick:i,className:tc.button,role:"button"},"取消"))))};function oc(n,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const o=document.createElement("div");return document.body.appendChild(o),new Promise((a=>{(0,e.render)(t.createElement(ic,{title:n,defaultValue:i,onConfirm:t=>{(0,e.unmountComponentAtNode)(o),document.body.removeChild(o),a(t)},onCancel:()=>{(0,e.unmountComponentAtNode)(o),document.body.removeChild(o),a(null)}},r),o)}))}var ac,sc,lc,cc,uc,hc,pc,dc,fc,mc;function gc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yc(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vc(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let bc=(ac=class extends Ra.EventEmitter{resumeGame(){this.timeline.pause(),this.paused=!0,this.updateRate=1,this.updatedTime=0;const e=Date.now()-this.player.timestamp-this.timeline.getTime();if(e>0){let t=Math.min(e,2592e5);const n=e-t;this.player.timestamp+=n,this.forward(t)}else this.DiamondsBug(0),this.forward(0),this.timeline.resume()}forward(e){this.timeline.pause(),this.paused=!0,this.pendingTime=e,this.requestPending()}skipForward(){this.player&&(this.player.timestamp+=this.pendingTime),this.pendingTime=0}DiamondsBug(e){qm.diamonds=0}pause(){this.pendingRequest&&(cancelAnimationFrame(this.pendingRequest),this.pendingRequest=null),this.timeline.pause(),this.paused=!0}resetTimeline(){this.timeline=new os,this.logicTimeline=new os(this.timeline)}load(e,t){if(this.player=e,this.resetTimeline(),this._map=t.map||"home",this._endlessLevel=t.endlessLevel||0,t.pendingMaps){this.pendingMaps.replace(t.pendingMaps);for(let e=0;e<this.pendingMaps.length;e++)"string"==typeof this.pendingMaps[e]&&(this.pendingMaps[e]=[this.pendingMaps[e],0])}if(as.maps[this._map]||(this._map="home",this._endlessLevel=0),this.onMapChanged(t),t.units){for(const n of t.units)"player"===n.type?n.unit=this.addPlayer(e,n):as.enemies[n.type]&&(n.unit=this.addEnemySaved(n));for(const e of t.units)if(e.unit){if("number"==typeof e.target){const n=t.units[e.target];e.unit.target=n&&n.unit||null}if(e.unit.target||e.unit.findTarget(),"number"==typeof e.summoner){const n=t.units[e.summoner];e.unit.summoner=n&&n.unit||null,e.unit.summoner&&"number"==typeof e.summonSkill&&(e.unit.summonSkill=e.unit.summoner.skills[e.summonSkill]||null)}e.unit.hp=e.hp,e.unit.mp=e.mp,e.unit.rp=e.rp,e.unit.ep=e.ep}}this.playerUnit||this.addPlayer(e);for(const e of this.units)e.tryUseSkill(e.canUseSkill())}dumpState(){return{map:this._map,pendingMaps:this.pendingMaps,endlessLevel:this._endlessLevel,enemyBorn:this.enemyBorn&&this.enemyBorn.dumpState(),units:this.units.map((e=>e&&e.dumpState()))}}requestPending(){this.pendingRequest=requestAnimationFrame((()=>{const{updateRate:e}=this,t=this.pendingTime/e,n=this.timeline.stepPaused(t);Mt((()=>{this.pendingTime=n*e,this.player.timestamp+=(t-n)*(e-1),this.mapData.isDungeon||(this.updatedTime+=t-n,this.updatedTime>6e4&&(this.updateRate*=1.05,this.updatedTime-=6e4)),this.pendingTime<=0?(this.updatedTime=0,this.updateRate=1,this.timeline.resume(),this.paused=!1,this.pendingRequest=null):this.requestPending()}))}))}constructor(){super(),yc(this,"timeline",new os),yc(this,"logicTimeline",null),gc(this,"units",sc,this),gc(this,"player",lc,this),gc(this,"playerUnit",cc,this),gc(this,"paused",uc,this),gc(this,"pendingTime",hc,this),gc(this,"enemyBorn",pc,this),yc(this,"updatePromise",void 0),yc(this,"updateRate",1),yc(this,"updatedTime",0),gc(this,"_map",dc,this),gc(this,"_endlessLevel",fc,this),gc(this,"pendingMaps",mc,this),bn(this)}dispose(){for(;this.units.length>0;)this.removeUnit(this.units[this.units.length-1]);this.enemyBorn&&(this.enemyBorn.dispose(),this.enemyBorn=null),this.pendingRequest&&(cancelAnimationFrame(this.pendingRequest),this.pendingRequest=null),this.player=null,this.playerUnit=null,this.pause(),this.updatePromise=null}addUnit(e,t){if(t){const t=Math.floor(Math.random()*(this.units.length+1));this.units.splice(t,0,e)}else this.units.push(e);e.runAttrHooks(null,"appeared")}addPlayer(e,t){this.player=this.player||e,e.isBanned&&this.logicTimeline.setRate(.001);const n=new Ml(this.logicTimeline,e,t);return n.initKeepAlives(),this.playerUnit=n,this.addUnit(n),n}addEnemy(e,t,n,r,i){const o=new Nl(this.logicTimeline,e,n);return o.initKeepAlives(),o.borner=t,o.summoner=r,o.summonSkill=i,o.hp=o.maxHp,o.mp=o.maxMp,Fs.sendEnemyAppear(o,r),this.addUnit(o,t&&t.config.randomPosition),this.units.forEach((e=>{null===e.target&&e.willAttack(o)&&e.setTarget(o)})),o.findTarget(),o.tryUseSkill(o.canUseSkill()),o}addEnemySaved(e){const t=new Nl(this.logicTimeline,e.type,e.quality,e);return t.initKeepAlives(),this.addUnit(t),t}removeUnit(e){const t=this.units.indexOf(e);t<0||(this.units.splice(t,1),e.dispose(),this.units.forEach((t=>{t.target===e&&(t.setTarget(null),t.findTarget())})))}get map(){return this._map}set map(e){this._map=e,this._endlessLevel=0,this.onMapChanged()}get mapData(){return as.maps[this.map]}onMapChanged(e){for(this.enemyBorn&&(this.enemyBorn.dispose(),this.enemyBorn=null);;){const e=this.units.find((e=>{for(;e;e=e.summoner)if(e===this.playerUnit)return!1;return!0}));if(!e)break;this.removeUnit(e)}Fs.sendEnterMap(this.map),this.mapData.isDungeon?this.enemyBorn=new _s(this.logicTimeline,this.map,e&&e.enemyBorn):this.enemyBorn=new xs(this.logicTimeline,this.map,e&&e.enemyBorn)}focusEnemy(e){if(e.enemyData&&e.enemyData.onPress){if(e.camp===Sl)return;if(!e.enemyData.onPress.call(e,this))return}this.units.forEach((t=>{t.camp===Al&&t.canAttack(e)&&t.setTarget(e)}))}testDodge(e,t,n){if(t.testDodge())return Fs.sendDodge(e,t,n),!0}sendDamage(e,t,n,r,i,o){let a=i,s=0;const{target:l}=n,c=n.runAttrHooks(!1,"shieldReflect",e);if(t&&t!==n&&c)return this.testDodge(t,t,r)?0:this.sendDamage(e,t,t,r,c,o);const u=n.runAttrHooks(!1,"zhesheReflect",e,a);if(t&&t!==n&&u)return this.sendDamage("magic",n,l,"折射",Math.min(u,50*n.int),!1);a=t?t.runAttrHooks(a,"willDamage",n,e):a,a=n.runAttrHooks(a,"willDamaged",t,e);const h=n.runAttrHooks(!1,"jingji_small");switch(t&&t!==n&&h&&this.sendDamage("real",null,t,"反伤刺甲",h,!1),s=Math.min(a*(n[Ts(e+"-absorb")]||0),a),e){case"melee":a=n.def<0?(a-s)*(1+n.def/(n.def-2e3)):Math.max((a-s)/(1+n.def/2e3),.25*(a-s));break;default:{const t=n[Ts(e+"-resist")]||0;a=t<0?(a-s)*(1+t/(t-2e3)):Math.max((a-s)/(1+t/2e3),.25*(a-s));break}}if("real"!==e){const r=n.runAttrHooks(a,"absorbed",e);s+=a-r,a=r;const i=n.runAttrHooks(a,"hsjz_hook",t,e);s+=a-i,a=i}a=n.runAttrHooks(a,"damaged",t);const p=n.runAttrHooks(!1,"pla_jingji",e,a);return t&&t!==n&&p&&this.sendDamage("melee",null,t,"荆棘",p,!1),Fs.sendDamage(e,t,n,r,a,o,s),n.damage(e,t,a),a}sendHeal(e,t,n,r){Fs.sendHeal(e,t,n,r),t.hp+=r}gotExp(e,t){const n=this.units.filter((e=>e.canGetExp));if(n.length>0){let r=e*this.updateRate/n.length;n.forEach((e=>e.gotExp(r,t)))}}lootGood(e,t){Fs.sendLoot(this.player,e,t),this.player.loot(e),0===e.count&&(e.key=null)}lootGoods(e,t){const n=[];for(const r of e)this.lootGood(r,t),r.empty||n.push(r);return n}getLootRule(e,t,n){let r=this.player.lootRule.get(e);r||(this.player.lootRule.set(e,[1,1,2,2,0]),r=this.player.lootRule.get(e));const i=r&&r[t]||0;return i||(n<this.player.minLootLevel?0===t?1:2:i)}loots(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=[],a=1<<n;if(!this.player||!this.playerUnit)return;const s=i?1:this.updateRate;this._endlessLevel&&(t+=50*(this._endlessLevel-1));for(const{key:n,type:r,count:[i,l]=[],rate:c,mfRate:u=1,dungeons:h,value:p,position:d,items:f}of e){const e="maxLevel"===r?1:Math.ceil(c*s-Math.random());for(let s=0;s<e;s++)if("ticket"===r){if(h){const e=Object.keys(h),n=e.reduce(((e,t)=>e+h[t]),0);let r=Math.random()*n;const i=e.find((e=>{const t=h[e];return r<t||(r-=t,!1)})),a=new ah("loot");a.key="ticket",a.dungeonKey=i,a.count=1,t<200?this.player.dungeonTickets.set(i,this.player.dungeonTickets.get(i)+1):o.push(a)}}else if("equip"===r||"specialEquip"===r||"specialEquip2"===r){let e,n=0;if(t>=250){const e=Math.max(1,Math.min(t-15,.8*t));n+=Math.ceil(e+Math.random()*(t-e))}else n+=t;if("specialEquip"===r){const t=f[Math.floor(Math.random()*f.length)];e=Hl(as.legends[t].type,n,4,t)}else if("specialEquip2"===r){n=Zu(this.player.level);const t=f[Math.floor(Math.random()*f.length)];e=Hl(as.legends[t].type,n,4,t)}else e=zl(n,u*(this.playerUnit?this.playerUnit.mf:1)*a,d);switch(this.getLootRule(e.goodData.class,e.quality,e.level)){case 1:o.push(new ah("loot").fromJS({key:"gold",count:e.price}));break;case 2:{const t=Kl(e);for(const e of Object.keys(t))o.push(new ah("build").fromJS({key:e,count:t[e]}))}break;default:o.push(e)}}else if("maxLevel"===r)this.player.maxLevel<p&&(this.player.maxLevel=p,rc(`${this.player.name}的最大等级提升到了${p}`));else if(n){let t=(Math.random()*(l-i+1)+i)*e;"gold"===n&&(t*=this.playerUnit.gf,t*=this._endlessLevel?Math.pow(1.5,this._endlessLevel):1);const r=new ah("loot");r.key=n,r.count=0|t,o.push(r),s=e}}return this.lootGoods(o,r)}lootEndless(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._endlessLevel>0&&Math.random()<qm.endlessTicketRate){const t=[],n=new ah("loot");return n.key="ticket",n.dungeonKey="nightmare."+(this._endlessLevel+1),n.count=1,t.push(n),this.lootGoods(t,e)}}selectSkill(e){this.player.careerInfo.selectedSkills.unshift(e),this.playerUnit.addSkill(e)}unselectSkill(e){this.player.careerInfo.selectedSkills.remove(e),this.playerUnit.removeSkill(e)}selectEnhance(e){this.player.careerInfo.selectedEnhances.unshift(e)}unselectEnhance(e){this.player.careerInfo.selectedEnhances.remove(e)}sendSkillUsage(e,t,n){Fs.sendSkillUsage(e,t,n)}sendGeneralMsg(e){Fs.sendGeneral(e)}start(e){const t=Gl().base64ToBytes(e.slice(4)),n=t.splice(0,16),r=[];for(let e=0;32*e<t.length;e++){const i=t.slice(32*e+16,32*(e+1));r.push(i);const o=t.slice(32*e,32*e+16);if($l()([...i,...n],{asBytes:!0}).some(((e,t)=>e!==o[t])))throw Error("Invalid data")}const i=[].concat(...r);return i.forEach(((e,t)=>{i[t]=e^255&t^39})),JSON.parse(Jl.utf8.bytesToString(i))}stop(e){const t=$l()(Date.now()+"."+Math.random(),{asBytes:!0}),n=Jl.utf8.stringToBytes(JSON.stringify({random:Math.random(),...e}));n.forEach(((e,t)=>{n[t]=e^255&t^39}));const r=[t];for(let e=0;16*e<n.length;e++){const i=n.slice(16*e,16*(e+1));r.push($l()([...i,...t],{asBytes:!0})),r.push(i)}return"save"+Gl().bytesToBase64([].concat(...r))}usePackage(e){const{player:t}=this,{goodData:n}=e;if(t.inventory.filter((e=>e.empty)).length<n.requireInventory)rc(`背包空间不足！至少保留${n.requireInventory}个空位才能打开${n.name}`);else{for(;e.count>0;){let r=n.lootLevel;if(r){if(Array.isArray(r)){const e=Math.random();r=e*r[0]+(1-e)*r[1]}}else r=t.level<100?2*t.level:200;this.loots(n.loots,r,0,!1,!0),e.count-=1}0===e.count&&e.clear()}}},sc=vc(ac.prototype,"units",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lc=vc(ac.prototype,"player",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cc=vc(ac.prototype,"playerUnit",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),uc=vc(ac.prototype,"paused",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hc=vc(ac.prototype,"pendingTime",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pc=vc(ac.prototype,"enemyBorn",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vc(ac.prototype,"resumeGame",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"resumeGame"),ac.prototype),vc(ac.prototype,"pause",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"pause"),ac.prototype),vc(ac.prototype,"dispose",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"dispose"),ac.prototype),vc(ac.prototype,"addEnemy",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"addEnemy"),ac.prototype),vc(ac.prototype,"addEnemySaved",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"addEnemySaved"),ac.prototype),vc(ac.prototype,"removeUnit",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"removeUnit"),ac.prototype),dc=vc(ac.prototype,"_map",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"home"}}),fc=vc(ac.prototype,"_endlessLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),mc=vc(ac.prototype,"pendingMaps",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vc(ac.prototype,"mapData",[Fe],Object.getOwnPropertyDescriptor(ac.prototype,"mapData"),ac.prototype),vc(ac.prototype,"focusEnemy",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"focusEnemy"),ac.prototype),vc(ac.prototype,"sendDamage",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"sendDamage"),ac.prototype),vc(ac.prototype,"sendHeal",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"sendHeal"),ac.prototype),vc(ac.prototype,"gotExp",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"gotExp"),ac.prototype),vc(ac.prototype,"lootGood",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"lootGood"),ac.prototype),vc(ac.prototype,"lootGoods",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"lootGoods"),ac.prototype),vc(ac.prototype,"loots",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"loots"),ac.prototype),vc(ac.prototype,"selectSkill",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"selectSkill"),ac.prototype),vc(ac.prototype,"unselectSkill",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"unselectSkill"),ac.prototype),vc(ac.prototype,"selectEnhance",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"selectEnhance"),ac.prototype),vc(ac.prototype,"unselectEnhance",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"unselectEnhance"),ac.prototype),vc(ac.prototype,"usePackage",[Bt],Object.getOwnPropertyDescriptor(ac.prototype,"usePackage"),ac.prototype),ac);const kc=new bc,wc={};function xc(e){if(Array.isArray(e))return e.map(xc);if(e instanceof Map){const t={};for(const[n,r]of e.entries())t[n]=xc(r);return t}if(e&&"object"==typeof e){const t={};for(const n of Object.keys(e))t[n]=xc(e[n]);return t}return e}var _c,Sc,Ec,Ac,Dc,Cc,Pc,Rc,Oc,Tc,Bc,Fc,Mc,Nc,Ic,jc,Hc,Lc,qc,zc,Uc,Vc,Kc,Yc,$c,Wc,Gc,Jc,Xc,Qc,Zc,eu,tu,nu,ru,iu,ou,au,su,lu,cu,uu,hu,pu;function du(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function fu(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mu(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const gu={};Object.keys(as.goods).forEach(((e,t)=>gu[e]=t));const yu={stickSword:1,stickWand:1,woodSword:6,woodWand:6,dress:2,skirt:2,rattanArmor:8,rattanShinGuard:8,hardDress:8,boot:8,boneSword:16,boneWand:16,wolfTeethMace:24,wolfTeethWand:24,leatherArmor:20,leatherTrousers:20,leatherDress:20,leatherSkirt:20,copperSword:32,copperBigSword:36,copperSword2:40,copperBigSword2:44,copperArmor:32,copperShinGuard:32,zombieBoneHandyWand:32,zombieBoneWand:36,mithrilShortWand:40,mithrilWand:44,silkDress:32,silkSocks:32,magicBoneSword:50,magicBoneBigSword:54,mithrilCopperSword:60,mithrilCopperBigSword:64,boneArmor:52,boneShinGuard:52,ghostCreamShortWand:50,ghostCreamStick:50,mithrilStannumShortWand:60,mithrilStannumWand:64,mithrilDress:52,mithrilSkirt:52},vu={cloth:1,lightArmor:1.5,armor:2,swordshield:1.5,spearshield:1.5,macheteshield:1.5},bu={plastron:1,gaiter:.8,weapon:1},ku={cloth:2,lightArmor:.5,armor:.5,wand:2},wu={plastron:1,gaiter:.8,weapon:2},xu={sword:1},_u={weapon:1},Su={longsword:1.5},Eu={weapon:1},Au={sword:1,swordshield:.8,spear:1.2,spearshield:1,machete:1,macheteshield:.8,ornament:1,longsword:1},Du={weapon:1},Cu={machete:1},Pu={weapon:1},Ru={ornament:1},Ou={sta:1,str:.5,dex:.5,int:.5},Tu={ornament:1},Bu={sta:1},Fu={ornament:1},Mu={str:1},Nu={ornament:1},Iu={dex:1},ju={wand:1},Hu={int:1,weapon:1},Lu={weapon_wanhua:1},qu={weapon:1},zu={ornament:1},Uu={jingjian_pofang:1.5},Vu={},Ku={},Yu={},$u={},Wu={},Gu={},Ju={armor:"重甲",lightArmor:"轻甲",cloth:"布甲",ornament:"首饰",sword:"长剑",swordshield:"剑盾",spear:"长枪",spearshield:"枪盾",machete:"双刀",macheteshield:"刀盾",wand:"法杖",longsword:"太刀"},Xu={plastron:1,gaiter:2,ornament:3,weapon:0};function Qu(e){return e<=200?Math.ceil(e/2):100}function Zu(e){return e<=100?2*e:200}function eh(e){if(e.startsWith("nightmare."))return 0|Number(e.substr(10))}const th=["","I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII","XIII","XIV","XV","XVI","XVII","XVIII","XIX","XX"];function nh(e){const t=eh(e);if(t)return"无尽噩梦"+(th[t]||t)}function rh(e){return 250+50*(eh(e)-1)}let ih=(Sc=mu((_c=class{constructor(){fu(this,"type",""),du(this,"exp",Sc,this),du(this,"level",Ec,this),du(this,"peakExp",Ac,this),du(this,"peakLevel",Dc,this),du(this,"maxLevel",Cc,this),du(this,"equipments",Pc,this),du(this,"selectedSkills",Rc,this),du(this,"selectedEnhances",Oc,this),bn(this)}fromJS(e){return this.exp=e.exp||0,this.level=e.level||1,this.peakExp=e.peakExp||0,this.peakLevel=e.peakLevel||0,this.maxLevel=e.maxLevel||100,e.equipments&&(this.equipments.weapon.fromJS(e.equipments.weapon||{}),this.equipments.plastron.fromJS(e.equipments.plastron||{}),this.equipments.gaiter.fromJS(e.equipments.gaiter||{}),this.equipments.ornament.fromJS(e.equipments.ornament||{})),e.selectedSkills&&this.selectedSkills.replace(e.selectedSkills.filter((e=>as.careers[this.type].skills[e]))),e.selectedEnhances&&this.selectedEnhances.replace(e.selectedEnhances.filter((e=>as.careers[this.type].enhances[e]))),this}get maxExp(){if(!as.careers[this.type])return console.warn(`Invalid career type ${this.type}`),1e7;const{expFormula:e}=as.careers[this.type];return e.map(((e,t)=>e*this.level**t)).reduce(((e,t)=>e+t),0)}get maxPeakExp(){if(!as.careers[this.type])return console.warn(`Invalid career type ${this.type}`),1e7;const{expFormula:e}=as.careers[this.type],t=this.peakLevel+100;return e.map(((e,n)=>e*t**n)).reduce(((e,t)=>e+t),0)}}).prototype,"exp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ec=mu(_c.prototype,"level",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ac=mu(_c.prototype,"peakExp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Dc=mu(_c.prototype,"peakLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Cc=mu(_c.prototype,"maxLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Pc=mu(_c.prototype,"equipments",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{weapon:new ah("equip"),plastron:new ah("equip"),gaiter:new ah("equip"),ornament:new ah("equip")}}}),Rc=mu(_c.prototype,"selectedSkills",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oc=mu(_c.prototype,"selectedEnhances",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mu(_c.prototype,"maxExp",[Fe],Object.getOwnPropertyDescriptor(_c.prototype,"maxExp"),_c.prototype),mu(_c.prototype,"maxPeakExp",[Fe],Object.getOwnPropertyDescriptor(_c.prototype,"maxPeakExp"),_c.prototype),_c),oh=(Bc=mu((Tc=class{constructor(){du(this,"key",Bc,this),du(this,"value",Fc,this),du(this,"rebuilded",Mc,this),bn(this)}get affixData(){return as.affixes[this.key]||as.legends[this.key]}get isLegend(){return!!as.legends[this.key]}get display(){return this.affixData.display(this.value)}rangeDisplay(e){return this.affixData.range(e)}fromJS(e){return this.key=e.key,this.value=e.value,this.rebuilded=e.rebuilded,this}}).prototype,"key",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fc=mu(Tc.prototype,"value",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Mc=mu(Tc.prototype,"rebuilded",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mu(Tc.prototype,"affixData",[Fe],Object.getOwnPropertyDescriptor(Tc.prototype,"affixData"),Tc.prototype),mu(Tc.prototype,"isLegend",[Fe],Object.getOwnPropertyDescriptor(Tc.prototype,"isLegend"),Tc.prototype),mu(Tc.prototype,"display",[Fe],Object.getOwnPropertyDescriptor(Tc.prototype,"display"),Tc.prototype),mu(Tc.prototype,"fromJS",[Bt],Object.getOwnPropertyDescriptor(Tc.prototype,"fromJS"),Tc.prototype),Tc),ah=(Ic=mu((Nc=class{constructor(e){fu(this,"position",null),du(this,"key",Ic,this),du(this,"count",jc,this),du(this,"level",Hc,this),du(this,"affixes",Lc,this),du(this,"quality",qc,this),du(this,"enchantTimes",zc,this),du(this,"locked",Uc,this),du(this,"legendType",Vc,this),du(this,"dungeonKey",Kc,this),bn(this),this.position=e}get goodData(){return as.goods[this.key]}get isEnergyMaterial(){const{goodData:e}=this;return e&&"material"===e.type&&!!e.energy}get legendData(){return this.legendType&&as.legends[this.legendType]}get backgroundColor(){const{goodData:e}=this;return e&&e.backgroundColor}get nameColor(){const{goodData:e}=this;return e&&e.nameColor}get description(){return this.key?this.legendData?this.legendData.itemDescription:this.goodData&&this.goodData.description:""}get name(){return this.key?"gold"===this.key?"金币":"diamonds"===this.key?"神力":"ticket"===this.key?`钥石:${nh(this.dungeonKey)||as.maps[this.dungeonKey].name}`:this.legendData?this.legendData.itemName:this.goodData&&this.goodData.name:""}get originName(){return this.legendData?this.goodData&&this.goodData.name:null}get isEquip(){return!!this.goodData&&"equip"===this.goodData.type}get displayQuality(){return this.isEquip?this.quality:this.goodData?this.goodData.quality||0:void 0}get empty(){return!this.key}get price(){if(!this.key)return 0;if(this.isEquip){const{level:e}=this;return(.01*e*e+1*e)*2**this.quality|0}return this.goodData.price*2**this.quality}get totalPrice(){return this.price*this.count}get requireLevel(){return this.isEquip?Qu(this.level):0}get atkSpeed(){const{goodData:e}=this;return e&&e.atkSpeed||0}get atk_self(){const{level:e,goodData:t}=this;if("weapon"===t.position){const n=Au[t.class]*Du[t.position]||0;return Math.ceil(e*n)}if("ornament"===t.position){const n=Au[t.class]*Du[t.item]||0;return Math.ceil(e*n)}}get def(){const{level:e,goodData:t}=this,n=vu[t.class]*bu[t.position]||0;return Math.round(e*n)}get allResist(){const{level:e,goodData:t}=this,n=ku[t.class]*wu[t.position]||0;return Math.round(e*n*.8)}get critRate(){const{level:e,goodData:t}=this;return.1*(xu[t.class]*_u[t.position]||0)}get dmgAdd(){const{level:e,goodData:t}=this,n=Lu[t.class]*qu[t.position]||0;return e>200?.1*n:5e-4*e*n}get atkMul(){const{level:e,goodData:t}=this;return.1*(Su[t.class]*Eu[t.position]||0)}get critBonus(){const{level:e,goodData:t}=this;return.2*(Cu[t.class]*Pu[t.position]||0)}get dmgLevel(){const{level:e,goodData:t}=this,n=zu[t.class]*Uu[t.item]||0;return Math.round(e*n)}get critR_level(){const{level:e,goodData:t}=this,n=Vu[t.class]*Ku[t.position]||0;return Math.round(e*n)}get critB_level(){const{level:e,goodData:t}=this,n=Yu[t.class]*$u[t.position]||0;return Math.round(e*n)}get miss_shanbizhi(){const{level:e,goodData:t}=this,n=Wu[t.class]*Gu[t.position]||0;return Math.round(e*n)}get equipPositionName(){const{goodData:e}=this;return Ju[e.class]}get equipPositionOrder(){const{position:e}=this.goodData;return Xu[e]}get maxHp(){const{level:e,goodData:t}=this;return e*(Ru[t.class]*Ou[t.item]||0)/2}get sta(){const{level:e,goodData:t}=this;return e*(Tu[t.class]*Bu[t.item]||0)/4}get str(){const{level:e,goodData:t}=this;return e*(Fu[t.class]*Mu[t.item]||0)/4}get dex(){const{level:e,goodData:t}=this;return e*(Nu[t.class]*Iu[t.item]||0)/4}get int(){const{level:e,goodData:t}=this;return e*(ju[t.class]*Hu[t.position]||0)}get mpRecovery(){const{level:e,goodData:t}=this;return t&&t.mpRecovery?(1.5*e+9)*t.mpRecovery/5:0}get mpFromKill(){const{level:e,goodData:t}=this;return t&&t.mpFromKill?(1.5*e+9)*t.mpFromKill:0}swap(e){const t=cn(this);this.fromJS(e),e.fromJS(t)}clear(){this.key=null,this.count=0,this.quality=0,this.level=0,this.enchantTimes=0,this.legendType=null,this.dungeonKey=null,this.affixes.clear()}fromJS(e){return this.locked=e.locked||0,this.key=e.key||null,this.count=e.count?Math.ceil(e.count):null,this.quality=e.quality||0,this.level=e.level||0,this.enchantTimes=e.enchantTimes||0,this.legendType=e.legendType||null,this.dungeonKey=e.dungeonKey||null,this.isEquip&&!this.level&&(this.level=yu[this.key]||1),this.affixes.replace((e.affixes||[]).map((e=>(new oh).fromJS(e)))),this.key&&0!==this.count||this.clear(),"ticket"!==this.key||this.dungeonKey||this.clear(),this}}).prototype,"key",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),jc=mu(Nc.prototype,"count",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hc=mu(Nc.prototype,"level",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Lc=mu(Nc.prototype,"affixes",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qc=mu(Nc.prototype,"quality",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zc=mu(Nc.prototype,"enchantTimes",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Uc=mu(Nc.prototype,"locked",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vc=mu(Nc.prototype,"legendType",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kc=mu(Nc.prototype,"dungeonKey",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mu(Nc.prototype,"goodData",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"goodData"),Nc.prototype),mu(Nc.prototype,"isEnergyMaterial",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"isEnergyMaterial"),Nc.prototype),mu(Nc.prototype,"legendData",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"legendData"),Nc.prototype),mu(Nc.prototype,"backgroundColor",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"backgroundColor"),Nc.prototype),mu(Nc.prototype,"nameColor",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"nameColor"),Nc.prototype),mu(Nc.prototype,"description",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"description"),Nc.prototype),mu(Nc.prototype,"name",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"name"),Nc.prototype),mu(Nc.prototype,"originName",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"originName"),Nc.prototype),mu(Nc.prototype,"isEquip",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"isEquip"),Nc.prototype),mu(Nc.prototype,"displayQuality",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"displayQuality"),Nc.prototype),mu(Nc.prototype,"empty",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"empty"),Nc.prototype),mu(Nc.prototype,"price",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"price"),Nc.prototype),mu(Nc.prototype,"totalPrice",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"totalPrice"),Nc.prototype),mu(Nc.prototype,"requireLevel",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"requireLevel"),Nc.prototype),mu(Nc.prototype,"atkSpeed",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"atkSpeed"),Nc.prototype),mu(Nc.prototype,"atk_self",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"atk_self"),Nc.prototype),mu(Nc.prototype,"def",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"def"),Nc.prototype),mu(Nc.prototype,"allResist",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"allResist"),Nc.prototype),mu(Nc.prototype,"critRate",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"critRate"),Nc.prototype),mu(Nc.prototype,"dmgAdd",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"dmgAdd"),Nc.prototype),mu(Nc.prototype,"atkMul",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"atkMul"),Nc.prototype),mu(Nc.prototype,"critBonus",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"critBonus"),Nc.prototype),mu(Nc.prototype,"dmgLevel",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"dmgLevel"),Nc.prototype),mu(Nc.prototype,"critR_level",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"critR_level"),Nc.prototype),mu(Nc.prototype,"critB_level",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"critB_level"),Nc.prototype),mu(Nc.prototype,"miss_shanbizhi",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"miss_shanbizhi"),Nc.prototype),mu(Nc.prototype,"equipPositionName",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"equipPositionName"),Nc.prototype),mu(Nc.prototype,"maxHp",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"maxHp"),Nc.prototype),mu(Nc.prototype,"sta",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"sta"),Nc.prototype),mu(Nc.prototype,"str",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"str"),Nc.prototype),mu(Nc.prototype,"dex",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"dex"),Nc.prototype),mu(Nc.prototype,"int",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"int"),Nc.prototype),mu(Nc.prototype,"mpRecovery",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"mpRecovery"),Nc.prototype),mu(Nc.prototype,"mpFromKill",[Fe],Object.getOwnPropertyDescriptor(Nc.prototype,"mpFromKill"),Nc.prototype),mu(Nc.prototype,"swap",[Bt],Object.getOwnPropertyDescriptor(Nc.prototype,"swap"),Nc.prototype),mu(Nc.prototype,"clear",[Bt],Object.getOwnPropertyDescriptor(Nc.prototype,"clear"),Nc.prototype),mu(Nc.prototype,"fromJS",[Bt],Object.getOwnPropertyDescriptor(Nc.prototype,"fromJS"),Nc.prototype),Nc),sh=(Yc=class{constructor(e){fu(this,"key",null),du(this,"role",$c,this),du(this,"currentCareer",Wc,this),du(this,"currentCareerLevel",Gc,this),du(this,"currentCareerLevelExp",Jc,this),du(this,"currentCareerpeakLevel",Xc,this),du(this,"currentCareerpeakLevelExp",Qc,this),du(this,"currentCareerequipments",Zc,this),this.key=e,bn(this)}get roleData(){return as.roles[this.role]}get name(){return this.roleData.name}get careerData(){return as.careers[this.currentCareer]}get careerName(){return this.careerData&&this.careerData.name}fromJS(e){return this.role=e.role||"Eyer",this.currentCareer=e.currentCareer||this.roleData.defaultCareer,this.currentCareerLevel=e.currentCareerLevel||1,this.currentCareerLevelExp=e.currentCareerLevelExp||0,this.currentCareerpeakLevel=e.currentCareerpeakLevel||0,this.currentCareerpeakLevelExp=e.currentCareerpeakLevelExp||0,e.currentCareerequipments&&(this.currentCareerequipments.weapon.fromJS(e.currentCareerequipments.weapon||{}),this.currentCareerequipments.plastron.fromJS(e.currentCareerequipments.plastron||{}),this.currentCareerequipments.gaiter.fromJS(e.currentCareerequipments.gaiter||{}),this.currentCareerequipments.ornament.fromJS(e.currentCareerequipments.ornament||{})),this}},$c=mu(Yc.prototype,"role",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Eyer"}}),Wc=mu(Yc.prototype,"currentCareer",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gc=mu(Yc.prototype,"currentCareerLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jc=mu(Yc.prototype,"currentCareerLevelExp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xc=mu(Yc.prototype,"currentCareerpeakLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qc=mu(Yc.prototype,"currentCareerpeakLevelExp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Zc=mu(Yc.prototype,"currentCareerequipments",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{weapon:new ah("equip"),plastron:new ah("equip"),gaiter:new ah("equip"),ornament:new ah("equip")}}}),mu(Yc.prototype,"roleData",[Fe],Object.getOwnPropertyDescriptor(Yc.prototype,"roleData"),Yc.prototype),mu(Yc.prototype,"name",[Fe],Object.getOwnPropertyDescriptor(Yc.prototype,"name"),Yc.prototype),mu(Yc.prototype,"careerData",[Fe],Object.getOwnPropertyDescriptor(Yc.prototype,"careerData"),Yc.prototype),mu(Yc.prototype,"careerName",[Fe],Object.getOwnPropertyDescriptor(Yc.prototype,"careerName"),Yc.prototype),mu(Yc.prototype,"fromJS",[Bt],Object.getOwnPropertyDescriptor(Yc.prototype,"fromJS"),Yc.prototype),Yc),lh=(eu=class e extends sh{constructor(e){super(e),du(this,"timestamp",tu,this),fu(this,"timelineId",null),fu(this,"banned",!1),du(this,"careers",nu,this),du(this,"gold",ru,this),du(this,"inventory",iu,this),du(this,"inventoryDiamondLevel",ou,this),du(this,"skillExp",au,this),du(this,"buildInventory",su,this),du(this,"awardInventory",lu,this),du(this,"migrateMap",cu,this),du(this,"lootRule",uu,this),du(this,"minLootLevel",hu,this),du(this,"dungeonTickets",pu,this),bn(this),this.disposeAutoSave=It((()=>{this.save()}),{delay:3e4})}static load(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=localStorage.getItem(`player-${t}`),i=new e(t);if(r){let e;"{"===r[0]?e=JSON.parse(r):"s"===r[0]&&(e=kc.start(r)),function(e){e.migrateMap||(e.migrateMap={});for(const t in wc)e.migrateMap[t]||(e.migrateMap[t]=1,wc[t](e))}(e),i.fromJS(e),n&&(e.worldState=null,e.map=null),kc.load(i,e.worldState||{map:e.map||"home"})}return qm.currentPlayer=t,i}static create(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Mt((()=>{qm.checkCanCreate();const r=`${Date.now()}-${n}`;if(qm.playerMetas.has(r))return e.create(t,n+1);t.key=r,qm.playerMetas.set(r,t);const i=new e(r);return qm.currentPlayer=r,i.fromJS(t),i.postCreate(),i.save(!0),qm.save(),i}))}get isBanned(){return this.banned||qm.banned}get careerInfo(){return this.careers.get(this.currentCareer)}get level(){return this.careerInfo?this.careerInfo.level:0}set level(e){this.careerInfo.level=e,this.currentCareerLevel=e}get maxLevel(){return this.careerInfo?this.careerInfo.maxLevel:0}set maxLevel(e){this.careerInfo&&(this.careerInfo.maxLevel=e)}get peakLevel(){return this.careerInfo?this.careerInfo.peakLevel:0}set peakLevel(e){this.careerInfo.peakLevel=e,this.currentCareerpeakLevel=e}get exp(){return this.careerInfo.exp}get peakExp(){return this.careerInfo.peakExp}set exp(e){this.careerInfo.exp=e,this.currentCareerLevelExp=e}set peakExp(e){this.careerInfo.peakExp=e,this.currentCareerpeakLevelExp=e}get equipments(){return this.careerInfo.equipments}get maxExp(){return this.careerInfo.maxExp}get maxPeakExp(){return this.careerInfo.maxPeakExp}get maxSkillCount(){const{level:e}=this;return e>=70?6:e>=50?5:e>=30?4:3}get nextSkillUnlockLevel(){const{level:e}=this;return e>=70?null:e>=50?70:e>=30?50:30}get maxEnhanceCount(){const{level:e}=this;return e>=60?5:e>=40?4:e>=20?3:e>=10?2:e>=5?1:0}get nextEnhanceUnlockLevel(){const{level:e}=this;return e>=60?null:e>=40?60:e>=20?40:e>=10?20:e>=5?10:5}fromJS(e){if(super.fromJS(e),this.timestamp=e.timestamp||Date.now(),this.timelineId=e.timelineId,this.minLootLevel=e.minLootLevel||0,this.gold=e.gold||0,this.inventoryDiamondLevel=e.inventoryDiamondLevel||0,this.inventory.clear(),this.skillExp.clear(),Ln(e.skillExp))for(const t of e.skillExp.keys()){const n=cn(e.skillExp.get(t));n.level=Math.min(n.level,50),this.skillExp.set(t,Re(n))}else for(const t of Object.keys(e.skillExp||{})){const n=e.skillExp[t];n.level=Math.min(n.level,50),this.skillExp.set(t,Re(n))}for(let t=0;e.inventory&&t<e.inventory.length;t++){this.inventory.push(new ah("inventory").fromJS(e.inventory[t]||{}));const{key:n,dungeonKey:r}=this.inventory[t];if("ticket"==n&&r){const e=eh(r);e&&e>qm.highestEndlessLevel&&(qm.highestEndlessLevel=e)}}for(let t=0;e.buildInventory&&t<e.buildInventory.length;t++){const n=new ah("build").fromJS(e.buildInventory[t]||{});n.empty||this.buildInventory.push(n)}for(let t=0;e.awardInventory&&t<e.awardInventory.length;t++){const n=new ah("award").fromJS(e.awardInventory[t]||{});n.empty||this.awardInventory.push(n)}if(this.careers.clear(),Ln(e.careers))for(const t of e.careers.keys()){const n=new ih;n.type=t,n.fromJS(e.careers.get(t)),this.careers.set(t,n)}else for(const t of Object.keys(e.careers||{})){const n=new ih;n.type=t,n.fromJS(e.careers[t]),this.careers.set(t,n)}if(this.migrateMap.clear(),Ln(e.migrateMap))for(const t of e.migrateMap.keys())this.migrateMap.set(t,1);else for(const t of Object.keys(e.migrateMap||{}))this.migrateMap.set(t,1);if(this.lootRule.clear(),Ln(e.lootRule))for(const t of e.lootRule.keys())this.lootRule.set(t,e.lootRule.get(t));else for(const t of Object.keys(e.lootRule||{}))this.lootRule.set(t,e.lootRule[t]);if(this.dungeonTickets.clear(),Ln(e.dungeonTickets)){for(const t of Object.keys(as.maps))if(as.maps[t].isDungeon&&!as.maps[t].isEndless){const n="number"==typeof as.maps[t].defaultTicketCount?as.maps[t].defaultTicketCount:1,r=as.maps[t].group||t;this.dungeonTickets.set(r,e.dungeonTickets&&e.dungeonTickets.has(r)&&void 0!==e.dungeonTickets.get(r)?e.dungeonTickets.get(t):n)}}else for(const t of Object.keys(as.maps))if(as.maps[t].isDungeon&&!as.maps[t].isEndless){const n="number"==typeof as.maps[t].defaultTicketCount?as.maps[t].defaultTicketCount:1,r=as.maps[t].group||t;this.dungeonTickets.set(r,e.dungeonTickets&&void 0!==e.dungeonTickets[r]?e.dungeonTickets[r]:n)}return this}postCreate(){for(this.selectCareer(this.roleData.defaultCareer);this.inventory.length<12;)this.inventory.push(new ah("inventory"));const{startup:e}=this.roleData;for(const t of Object.keys(e||{}))if("number"==typeof e[t]){const n=this.awardInventory.find((e=>e.key===t));n?n.count+=e[t]:this.awardInventory.push(new ah("award").fromJS({key:t,count:e[t]}))}else{const{quality:n,affixes:r}=e[t];this.awardInventory.push(new ah("award").fromJS({key:t,count:1,quality:n,affixes:r}))}}postLoad(){for(this.selectCareer(this.currentCareer);this.inventory.length<12;)this.inventory.push(new ah("inventory"))}selectCareer(e){if(this.currentCareer=e,!this.careers.has(e)){const t=as.careers[e],n=new ih;n.type=e,t.equipments&&t.equipments.weapon&&n.equipments.weapon.fromJS({key:t.equipments.weapon,count:1}),this.careers.set(e,n)}this.level=this.currentCareerLevel,this.exp=this.currentCareerLevelExp,this.peakLevel=this.currentCareerpeakLevel,this.peakExp=this.currentCareerpeakLevelExp,this.currentCareerequipments.weapon.count>0&&this.equipments.weapon.fromJS(this.currentCareerequipments.weapon),this.currentCareerequipments.plastron.count>0&&this.equipments.plastron.fromJS(this.currentCareerequipments.plastron),this.currentCareerequipments.gaiter.count>0&&this.equipments.gaiter.fromJS(this.currentCareerequipments.gaiter),this.currentCareerequipments.ornament.count>0&&this.equipments.ornament.fromJS(this.currentCareerequipments.ornament),Object.keys(this.careerData.skills).forEach((e=>{const t=as.skills[e].expGroup||e;this.skillExp.has(t)||this.skillExp.set(t,{level:0,exp:0})}))}emptySlot(e){for(let t=0;t<e.length;t++)if(!e[t].key)return t;return-1}notFullSlot(e,t,n,r){for(let i=0;i<e.length;i++){const o=e[i];if(o&&o.key===t&&("ticket"!==t||r===o.dungeonKey)&&o.count<n)return i}const i=this.emptySlot(e);return i>=0&&(e[i].key=t,"ticket"===t&&(e[i].dungeonKey=r)),i}loot(e,t){const n=t||this.inventory,{key:r}=e;if(e.empty)return;if("gold"===r)return this.gold+=e.count,void e.clear();if("diamonds"===r)return qm.diamonds+=e.count,void e.clear();const i="ticket"===r?99999:as.goods[r].stack;if(!i){const t=this.emptySlot(n);if(t<0)return;return n[t].fromJS(e),void e.clear()}for(;e.count>0;){const t=this.notFullSlot(n,r,i,e.dungeonKey);if(t<0)return;const o=Math.min(e.count,i-n[t].count);n[t].count+=o,e.count-=o}if("ticket"===r){const t=eh(e.dungeonKey);t&&t>qm.highestEndlessLevel&&(qm.highestEndlessLevel=t)}e.clear()}save(e){try{if(!this.key)return void console.warn("No player key , failed to save");const t=qm.playerMetas.get(this.key);if(!t)return void console.warn("可能角色已经被删除。不再保存。");t.fromJS(this);const n=xc(this.toJS());e?n.timestamp=this.timestamp:(n.timestamp=this.timestamp+kc.timeline.getTime(),n.worldState=kc.dumpState()),localStorage.setItem(`player-${this.key}`,kc.stop(n))}catch(e){console.error(e.stack),alert("保存失败，请将以下信息发送给作者："+e.stack)}}toJS(){return cn(this)}sellItem(e,t){null!==e.key&&(this.gold+=e.price*t,"build"===e.position?this.buildInventory.remove(e):"award"===e.position?this.awardInventory.remove(e):(e.count-=t,0===e.count&&e.clear()))}countTicket(e){let t=0;return t+=this.dungeonTickets.get(e)||0,t+=this.inventory.reduce(((t,n)=>"ticket"===n.key&&n.dungeonKey===e?t+n.count:t),0),t+=qm.bank.reduce(((t,n)=>"ticket"===n.key&&n.dungeonKey===e?t+n.count:t),0),t}costTicket(e){const t=this.dungeonTickets.get(e);if(t>0)return void this.dungeonTickets.set(e,t-1);const n=this.inventory.find((t=>"ticket"===t.key&&t.dungeonKey===e))||qm.bank.find((t=>"ticket"===t.key&&t.dungeonKey===e));n&&(n.count--,0===n.count&&n.clear())}countGood(e){return this.inventory.reduce(((t,n)=>n.key===e?t+n.count:t),0)}costGood(e,t){let n=t;for(let t=this.inventory.length-1;t>=0;t--){const r=this.inventory[t];if(r.key===e){const e=Math.min(n,r.count);if(r.count-=e,r.count<=0&&r.clear(),n-=e,n<=0)return 0}}return n}getInventory(e){e.replace(kc.lootGoods(e)),this.save()}getSkillLevel(e){const t=this.skillExp.get(as.skills[e].expGroup||e);return t?t.level:0}addSkillExp(e,t){const n=this.skillExp.get(as.skills[e].expGroup||e);if(!(n.level>this.currentCareerLevel)&&n.level<50){const r=as.skills[e].maxExp(n.level);n.exp+=kc.updateRate*t,n.exp>=r&&(n.exp-=r,n.level+=1)}}equip(e){const{goodData:t}=e;t&&"equip"===t.type&&(this.equipments[t.position].swap(e),Mt((()=>{this.currentCareerequipments[t.position]=this.equipments[t.position]})))}unequip(e){const{goodData:t}=e,n=this.emptySlot(this.inventory);n>=0&&(this.inventory[n].swap(e),Mt((()=>{this.currentCareerequipments[t.position]=this.equipments[t.position]})))}sortInventory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.inventory;const t=e.filter((e=>e.key)).map((e=>new ah("inventory").fromJS(e)));function n(e,t,n){return n[e]-n[t]}t.sort(((e,t)=>{const r=e.goodData?e.goodData.type:e.key,i=t.goodData?t.goodData.type:t.key;if(r!==i)return n(r,i,{junk:0,package:1,material:2,ticket:3,equip:4});if("ticket"===r&&e.dungeonKey!==t.dungeonKey){const n=as.maps[e.dungeonKey],r=as.maps[t.dungeonKey],i=rh(e.dungeonKey)||n&&n.level||0,o=rh(t.dungeonKey)||n&&r.level||0;return i!==o?i-o:e.dungeonKey<t.dungeonKey?-1:1}if(e.displayQuality!==t.displayQuality)return e.displayQuality-t.displayQuality;if("equip"===r){if(e.equipPositionOrder!==t.equipPositionOrder)return e.equipPositionOrder-t.equipPositionOrder;if(e.level!==t.level)return e.level-t.level}return n(e.key,t.key,gu)})),e.forEach((e=>e.clear()));for(const n of t)this.loot(n,e)}getCareerLevel(e){const t=this.careers.get(e);return t?t.level:0}dispose(){this.disposeAutoSave&&(this.disposeAutoSave(),this.disposeAutoSave=null)}},mu(eu,"load",[Bt],Object.getOwnPropertyDescriptor(eu,"load"),eu),tu=mu(eu.prototype,"timestamp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),nu=mu(eu.prototype,"careers",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),ru=mu(eu.prototype,"gold",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),iu=mu(eu.prototype,"inventory",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ou=mu(eu.prototype,"inventoryDiamondLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),au=mu(eu.prototype,"skillExp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),su=mu(eu.prototype,"buildInventory",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lu=mu(eu.prototype,"awardInventory",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),cu=mu(eu.prototype,"migrateMap",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),uu=mu(eu.prototype,"lootRule",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),hu=mu(eu.prototype,"minLootLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pu=mu(eu.prototype,"dungeonTickets",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),mu(eu.prototype,"careerInfo",[Fe],Object.getOwnPropertyDescriptor(eu.prototype,"careerInfo"),eu.prototype),mu(eu.prototype,"level",[Fe],Object.getOwnPropertyDescriptor(eu.prototype,"level"),eu.prototype),mu(eu.prototype,"maxLevel",[Fe],Object.getOwnPropertyDescriptor(eu.prototype,"maxLevel"),eu.prototype),mu(eu.prototype,"peakLevel",[Fe],Object.getOwnPropertyDescriptor(eu.prototype,"peakLevel"),eu.prototype),mu(eu.prototype,"exp",[Fe],Object.getOwnPropertyDescriptor(eu.prototype,"exp"),eu.prototype),mu(eu.prototype,"peakExp",[Fe],Object.getOwnPropertyDescriptor(eu.prototype,"peakExp"),eu.prototype),mu(eu.prototype,"equipments",[Fe],Object.getOwnPropertyDescriptor(eu.prototype,"equipments"),eu.prototype),mu(eu.prototype,"maxExp",[Fe],Object.getOwnPropertyDescriptor(eu.prototype,"maxExp"),eu.prototype),mu(eu.prototype,"maxPeakExp",[Fe],Object.getOwnPropertyDescriptor(eu.prototype,"maxPeakExp"),eu.prototype),mu(eu.prototype,"maxSkillCount",[Fe],Object.getOwnPropertyDescriptor(eu.prototype,"maxSkillCount"),eu.prototype),mu(eu.prototype,"nextSkillUnlockLevel",[Fe],Object.getOwnPropertyDescriptor(eu.prototype,"nextSkillUnlockLevel"),eu.prototype),mu(eu.prototype,"maxEnhanceCount",[Fe],Object.getOwnPropertyDescriptor(eu.prototype,"maxEnhanceCount"),eu.prototype),mu(eu.prototype,"nextEnhanceUnlockLevel",[Fe],Object.getOwnPropertyDescriptor(eu.prototype,"nextEnhanceUnlockLevel"),eu.prototype),mu(eu.prototype,"fromJS",[Q],Object.getOwnPropertyDescriptor(eu.prototype,"fromJS"),eu.prototype),mu(eu.prototype,"postCreate",[Bt],Object.getOwnPropertyDescriptor(eu.prototype,"postCreate"),eu.prototype),mu(eu.prototype,"postLoad",[Bt],Object.getOwnPropertyDescriptor(eu.prototype,"postLoad"),eu.prototype),mu(eu.prototype,"selectCareer",[Bt],Object.getOwnPropertyDescriptor(eu.prototype,"selectCareer"),eu.prototype),mu(eu.prototype,"loot",[Bt],Object.getOwnPropertyDescriptor(eu.prototype,"loot"),eu.prototype),mu(eu.prototype,"sellItem",[Bt],Object.getOwnPropertyDescriptor(eu.prototype,"sellItem"),eu.prototype),mu(eu.prototype,"getInventory",[Bt],Object.getOwnPropertyDescriptor(eu.prototype,"getInventory"),eu.prototype),mu(eu.prototype,"addSkillExp",[Bt],Object.getOwnPropertyDescriptor(eu.prototype,"addSkillExp"),eu.prototype),eu);class ch extends Error{constructor(e,t){super(e),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"code",500),this.code=t}static forbidden(){throw new ch("Forbidden",403)}}var uh="delete",hh=5,ph=1<<hh,dh=ph-1,fh={};function mh(e){e&&(e.value=!0)}function gh(){}function yh(e){return void 0===e.size&&(e.size=e.__iterate(bh)),e.size}function vh(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?yh(e)+t:t}function bh(){return!0}function kh(e,t,n){return(0===e&&!Sh(e)||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function wh(e,t){return _h(e,t,0)}function xh(e,t){return _h(e,t,t)}function _h(e,t,n){return void 0===e?n:Sh(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function Sh(e){return e<0||0===e&&1/e==-1/0}var Eh="@@__IMMUTABLE_ITERABLE__@@";function Ah(e){return Boolean(e&&e[Eh])}var Dh="@@__IMMUTABLE_KEYED__@@";function Ch(e){return Boolean(e&&e[Dh])}var Ph="@@__IMMUTABLE_INDEXED__@@";function Rh(e){return Boolean(e&&e[Ph])}function Oh(e){return Ch(e)||Rh(e)}var Th=function(e){return Ah(e)?e:ip(e)},Bh=function(e){function t(e){return Ch(e)?e:op(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Th),Fh=function(e){function t(e){return Rh(e)?e:ap(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Th),Mh=function(e){function t(e){return Ah(e)&&!Oh(e)?e:sp(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Th);Th.Keyed=Bh,Th.Indexed=Fh,Th.Set=Mh;var Nh="@@__IMMUTABLE_SEQ__@@";function Ih(e){return Boolean(e&&e[Nh])}var jh="@@__IMMUTABLE_RECORD__@@";function Hh(e){return Boolean(e&&e[jh])}function Lh(e){return Ah(e)||Hh(e)}var qh="@@__IMMUTABLE_ORDERED__@@";function zh(e){return Boolean(e&&e[qh])}var Uh=0,Vh=1,Kh=2,Yh="function"==typeof Symbol&&Symbol.iterator,$h="@@iterator",Wh=Yh||$h,Gh=function(e){this.next=e};function Jh(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function Xh(){return{value:void 0,done:!0}}function Qh(e){return!!Array.isArray(e)||!!tp(e)}function Zh(e){return e&&"function"==typeof e.next}function ep(e){var t=tp(e);return t&&t.call(e)}function tp(e){var t=e&&(Yh&&e[Yh]||e[$h]);if("function"==typeof t)return t}Gh.prototype.toString=function(){return"[Iterator]"},Gh.KEYS=Uh,Gh.VALUES=Vh,Gh.ENTRIES=Kh,Gh.prototype.inspect=Gh.prototype.toSource=function(){return this.toString()},Gh.prototype[Wh]=function(){return this};var np=Object.prototype.hasOwnProperty;function rp(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var ip=function(e){function t(e){return null==e?pp():Lh(e)?e.toSeq():function(e){var t,n,r=mp(e);if(r)return(n=tp(t=e))&&n===t.entries?r.fromEntrySeq():function(e){var t=tp(e);return t&&t===e.keys}(e)?r.toSetSeq():r;if("object"==typeof e)return new cp(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var n=this._cache;if(n){for(var r=n.length,i=0;i!==r;){var o=n[t?r-++i:i++];if(!1===e(o[1],o[0],this))break}return i}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var n=this._cache;if(n){var r=n.length,i=0;return new Gh((function(){if(i===r)return{value:void 0,done:!0};var o=n[t?r-++i:i++];return Jh(e,o[0],o[1])}))}return this.__iteratorUncached(e,t)},t}(Th),op=function(e){function t(e){return null==e?pp().toKeyedSeq():Ah(e)?Ch(e)?e.toSeq():e.fromEntrySeq():Hh(e)?e.toSeq():dp(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(ip),ap=function(e){function t(e){return null==e?pp():Ah(e)?Ch(e)?e.entrySeq():e.toIndexedSeq():Hh(e)?e.toSeq().entrySeq():fp(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(ip),sp=function(e){function t(e){return(Ah(e)&&!Oh(e)?e:ap(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(ip);ip.isSeq=Ih,ip.Keyed=op,ip.Set=sp,ip.Indexed=ap,ip.prototype[Nh]=!0;var lp=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[vh(this,e)]:t},t.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length,i=0;i!==r;){var o=t?r-++i:i++;if(!1===e(n[o],o,this))break}return i},t.prototype.__iterator=function(e,t){var n=this._array,r=n.length,i=0;return new Gh((function(){if(i===r)return{value:void 0,done:!0};var o=t?r-++i:i++;return Jh(e,o,n[o])}))},t}(ap),cp=function(e){function t(e){var t=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return np.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length,o=0;o!==i;){var a=r[t?i-++o:o++];if(!1===e(n[a],a,this))break}return o},t.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length,o=0;return new Gh((function(){if(o===i)return{value:void 0,done:!0};var a=r[t?i-++o:o++];return Jh(e,a,n[a])}))},t}(op);cp.prototype[qh]=!0;var up,hp=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=ep(this._collection),r=0;if(Zh(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=ep(this._collection);if(!Zh(n))return new Gh(Xh);var r=0;return new Gh((function(){var t=n.next();return t.done?t:Jh(e,r++,t.value)}))},t}(ap);function pp(){return up||(up=new lp([]))}function dp(e){var t=mp(e);if(t)return t.fromEntrySeq();if("object"==typeof e)return new cp(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function fp(e){var t=mp(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function mp(e){return rp(e)?new lp(e):Qh(e)?new hp(e):void 0}var gp="@@__IMMUTABLE_MAP__@@";function yp(e){return Boolean(e&&e[gp])}function vp(e){return yp(e)&&zh(e)}function bp(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function kp(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(bp(e)&&bp(t)&&e.equals(t))}var wp="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function xp(e){return e>>>1&1073741824|3221225471&e}var _p=Object.prototype.valueOf;function Sp(e){if(null==e)return Ep(e);if("function"==typeof e.hashCode)return xp(e.hashCode(e));var t,n,r,i=(t=e).valueOf!==_p&&"function"==typeof t.valueOf?t.valueOf(t):t;if(null==i)return Ep(i);switch(typeof i){case"boolean":return i?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return xp(t)}(i);case"string":return i.length>Mp?(void 0===(r=jp[n=i])&&(r=Ap(n),Ip===Np&&(Ip=0,jp={}),Ip++,jp[n]=r),r):Ap(i);case"object":case"function":return function(e){var t;if(Op&&void 0!==(t=Rp.get(e)))return t;if(void 0!==(t=e[Fp]))return t;if(!Cp){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Fp]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=Pp(),Op)Rp.set(e,t);else{if(void 0!==Dp&&!1===Dp(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Cp)Object.defineProperty(e,Fp,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Fp]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Fp]=t}}return t}(i);case"symbol":return function(e){var t=Tp[e];return void 0!==t||(t=Pp(),Tp[e]=t),t}(i);default:if("function"==typeof i.toString)return Ap(i.toString());throw new Error("Value type "+typeof i+" cannot be hashed.")}}function Ep(e){return null===e?1108378658:1108378659}function Ap(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return xp(t)}var Dp=Object.isExtensible,Cp=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Pp(){var e=++Bp;return 1073741824&Bp&&(Bp=0),e}var Rp,Op="function"==typeof WeakMap;Op&&(Rp=new WeakMap);var Tp=Object.create(null),Bp=0,Fp="__immutablehash__";"function"==typeof Symbol&&(Fp=Symbol(Fp));var Mp=16,Np=255,Ip=0,jp={},Hp=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=Kp(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var n=this,r=Vp(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t,r){return e(t,r,n)}),t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(op);Hp.prototype[qh]=!0;var Lp=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this,r=0;return t&&yh(this),this._iter.__iterate((function(i){return e(i,t?n.size-++r:r++,n)}),t)},t.prototype.__iterator=function(e,t){var n=this,r=this._iter.__iterator(Vh,t),i=0;return t&&yh(this),new Gh((function(){var o=r.next();return o.done?o:Jh(e,t?n.size-++i:i++,o.value,o)}))},t}(ap),qp=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Vh,t);return new Gh((function(){var t=n.next();return t.done?t:Jh(e,t.value,t.value,t)}))},t}(sp),zp=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){td(t);var r=Ah(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Vh,t);return new Gh((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){td(r);var i=Ah(r);return Jh(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},t}(op);function Up(e){var t=rd(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=id,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===Kh){var r=e.__iterator(t,n);return new Gh((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===Vh?Uh:Vh,n)},t}function Vp(e,t,n){var r=rd(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,fh);return o===fh?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(Kh,i);return new Gh((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return Jh(r,s,t.call(n,a[1],s,e),i)}))},r}function Kp(e,t){var n=this,r=rd(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Up(e);return t.reverse=function(){return e.flip()},t}),r.get=function(n,r){return e.get(t?n:-1-n,r)},r.has=function(n){return e.has(t?n:-1-n)},r.includes=function(t){return e.includes(t)},r.cacheResult=id,r.__iterate=function(n,r){var i=this,o=0;return r&&yh(e),e.__iterate((function(e,a){return n(e,t?a:r?i.size-++o:o++,i)}),!r)},r.__iterator=function(r,i){var o=0;i&&yh(e);var a=e.__iterator(Kh,!i);return new Gh((function(){var e=a.next();if(e.done)return e;var s=e.value;return Jh(r,t?s[0]:i?n.size-++o:o++,s[1],e)}))},r}function Yp(e,t,n,r){var i=rd(e);return r&&(i.has=function(r){var i=e.get(r,fh);return i!==fh&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,fh);return o!==fh&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate((function(e,o,l){if(t.call(n,e,o,l))return s++,i(e,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(Kh,o),s=0;return new Gh((function(){for(;;){var o=a.next();if(o.done)return o;var l=o.value,c=l[0],u=l[1];if(t.call(n,u,c,e))return Jh(i,r?c:s++,u,o)}}))},i}function $p(e,t,n,r){var i=e.size;if(kh(t,n,i))return e;var o=wh(t,i),a=xh(n,i);if(o!=o||a!=a)return $p(e.toSeq().cacheResult(),t,n,r);var s,l=a-o;l==l&&(s=l<0?0:l);var c=rd(e);return c.size=0===s?s:e.size&&s||void 0,!r&&Ih(e)&&s>=0&&(c.get=function(t,n){return(t=vh(this,t))>=0&&t<s?e.get(t+o,n):n}),c.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,l=!0,c=0;return e.__iterate((function(e,n){if(!l||!(l=a++<o))return c++,!1!==t(e,r?n:c-1,i)&&c!==s})),c},c.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);if(0===s)return new Gh(Xh);var i=e.__iterator(t,n),a=0,l=0;return new Gh((function(){for(;a++<o;)i.next();if(++l>s)return{value:void 0,done:!0};var e=i.next();return r||t===Vh||e.done?e:Jh(t,l-1,t===Uh?void 0:e.value[1],e)}))},c}function Wp(e,t,n,r){var i=rd(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,l=0;return e.__iterate((function(e,o,c){if(!s||!(s=t.call(n,e,o,c)))return l++,i(e,r?o:l-1,a)})),l},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(Kh,o),l=!0,c=0;return new Gh((function(){var e,o,u;do{if((e=s.next()).done)return r||i===Vh?e:Jh(i,c++,i===Uh?void 0:e.value[1],e);var h=e.value;o=h[0],u=h[1],l&&(l=t.call(n,u,o,a))}while(l);return i===Kh?e:Jh(i,o,u,e)}))},i}function Gp(e,t,n){var r=rd(e);return r.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var a=0,s=!1;return function e(l,c){l.__iterate((function(o,l){return(!t||c<t)&&Ah(o)?e(o,c+1):(a++,!1===i(o,n?l:a-1,r)&&(s=!0)),!s}),o)}(e,0),a},r.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var o=e.__iterator(r,i),a=[],s=0;return new Gh((function(){for(;o;){var e=o.next();if(!1===e.done){var l=e.value;if(r===Kh&&(l=l[1]),t&&!(a.length<t)||!Ah(l))return n?e:Jh(r,s++,l,e);a.push(o),o=l.__iterator(r,i)}else o=a.pop()}return{value:void 0,done:!0}}))},r}function Jp(e,t,n){t||(t=od);var r=Ch(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).valueSeq().toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?op(o):Rh(e)?ap(o):sp(o)}function Xp(e,t,n){if(t||(t=od),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return Qp(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return Qp(t,e,n)?n:e}))}function Qp(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function Zp(e,t,n,r){var i=rd(e),o=new lp(n).map((function(e){return e.size}));return i.size=r?o.max():o.min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(Vh,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=n.map((function(e){return e=Th(e),ep(i?e.reverse():e)})),a=0,s=!1;return new Gh((function(){var n;return s||(n=o.map((function(e){return e.next()})),s=r?n.every((function(e){return e.done})):n.some((function(e){return e.done}))),s?{value:void 0,done:!0}:Jh(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function ed(e,t){return e===t?e:Ih(e)?t:e.constructor(t)}function td(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function nd(e){return Ch(e)?Bh:Rh(e)?Fh:Mh}function rd(e){return Object.create((Ch(e)?op:Rh(e)?ap:sp).prototype)}function id(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ip.prototype.cacheResult.call(this)}function od(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function ad(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function sd(e,t){if(!e)throw new Error(t)}function ld(e){sd(e!==1/0,"Cannot perform this action with an infinite size.")}function cd(e){if(rp(e)&&"string"!=typeof e)return e;if(zh(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}Lp.prototype.cacheResult=Hp.prototype.cacheResult=qp.prototype.cacheResult=zp.prototype.cacheResult=id;var ud=Object.prototype.toString;function hd(e){return"object"==typeof e&&(Lh(e)||Array.isArray(e)||function(e){if(!e||"object"!=typeof e||"[object Object]"!==ud.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t,r=Object.getPrototypeOf(t);null!==r;)n=r,r=Object.getPrototypeOf(n);return n===t}(e))}function pd(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function dd(e,t,n){return Lh(e)?e.get(t,n):function(e,t){return Lh(e)?e.has(t):hd(e)&&np.call(e,t)}(e,t)?"function"==typeof e.get?e.get(t):e[t]:n}function fd(e){if(Array.isArray(e))return ad(e);var t={};for(var n in e)np.call(e,n)&&(t[n]=e[n]);return t}function md(e,t,n,r){r||(r=n,n=void 0);var i=gd(Lh(e),e,cd(t),0,n,r);return i===fh?n:i}function gd(e,t,n,r,i,o){var a=t===fh;if(r===n.length){var s=a?i:t,l=o(s);return l===s?t:l}if(!a&&!hd(t))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(pd)+"]: "+t);var c=n[r],u=a?fh:dd(t,c,fh),h=gd(u===fh?e:Lh(u),u,n,r+1,i,o);return h===u?t:h===fh?function(e,t){if(!hd(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Lh(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!np.call(e,t))return e;var n=fd(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}(t,c):function(e,t,n){if(!hd(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Lh(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(np.call(e,t)&&n===e[t])return e;var r=fd(e);return r[t]=n,r}(a?e?$d():{}:t,c,h)}function yd(e,t){return function(e,t,n){return md(e,t,fh,(function(){return n}))}(this,e,t)}function vd(e){return function(e,t){return md(e,t,(function(){return fh}))}(this,e)}function bd(e,t,n,r){return md(e,[t],n,r)}function kd(e,t,n){return 1===arguments.length?e(this):bd(this,e,t,n)}function wd(e,t,n){return md(this,e,t,n)}function xd(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Sd(this,e)}function _d(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return Sd(this,t,e)}function Sd(e,t,n){for(var r=[],i=0;i<t.length;i++){var o=Bh(t[i]);0!==o.size&&r.push(o)}return 0===r.length?e:0!==e.toSeq().size||e.__ownerID||1!==r.length?e.withMutations((function(e){for(var t=n?function(t,r){bd(e,r,fh,(function(e){return e===fh?t:n(e,t,r)}))}:function(t,n){e.set(n,t)},i=0;i<r.length;i++)r[i].forEach(t)})):e.constructor(r[0])}function Ed(e,t,n){return Ad(e,t,function(e){return function t(n,r,i){return hd(n)&&hd(r)&&(o=r,a=ip(n),s=ip(o),Rh(a)===Rh(s)&&Ch(a)===Ch(s))?Ad(n,[r],t):e?e(n,r,i):r;var o,a,s}}(n))}function Ad(e,t,n){if(!hd(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Lh(e))return"function"==typeof n&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),i=e,o=r?Fh:Bh,a=r?function(t){i===e&&(i=fd(i)),i.push(t)}:function(t,r){var o=np.call(i,r),a=o&&n?n(i[r],t,r):t;o&&a===i[r]||(i===e&&(i=fd(i)),i[r]=a)},s=0;s<t.length;s++)o(t[s]).forEach(a);return i}function Dd(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ed(this,e)}function Cd(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ed(this,t,e)}function Pd(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return md(this,e,$d(),(function(e){return Ad(e,t)}))}function Rd(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return md(this,e,$d(),(function(e){return Ed(e,t)}))}function Od(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Td(){return this.__ownerID?this:this.__ensureOwner(new gh)}function Bd(){return this.__ensureOwner()}function Fd(){return this.__altered}var Md=function(e){function t(t){return null==t?$d():yp(t)&&!zh(t)?t:$d().withMutations((function(n){var r=e(t);ld(r.size),r.forEach((function(e,t){return n.set(t,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return $d().withMutations((function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}}))},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return Wd(this,e,t)},t.prototype.remove=function(e){return Wd(this,e,fh)},t.prototype.deleteAll=function(e){var t=Th(e);return 0===t.size?this:this.withMutations((function(e){t.forEach((function(t){return e.remove(t)}))}))},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):$d()},t.prototype.sort=function(e){return kf(Jp(this,e))},t.prototype.sortBy=function(e,t){return kf(Jp(this,t,e))},t.prototype.map=function(e,t){var n=this;return this.withMutations((function(r){r.forEach((function(i,o){r.set(o,e.call(t,i,o,n))}))}))},t.prototype.__iterator=function(e,t){return new Ud(this,e,t)},t.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Yd(this.size,this._root,e,this.__hash):0===this.size?$d():(this.__ownerID=e,this.__altered=!1,this)},t}(Bh);Md.isMap=yp;var Nd=Md.prototype;Nd[gp]=!0,Nd[uh]=Nd.remove,Nd.removeAll=Nd.deleteAll,Nd.setIn=yd,Nd.removeIn=Nd.deleteIn=vd,Nd.update=kd,Nd.updateIn=wd,Nd.merge=Nd.concat=xd,Nd.mergeWith=_d,Nd.mergeDeep=Dd,Nd.mergeDeepWith=Cd,Nd.mergeIn=Pd,Nd.mergeDeepIn=Rd,Nd.withMutations=Od,Nd.wasAltered=Fd,Nd.asImmutable=Bd,Nd["@@transducer/init"]=Nd.asMutable=Td,Nd["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},Nd["@@transducer/result"]=function(e){return e.asImmutable()};var Id=function(e,t){this.ownerID=e,this.entries=t};Id.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(kp(n,i[o][0]))return i[o][1];return r},Id.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===fh,l=this.entries,c=0,u=l.length;c<u&&!kp(r,l[c][0]);c++);var h=c<u;if(h?l[c][1]===i:s)return this;if(mh(a),(s||!h)&&mh(o),!s||1!==l.length){if(!h&&!s&&l.length>=ef)return function(e,t,n,r){e||(e=new gh);for(var i=new qd(e,Sp(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,l,r,i);var p=e&&e===this.ownerID,d=p?l:ad(l);return h?s?c===u-1?d.pop():d[c]=d.pop():d[c]=[r,i]:d.push([r,i]),p?(this.entries=d,this):new Id(e,d)}};var jd=function(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n};jd.prototype.get=function(e,t,n,r){void 0===t&&(t=Sp(n));var i=1<<((0===e?t:t>>>e)&dh),o=this.bitmap;return o&i?this.nodes[Qd(o&i-1)].get(e+hh,t,n,r):r},jd.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Sp(r));var s=(0===t?n:n>>>t)&dh,l=1<<s,c=this.bitmap,u=!!(c&l);if(!u&&i===fh)return this;var h=Qd(c&l-1),p=this.nodes,d=u?p[h]:void 0,f=Gd(d,e,t+hh,n,r,i,o,a);if(f===d)return this;if(!u&&f&&p.length>=tf)return function(e,t,n,r,i){for(var o=0,a=new Array(ph),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new Hd(e,o+1,a)}(e,p,c,s,f);if(u&&!f&&2===p.length&&Jd(p[1^h]))return p[1^h];if(u&&f&&1===p.length&&Jd(f))return f;var m=e&&e===this.ownerID,g=u?f?c:c^l:c|l,y=u?f?Zd(p,h,f,m):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}(p,h,m):function(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}(p,h,f,m);return m?(this.bitmap=g,this.nodes=y,this):new jd(e,g,y)};var Hd=function(e,t,n){this.ownerID=e,this.count=t,this.nodes=n};Hd.prototype.get=function(e,t,n,r){void 0===t&&(t=Sp(n));var i=(0===e?t:t>>>e)&dh,o=this.nodes[i];return o?o.get(e+hh,t,n,r):r},Hd.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Sp(r));var s=(0===t?n:n>>>t)&dh,l=i===fh,c=this.nodes,u=c[s];if(l&&!u)return this;var h=Gd(u,e,t+hh,n,r,i,o,a);if(h===u)return this;var p=this.count;if(u){if(!h&&--p<nf)return function(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,l=1,c=t.length;s<c;s++,l<<=1){var u=t[s];void 0!==u&&s!==r&&(i|=l,a[o++]=u)}return new jd(e,i,a)}(e,c,p,s)}else p++;var d=e&&e===this.ownerID,f=Zd(c,s,h,d);return d?(this.count=p,this.nodes=f,this):new Hd(e,p,f)};var Ld=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n};Ld.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(kp(n,i[o][0]))return i[o][1];return r},Ld.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Sp(r));var s=i===fh;if(n!==this.keyHash)return s?this:(mh(a),mh(o),Xd(this,e,t,n,[r,i]));for(var l=this.entries,c=0,u=l.length;c<u&&!kp(r,l[c][0]);c++);var h=c<u;if(h?l[c][1]===i:s)return this;if(mh(a),(s||!h)&&mh(o),s&&2===u)return new qd(e,this.keyHash,l[1^c]);var p=e&&e===this.ownerID,d=p?l:ad(l);return h?s?c===u-1?d.pop():d[c]=d.pop():d[c]=[r,i]:d.push([r,i]),p?(this.entries=d,this):new Ld(e,this.keyHash,d)};var qd=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n};qd.prototype.get=function(e,t,n,r){return kp(n,this.entry[0])?this.entry[1]:r},qd.prototype.update=function(e,t,n,r,i,o,a){var s=i===fh,l=kp(r,this.entry[0]);return(l?i===this.entry[1]:s)?this:(mh(a),s?void mh(o):l?e&&e===this.ownerID?(this.entry[1]=i,this):new qd(e,this.keyHash,[r,i]):(mh(o),Xd(this,e,t,Sp(r),[r,i])))},Id.prototype.iterate=Ld.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},jd.prototype.iterate=Hd.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},qd.prototype.iterate=function(e,t){return e(this.entry)};var zd,Ud=function(e){function t(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Kd(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,i=void 0;if(n.entry){if(0===r)return Vd(e,n.entry)}else if(n.entries){if(r<=(i=n.entries.length-1))return Vd(e,n.entries[this._reverse?i-r:r])}else if(r<=(i=n.nodes.length-1)){var o=n.nodes[this._reverse?i-r:r];if(o){if(o.entry)return Vd(e,o.entry);t=this._stack=Kd(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(Gh);function Vd(e,t){return Jh(e,t[0],t[1])}function Kd(e,t){return{node:e,index:0,__prev:t}}function Yd(e,t,n,r){var i=Object.create(Nd);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function $d(){return zd||(zd=Yd(0))}function Wd(e,t,n){var r,i;if(e._root){var o={value:!1},a={value:!1};if(r=Gd(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===fh?-1:1:0)}else{if(n===fh)return e;i=1,r=new Id(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Yd(i,r):$d()}function Gd(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===fh?e:(mh(s),mh(a),new qd(t,r,[i,o]))}function Jd(e){return e.constructor===qd||e.constructor===Ld}function Xd(e,t,n,r,i){if(e.keyHash===r)return new Ld(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&dh,s=(0===n?r:r>>>n)&dh,l=a===s?[Xd(e,t,n+hh,r,i)]:(o=new qd(t,r,i),a<s?[e,o]:[o,e]);return new jd(t,1<<a|1<<s,l)}function Qd(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}function Zd(e,t,n,r){var i=r?e:ad(e);return i[t]=n,i}var ef=ph/4,tf=ph/2,nf=ph/4,rf="@@__IMMUTABLE_LIST__@@";function of(e){return Boolean(e&&e[rf])}var af=function(e){function t(t){var n=df();if(null==t)return n;if(of(t))return t;var r=e(t),i=r.size;return 0===i?n:(ld(i),i>0&&i<ph?pf(0,i,hh,null,new lf(r.toArray())):n.withMutations((function(e){e.setSize(i),r.forEach((function(t,n){return e.set(n,t)}))})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=vh(this,e))>=0&&e<this.size){var n=gf(this,e+=this._origin);return n&&n.array[e&dh]}return t},t.prototype.set=function(e,t){return function(e,t,n){if((t=vh(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?yf(e,t).set(0,n):yf(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o={value:!1};return t>=vf(e._capacity)?r=ff(r,e.__ownerID,0,t,n,o):i=ff(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):pf(e._origin,e._capacity,e._level,i,r):e}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=hh,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):df()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){yf(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},t.prototype.pop=function(){return yf(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){yf(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},t.prototype.shift=function(){return yf(this,1)},t.prototype.concat=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++){var i=t[r],o=e("string"!=typeof i&&Qh(i)?i:[i]);0!==o.size&&n.push(o)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations((function(e){n.forEach((function(t){return t.forEach((function(t){return e.push(t)}))}))})):this.constructor(n[0])},t.prototype.setSize=function(e){return yf(this,0,e)},t.prototype.map=function(e,t){var n=this;return this.withMutations((function(r){for(var i=0;i<n.size;i++)r.set(i,e.call(t,r.get(i),i,n))}))},t.prototype.slice=function(e,t){var n=this.size;return kh(e,t,n)?this:yf(this,wh(e,n),xh(t,n))},t.prototype.__iterator=function(e,t){var n=t?this.size:0,r=hf(this,t);return new Gh((function(){var i=r();return i===uf?{value:void 0,done:!0}:Jh(e,t?--n:n++,i)}))},t.prototype.__iterate=function(e,t){for(var n,r=t?this.size:0,i=hf(this,t);(n=i())!==uf&&!1!==e(n,t?--r:r++,this););return r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?pf(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?df():(this.__ownerID=e,this.__altered=!1,this)},t}(Fh);af.isList=of;var sf=af.prototype;sf[rf]=!0,sf[uh]=sf.remove,sf.merge=sf.concat,sf.setIn=yd,sf.deleteIn=sf.removeIn=vd,sf.update=kd,sf.updateIn=wd,sf.mergeIn=Pd,sf.mergeDeepIn=Rd,sf.withMutations=Od,sf.wasAltered=Fd,sf.asImmutable=Bd,sf["@@transducer/init"]=sf.asMutable=Td,sf["@@transducer/step"]=function(e,t){return e.push(t)},sf["@@transducer/result"]=function(e){return e.asImmutable()};var lf=function(e,t){this.array=e,this.ownerID=t};lf.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&dh;if(r>=this.array.length)return new lf([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-hh,n))===a&&o)return this}if(o&&!i)return this;var s=mf(this,e);if(!o)for(var l=0;l<r;l++)s.array[l]=void 0;return i&&(s.array[r]=i),s},lf.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&dh;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-hh,n))===o&&i===this.array.length-1)return this}var a=mf(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var cf,uf={};function hf(e,t){var n=e._origin,r=e._capacity,i=vf(r),o=e._tail;return function e(a,s,l){return 0===s?function(e,a){var s=a===i?o&&o.array:e&&e.array,l=a>n?0:n-a,c=r-a;return c>ph&&(c=ph),function(){if(l===c)return uf;var e=t?--c:l++;return s&&s[e]}}(a,l):function(i,o,a){var s,l=i&&i.array,c=a>n?0:n-a>>o,u=1+(r-a>>o);return u>ph&&(u=ph),function(){for(;;){if(s){var n=s();if(n!==uf)return n;s=null}if(c===u)return uf;var r=t?--u:c++;s=e(l&&l[r],o-hh,a+(r<<o))}}}(a,s,l)}(e._root,e._level,0)}function pf(e,t,n,r,i,o,a){var s=Object.create(sf);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function df(){return cf||(cf=pf(0,0,hh))}function ff(e,t,n,r,i,o){var a,s=r>>>n&dh,l=e&&s<e.array.length;if(!l&&void 0===i)return e;if(n>0){var c=e&&e.array[s],u=ff(c,t,n-hh,r,i,o);return u===c?e:((a=mf(e,t)).array[s]=u,a)}return l&&e.array[s]===i?e:(o&&mh(o),a=mf(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function mf(e,t){return t&&e&&t===e.ownerID?e:new lf(e?e.array.slice():[],t)}function gf(e,t){if(t>=vf(e._capacity))return e._tail;if(t<1<<e._level+hh){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&dh],r-=hh;return n}}function yf(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new gh,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var l=e._level,c=e._root,u=0;a+u<0;)c=new lf(c&&c.array.length?[void 0,c]:[],r),u+=1<<(l+=hh);u&&(a+=u,i+=u,s+=u,o+=u);for(var h=vf(o),p=vf(s);p>=1<<l+hh;)c=new lf(c&&c.array.length?[c]:[],r),l+=hh;var d=e._tail,f=p<h?gf(e,s-1):p>h?new lf([],r):d;if(d&&p>h&&a<o&&d.array.length){for(var m=c=mf(c,r),g=l;g>hh;g-=hh){var y=h>>>g&dh;m=m.array[y]=mf(m.array[y],r)}m.array[h>>>hh&dh]=d}if(s<o&&(f=f&&f.removeAfter(r,0,s)),a>=p)a-=p,s-=p,l=hh,c=null,f=f&&f.removeBefore(r,0,a);else if(a>i||p<h){for(u=0;c;){var v=a>>>l&dh;if(v!==p>>>l&dh)break;v&&(u+=(1<<l)*v),l-=hh,c=c.array[v]}c&&a>i&&(c=c.removeBefore(r,l,a-u)),c&&p<h&&(c=c.removeAfter(r,l,p-u)),u&&(a-=u,s-=u)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=l,e._root=c,e._tail=f,e.__hash=void 0,e.__altered=!0,e):pf(a,s,l,c,f)}function vf(e){return e<ph?0:e-1>>>hh<<hh}var bf,kf=function(e){function t(e){return null==e?xf():vp(e)?e:xf().withMutations((function(t){var n=Bh(e);ld(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):xf()},t.prototype.set=function(e,t){return _f(this,e,t)},t.prototype.remove=function(e){return _f(this,e,fh)},t.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?wf(t,n,e,this.__hash):0===this.size?xf():(this.__ownerID=e,this.__altered=!1,this._map=t,this._list=n,this)},t}(Md);function wf(e,t,n,r){var i=Object.create(kf.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function xf(){return bf||(bf=wf($d(),df()))}function _f(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),l=void 0!==s;if(n===fh){if(!l)return e;a.size>=ph&&a.size>=2*o.size?(r=(i=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e.__altered=!0,e):wf(r,i)}kf.isOrderedMap=vp,kf.prototype[qh]=!0,kf.prototype[uh]=kf.prototype.remove;var Sf="@@__IMMUTABLE_STACK__@@";function Ef(e){return Boolean(e&&e[Sf])}var Af=function(e){function t(e){return null==e?Rf():Ef(e)?e:Rf().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var n=this._head;for(e=vh(this,e);n&&e--;)n=n.next;return n?n.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:e[r],next:n};return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Pf(t,n)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&Ef(t))return t;ld(t.size);var n=this.size,r=this._head;return t.__iterate((function(e){n++,r={value:e,next:r}}),!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):Pf(n,r)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Rf()},t.prototype.slice=function(t,n){if(kh(t,n,this.size))return this;var r=wh(t,this.size);if(xh(n,this.size)!==this.size)return e.prototype.slice.call(this,t,n);for(var i=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Pf(i,o)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Pf(this.size,this._head,e,this.__hash):0===this.size?Rf():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var n=this;if(t)return new lp(this.toArray()).__iterate((function(t,r){return e(t,r,n)}),t);for(var r=0,i=this._head;i&&!1!==e(i.value,r++,this);)i=i.next;return r},t.prototype.__iterator=function(e,t){if(t)return new lp(this.toArray()).__iterator(e,t);var n=0,r=this._head;return new Gh((function(){if(r){var t=r.value;return r=r.next,Jh(e,n++,t)}return{value:void 0,done:!0}}))},t}(Fh);Af.isStack=Ef;var Df,Cf=Af.prototype;function Pf(e,t,n,r){var i=Object.create(Cf);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Rf(){return Df||(Df=Pf(0))}Cf[Sf]=!0,Cf.shift=Cf.pop,Cf.unshift=Cf.push,Cf.unshiftAll=Cf.pushAll,Cf.withMutations=Od,Cf.wasAltered=Fd,Cf.asImmutable=Bd,Cf["@@transducer/init"]=Cf.asMutable=Td,Cf["@@transducer/step"]=function(e,t){return e.unshift(t)},Cf["@@transducer/result"]=function(e){return e.asImmutable()};var Of="@@__IMMUTABLE_SET__@@";function Tf(e){return Boolean(e&&e[Of])}function Bf(e){return Tf(e)&&zh(e)}function Ff(e,t){if(e===t)return!0;if(!Ah(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||Ch(e)!==Ch(t)||Rh(e)!==Rh(t)||zh(e)!==zh(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!Oh(e);if(zh(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&kp(i[1],e)&&(n||kp(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var a=!0,s=t.__iterate((function(t,r){if(n?!e.has(t):i?!kp(t,e.get(r,fh)):!kp(e.get(r,fh),t))return a=!1,!1}));return a&&e.size===s}function Mf(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Nf(e){if(!e||"object"!=typeof e)return e;if(!Ah(e)){if(!hd(e))return e;e=ip(e)}if(Ch(e)){var t={};return e.__iterate((function(e,n){t[n]=Nf(e)})),t}var n=[];return e.__iterate((function(e){n.push(Nf(e))})),n}var If=function(e){function t(t){return null==t?zf():Tf(t)&&!zh(t)?t:zf().withMutations((function(n){var r=e(t);ld(r.size),r.forEach((function(e){return n.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(Bh(e).keySeq())},t.intersect=function(e){return(e=Th(e).toArray()).length?Hf.intersect.apply(t(e.pop()),e):zf()},t.union=function(e){return(e=Th(e).toArray()).length?Hf.union.apply(t(e.pop()),e):zf()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return Lf(this,this._map.set(e,e))},t.prototype.remove=function(e){return Lf(this,this._map.remove(e))},t.prototype.clear=function(){return Lf(this,this._map.clear())},t.prototype.map=function(e,t){var n=this,r=!1,i=Lf(this,this._map.mapEntries((function(i){var o=i[1],a=e.call(t,o,o,n);return a!==o&&(r=!0),[a,a]}),t));return r?i:this},t.prototype.union=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(n){for(var r=0;r<t.length;r++)"string"==typeof t[r]?n.add(t[r]):e(t[r]).forEach((function(e){return n.add(e)}))})):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var r=[];return this.forEach((function(e){t.every((function(t){return t.includes(e)}))||r.push(e)})),this.withMutations((function(e){r.forEach((function(t){e.remove(t)}))}))},t.prototype.subtract=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var r=[];return this.forEach((function(e){t.some((function(t){return t.includes(e)}))&&r.push(e)})),this.withMutations((function(e){r.forEach((function(t){e.remove(t)}))}))},t.prototype.sort=function(e){return am(Jp(this,e))},t.prototype.sortBy=function(e,t){return am(Jp(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t){return e(t,t,n)}),t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(Mh);If.isSet=Tf;var jf,Hf=If.prototype;function Lf(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function qf(e,t){var n=Object.create(Hf);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function zf(){return jf||(jf=qf($d()))}Hf[Of]=!0,Hf[uh]=Hf.remove,Hf.merge=Hf.concat=Hf.union,Hf.withMutations=Od,Hf.asImmutable=Bd,Hf["@@transducer/init"]=Hf.asMutable=Td,Hf["@@transducer/step"]=function(e,t){return e.add(t)},Hf["@@transducer/result"]=function(e){return e.asImmutable()},Hf.__empty=zf,Hf.__make=qf;var Uf,Vf=function(e){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);if(sd(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<e&&(r=-r),this._start=e,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-e)/r-1)+1),0===this.size){if(Uf)return Uf;Uf=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+vh(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,n){return kh(e,n,this.size)?this:(e=wh(e,this.size),(n=xh(n,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var n=this.size,r=this._step,i=t?this._start+(n-1)*r:this._start,o=0;o!==n&&!1!==e(i,t?n-++o:o++,this);)i+=t?-r:r;return o},t.prototype.__iterator=function(e,t){var n=this.size,r=this._step,i=t?this._start+(n-1)*r:this._start,o=0;return new Gh((function(){if(o===n)return{value:void 0,done:!0};var a=i;return i+=t?-r:r,Jh(e,t?n-++o:o++,a)}))},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:Ff(this,e)},t}(ap);function Kf(e,t,n){for(var r=cd(t),i=0;i!==r.length;)if((e=dd(e,r[i++],fh))===fh)return n;return e}function Yf(e,t){return Kf(this,e,t)}function $f(){ld(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e}Th.isIterable=Ah,Th.isKeyed=Ch,Th.isIndexed=Rh,Th.isAssociative=Oh,Th.isOrdered=zh,Th.Iterator=Gh,Mf(Th,{toArray:function(){ld(this.size);var e=new Array(this.size||0),t=Ch(this),n=0;return this.__iterate((function(r,i){e[n++]=t?[i,r]:r})),e},toIndexedSeq:function(){return new Lp(this)},toJS:function(){return Nf(this)},toKeyedSeq:function(){return new Hp(this,!0)},toMap:function(){return Md(this.toKeyedSeq())},toObject:$f,toOrderedMap:function(){return kf(this.toKeyedSeq())},toOrderedSet:function(){return am(Ch(this)?this.valueSeq():this)},toSet:function(){return If(Ch(this)?this.valueSeq():this)},toSetSeq:function(){return new qp(this)},toSeq:function(){return Rh(this)?this.toIndexedSeq():Ch(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Af(Ch(this)?this.valueSeq():this)},toList:function(){return af(Ch(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return ed(this,function(e,t){var n=Ch(e),r=[e].concat(t).map((function(e){return Ah(e)?n&&(e=Bh(e)):e=n?dp(e):fp(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===r.length)return e;if(1===r.length){var i=r[0];if(i===e||n&&Ch(i)||Rh(e)&&Rh(i))return i}var o=new lp(r);return n?o=o.toKeyedSeq():Rh(e)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=r.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),o}(this,e))},includes:function(e){return this.some((function(t){return kp(t,e)}))},entries:function(){return this.__iterator(Kh)},every:function(e,t){ld(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return ed(this,Yp(this,e,t,!0))},partition:function(e,t){return function(e,t,n){var r=Ch(e),i=[[],[]];e.__iterate((function(o,a){i[t.call(n,o,a,e)?1:0].push(r?[a,o]:o)}));var o=nd(e);return i.map((function(t){return ed(e,o(t))}))}(this,e,t)},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return ld(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){ld(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(Uh)},map:function(e,t){return ed(this,Vp(this,e,t))},reduce:function(e,t,n){return Qf(this,e,t,n,arguments.length<2,!1)},reduceRight:function(e,t,n){return Qf(this,e,t,n,arguments.length<2,!0)},reverse:function(){return ed(this,Kp(this,!0))},slice:function(e,t){return ed(this,$p(this,e,t,!0))},some:function(e,t){return!this.every(tm(e),t)},sort:function(e){return ed(this,Jp(this,e))},values:function(){return this.__iterator(Vh)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return yh(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Md().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}(this,e,t)},equals:function(e){return Ff(this,e)},entrySeq:function(){var e=this;if(e._cache)return new lp(e._cache);var t=e.toSeq().map(em).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tm(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,i,o){if(e.call(t,n,i,o))return r=[i,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(bh,null,e)},flatMap:function(e,t){return ed(this,function(e,t,n){var r=nd(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return ed(this,Gp(this,e,!0))},fromEntrySeq:function(){return new zp(this)},get:function(e,t){return this.find((function(t,n){return kp(n,e)}),void 0,t)},getIn:Yf,groupBy:function(e,t){return function(e,t,n){var r=Ch(e),i=(zh(e)?kf():Md()).asMutable();e.__iterate((function(o,a){i.update(t.call(n,o,a,e),(function(e){return(e=e||[]).push(r?[a,o]:o),e}))}));var o=nd(e);return i.map((function(t){return ed(e,o(t))})).asImmutable()}(this,e,t)},has:function(e){return this.get(e,fh)!==fh},hasIn:function(e){return Kf(this,e,fh)!==fh},isSubset:function(e){return e="function"==typeof e.includes?e:Th(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:Th(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return kp(t,e)}))},keySeq:function(){return this.toSeq().map(Zf).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Xp(this,e)},maxBy:function(e,t){return Xp(this,t,e)},min:function(e){return Xp(this,e?nm(e):im)},minBy:function(e,t){return Xp(this,t?nm(t):im,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return ed(this,Wp(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tm(e),t)},sortBy:function(e,t){return ed(this,Jp(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return ed(this,function(e,t,n){var r=rd(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,s){return t.call(n,e,i,s)&&++a&&r(e,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(Kh,i),s=!0;return new Gh((function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,l=i[0],c=i[1];return t.call(n,c,l,o)?r===Kh?e:Jh(r,l,c,e):(s=!1,{value:void 0,done:!0})}))},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tm(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=zh(e),n=Ch(e),r=t?1:0;return function(e,t){return t=wp(t,3432918353),t=wp(t<<15|t>>>-15,461845907),t=wp(t<<13|t>>>-13,5),t=wp((t=t+3864292196^e)^t>>>16,2246822507),t=xp((t=wp(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+om(Sp(e),Sp(t))|0}:function(e,t){r=r+om(Sp(e),Sp(t))|0}:t?function(e){r=31*r+Sp(e)|0}:function(e){r=r+Sp(e)|0}),r)}(this))}});var Wf=Th.prototype;Wf[Eh]=!0,Wf[Wh]=Wf.values,Wf.toJSON=Wf.toArray,Wf.__toStringMapper=pd,Wf.inspect=Wf.toSource=function(){return this.toString()},Wf.chain=Wf.flatMap,Wf.contains=Wf.includes,Mf(Bh,{flip:function(){return ed(this,Up(this))},mapEntries:function(e,t){var n=this,r=0;return ed(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return ed(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Gf=Bh.prototype;Gf[Dh]=!0,Gf[Wh]=Wf.entries,Gf.toJSON=$f,Gf.__toStringMapper=function(e,t){return pd(t)+": "+pd(e)},Mf(Fh,{toKeyedSeq:function(){return new Hp(this,!1)},filter:function(e,t){return ed(this,Yp(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return ed(this,Kp(this,!1))},slice:function(e,t){return ed(this,$p(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t||0,0),0===n||2===n&&!t)return this;e=wh(e,e<0?this.count():this.size);var r=this.slice(0,e);return ed(this,1===n?r:r.concat(ad(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return ed(this,Gp(this,e,!1))},get:function(e,t){return(e=vh(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=vh(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return ed(this,function(e,t){var n=rd(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(Vh,r),a=0;return new Gh((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?Jh(n,a++,t):Jh(n,a++,i.value,i)}))},n}(this,e))},interleave:function(){var e=[this].concat(ad(arguments)),t=Zp(this.toSeq(),ap.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),ed(this,n)},keySeq:function(){return Vf(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return ed(this,Wp(this,e,t,!1))},zip:function(){return ed(this,Zp(this,rm,[this].concat(ad(arguments))))},zipAll:function(){return ed(this,Zp(this,rm,[this].concat(ad(arguments)),!0))},zipWith:function(e){var t=ad(arguments);return t[0]=this,ed(this,Zp(this,e,t))}});var Jf=Fh.prototype;Jf[Ph]=!0,Jf[qh]=!0,Mf(Mh,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Xf=Mh.prototype;function Qf(e,t,n,r,i,o){return ld(e.size),e.__iterate((function(e,o,a){i?(i=!1,n=e):n=t.call(r,n,e,o,a)}),o),n}function Zf(e,t){return t}function em(e,t){return[t,e]}function tm(e){return function(){return!e.apply(this,arguments)}}function nm(e){return function(){return-e.apply(this,arguments)}}function rm(){return ad(arguments)}function im(e,t){return e<t?1:e>t?-1:0}function om(e,t){return e^t+2654435769+(e<<6)+(e>>2)}Xf.has=Wf.includes,Xf.contains=Xf.includes,Xf.keys=Xf.values,Mf(op,Gf),Mf(ap,Jf),Mf(sp,Xf);var am=function(e){function t(e){return null==e?um():Bf(e)?e:um().withMutations((function(t){var n=Mh(e);ld(n.size),n.forEach((function(e){return t.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(Bh(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(If);am.isOrderedSet=Bf;var sm,lm=am.prototype;function cm(e,t){var n=Object.create(lm);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function um(){return sm||(sm=cm(xf()))}lm[qh]=!0,lm.zip=Jf.zip,lm.zipWith=Jf.zipWith,lm.zipAll=Jf.zipAll,lm.__empty=um,lm.__make=cm;var hm=function(e,t){var n;!function(e){if(Hh(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Lh(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===e||"object"!=typeof e)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(e);var r=function(o){var a=this;if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var s=Object.keys(e),l=i._indices={};i._name=t,i._keys=s,i._defaultValues=e;for(var c=0;c<s.length;c++){var u=s[c];l[u]=c,i[u]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+fm(this)+' with property "'+u+'" since that property name is part of the Record API.'):gm(i,u)}}return this.__ownerID=void 0,this._values=af().withMutations((function(e){e.setSize(a._keys.length),Bh(o).forEach((function(t,n){e.set(a._indices[n],t===a._defaultValues[n]?void 0:t)}))})),this},i=r.prototype=Object.create(pm);return i.constructor=r,t&&(r.displayName=t),r};hm.prototype.toString=function(){for(var e,t=fm(this)+" { ",n=this._keys,r=0,i=n.length;r!==i;r++)t+=(r?", ":"")+(e=n[r])+": "+pd(this.get(e));return t+" }"},hm.prototype.equals=function(e){return this===e||Hh(e)&&mm(this).equals(mm(e))},hm.prototype.hashCode=function(){return mm(this).hashCode()},hm.prototype.has=function(e){return this._indices.hasOwnProperty(e)},hm.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._indices[e],r=this._values.get(n);return void 0===r?this._defaultValues[e]:r},hm.prototype.set=function(e,t){if(this.has(e)){var n=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(n!==this._values&&!this.__ownerID)return dm(this,n)}return this},hm.prototype.remove=function(e){return this.set(e)},hm.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:dm(this,e)},hm.prototype.wasAltered=function(){return this._values.wasAltered()},hm.prototype.toSeq=function(){return mm(this)},hm.prototype.toJS=function(){return Nf(this)},hm.prototype.entries=function(){return this.__iterator(Kh)},hm.prototype.__iterator=function(e,t){return mm(this).__iterator(e,t)},hm.prototype.__iterate=function(e,t){return mm(this).__iterate(e,t)},hm.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?dm(this,t,e):(this.__ownerID=e,this._values=t,this)},hm.isRecord=Hh,hm.getDescriptiveName=fm;var pm=hm.prototype;function dm(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function fm(e){return e.constructor.displayName||e.constructor.name||"Record"}function mm(e){return dp(e._keys.map((function(t){return[t,e.get(t)]})))}function gm(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){sd(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(e){}}pm[jh]=!0,pm[uh]=pm.remove,pm.deleteIn=pm.removeIn=vd,pm.getIn=Yf,pm.hasIn=Wf.hasIn,pm.merge=xd,pm.mergeWith=_d,pm.mergeIn=Pd,pm.mergeDeep=Dd,pm.mergeDeepWith=Cd,pm.mergeDeepIn=Rd,pm.setIn=yd,pm.update=kd,pm.updateIn=wd,pm.withMutations=Od,pm.asMutable=Td,pm.asImmutable=Bd,pm[Wh]=pm.entries,pm.toJSON=pm.toObject=Wf.toObject,pm.inspect=pm.toSource=function(){return this.toString()};var ym,vm,bm,km,wm,xm,_m,Sm,Em,Am,Dm,Cm,Pm,Rm,Om,Tm=i(2782);function Bm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mm(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Nm="chapter5.woodElf",Im={diamonds(e){this.diamonds+=+e*this.purchaseRate},diamondsConst(e){this.diamonds+=+e},direct(e){kc.player.level=Math.max(kc.player.level,+e)},gold(e){kc.player.gold+=+e},medicine(e){for(;this.totalMedicineLevel<+e;)this.gotMedicineExp(this.maxMedicineExp)},cooking(e){for(;this.totalCookingLevel<+e;)this.gotCookingExp(this.maxCookingExp)},redbag(e){if(kc.player.inventory.filter((e=>e.empty)).length<1)throw new Error("");kc.loots([{key:"year2018.redbag",count:[e,e],rate:1}],300,0,!1)}},jm={diamonds(e){return this.purchaseRate>1?(e*this.purchaseRate|0)+"神力":`${e}神力`},diamondsConst:e=>`${e}神力`,direct:e=>`直升${+e}级`,gold:e=>`${e}金币`,medicine:e=>`药剂直升${+e}级`,redbag:e=>`红包${+e}个`},Hm=hm({diamonds:2888,playerSlotCount:1,purchaseRate:1,bowelLevel:0});let Lm=(ym=class{constructor(){Fm(this,"loaded",!1),Bm(this,"secretRecord",vm,this),Bm(this,"currentPlayer",bm,this),Bm(this,"playerMetas",km,this),Bm(this,"storiesMap",wm,this),Bm(this,"enemyTaskMap",xm,this),Bm(this,"bank",_m,this),Bm(this,"iapMap",Sm,this),Bm(this,"ticketMap",Em,this),Bm(this,"medicineLevel",Am,this),Bm(this,"cookingLevel",Dm,this),Bm(this,"medicineExp",Cm,this),Bm(this,"cookingExp",Pm,this),Bm(this,"lastVersion",Rm,this),Bm(this,"highestEndlessLevel",Om,this),Fm(this,"banned",!1),bn(this),It((()=>{this.save()}),{delay:1e3})}get diamonds(){return this.secretRecord.diamonds}set diamonds(e){this.secretRecord=this.secretRecord.set("diamonds",e)}get playerSlotCount(){return this.secretRecord.playerSlotCount}set playerSlotCount(e){this.secretRecord=this.secretRecord.set("playerSlotCount",e)}get purchaseRate(){return this.secretRecord.purchaseRate}set purchaseRate(e){this.secretRecord=this.secretRecord.set("purchaseRate",e)}get bowelLevel(){return this.secretRecord.bowelLevel}set bowelLevel(e){this.secretRecord=this.secretRecord.set("bowelLevel",e)}get purchaseSlotPrice(){return 400+500*this.playerSlotCount**2+100*this.playerSlotCount**3}get endlessTicketRate(){const e=this.highestEndlessLevel+1;return Math.pow(.5/e,1/e)}get totalMedicineLevel(){let e=0;for(const t of Object.keys(as.medicines))e+=this.medicineLevel.get(t)||0;return e}get totalCookingLevel(){let e=0;for(const t of Object.keys(as.cookings))e+=this.cookingLevel.get(t)||0;return e}get maxMedicineExp(){const e=this.totalMedicineLevel+1;return e<90?500*e:e>=90?5e4:void 0}get maxCookingExp(){const e=this.totalCookingLevel+1;return e<90?100*e:e>=90?1e4:void 0}get resetMedicineCost(){return this.totalMedicineLevel,1e3}get resetMedicineDiamondsCost(){return this.totalMedicineLevel,20}get resetCookingCost(){return this.totalCookingLevel,1e3}get resetCookingDiamondsCost(){return this.totalCookingLevel,20}get bowelEffect(){return Math.pow(1.5,this.bowelLevel)}get bowelUpgradePrice(){return 1e3*Math.pow(2,this.bowelLevel)}purchaseSlot(){this.diamonds-=this.purchaseSlotPrice,this.playerSlotCount+=1}gotMedicineExp(e){const t=[];for(this.medicineExp+=e;this.medicineExp>=this.maxMedicineExp;){this.medicineExp-=this.maxMedicineExp;let e=Object.keys(as.medicines),n=e[Math.random()*e.length|0]||e[0],r=this.medicineLevel.get(n),i=as.medicines[n],o=i.Max_level||9999;for(;r>=o;)e=e.filter((function(e){return e!==n})),n=e[Math.random()*e.length|0]||e[0],r=this.medicineLevel.get(n),i=as.medicines[n],o=i.Max_level||9999;this.medicineLevel.set(n,(this.medicineLevel.get(n)||0)+1),t.push(n)}return t}gotCookingExp(e){const t=[];for(this.cookingExp+=e;this.cookingExp>=this.maxCookingExp;){this.cookingExp-=this.maxCookingExp;let e=Object.keys(as.cookings),n=e[Math.random()*e.length|0]||e[0],r=this.cookingLevel.get(n),i=as.cookings[n],o=i.Max_level||9999;for(;r>=o;)e=e.filter((function(e){return e!==n})),n=e[Math.random()*e.length|0]||e[0],r=this.cookingLevel.get(n),i=as.cookings[n],o=i.Max_level||9999;this.cookingLevel.set(n,(this.cookingLevel.get(n)||0)+1),t.push(n)}return t}async load(){try{const e=localStorage.getItem("game");e&&("{"===e[0]?this.fromJS(JSON.parse(e)):"e"===e[0]?Tm.hT.JWS.verifyJWT(e,Nm,{alg:["HS256"]})&&this.fromJS(Tm.hT.JWS.readSafeJSONString((0,Tm.kT)(e.split(".")[1]))):"s"===e[0]&&this.fromJS(kc.start(e))),console.log("Game info loaded."),this.loaded=!0}catch(e){}}fromJS(e){e.secretRecord?this.secretRecord=this.secretRecord.merge(e.secretRecord):(this.diamonds=e.diamonds||0,this.playerSlotCount=e.playerSlotCount||1,this.purchaseRate=e.purchaseRate||1),e.bowelLevel&&(this.bowelLevel=e.bowelLevel),e.highestEndlessLevel&&(this.highestEndlessLevel=e.highestEndlessLevel),this.currentPlayer=e.currentPlayer||null,this.playerMetas.clear();for(const t of Object.keys(e.playerMetas||{}))this.playerMetas.set(t,new sh(t).fromJS(e.playerMetas[t]));this.storiesMap.clear();for(const t of Object.keys(e.storiesMap||{}))this.storiesMap.set(t,e.storiesMap[t]);this.enemyTaskMap.clear();for(const t of Object.keys(e.enemyTaskMap||{}))this.enemyTaskMap.set(t,Re.map(e.enemyTaskMap[t]));this.iapMap.clear();for(const t of Object.keys(e.iapMap||{}))this.iapMap.set(t,e.iapMap[t]);this.ticketMap.clear();for(const t of Object.keys(e.ticketMap||{}))this.ticketMap.set(t,e.ticketMap[t]);this.bank.clear();for(let t=0;e.bank&&t<e.bank.length;t++){this.bank.push(new ah("bank").fromJS(e.bank[t]||{}));const{key:n,dungeonKey:r}=this.bank[t];if("ticket"===n&&r){const e=eh(r);e&&e>this.highestEndlessLevel&&(this.highestEndlessLevel=e)}}this.medicineLevel.clear();for(const t of Object.keys(as.medicines))this.medicineLevel.set(t,e.medicineLevel&&e.medicineLevel[t]||0);this.medicineExp=e.medicineExp||0,this.cookingLevel.clear();for(const t of Object.keys(as.cookings))this.cookingLevel.set(t,e.cookingLevel&&e.cookingLevel[t]||0);return this.cookingExp=e.cookingExp||0,this.lastVersion=e.lastVersion||null,this.banned=e.banned,this.playerSlotCount<Object.keys(e.playerMetas).length&&(this.playerSlotCount=Object.keys(e.playerMetas).length),this}save(){this.loaded&&localStorage.setItem("game",Tm.hT.JWS.sign(null,{alg:"HS256",typ:"JWT"},xc(this.toJS()),Nm))}toJS(){const e=cn(this);return e.secretRecord=this.secretRecord.toJS(),e}checkCanCreate(){this.playerSlotCount<=this.playerMetas.size&&ch.forbidden()}removePlayer(e){this.playerMetas.delete(e),this.save(),localStorage.removeItem(`player-${e}`)}addKillTask(e,t,n){let r;this.enemyTaskMap.has(t)?r=this.enemyTaskMap.get(t):(r=Re.map(),this.enemyTaskMap.set(t,r)),r.set(e,n)}onEnemyKilled(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=this.enemyTaskMap.get(e);if(r)for(const e of r.keys()){const i=as.stories[e];if(!i.requirement||!i.requirement.role||i.requirement.role===n){const n=r.get(e);r.set(e,n-t)}}}async refreshIap(){}runProduct(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.split(".");let r=Im;for(;r&&"object"==typeof r;)r=r[n.shift()];if(n.push(t),"function"==typeof r){try{r.apply(this,n)}catch(e){return console.warn(e.stack),!1}return!0}}getProductName(e){const t=e.split(".");let n=jm;for(;n&&"object"==typeof n;)n=n[t.shift()];return"function"==typeof n?n.apply(this,t):"商品"}},vm=Mm(ym.prototype,"secretRecord",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Hm}}),Mm(ym.prototype,"diamonds",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"diamonds"),ym.prototype),Mm(ym.prototype,"playerSlotCount",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"playerSlotCount"),ym.prototype),Mm(ym.prototype,"purchaseRate",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"purchaseRate"),ym.prototype),Mm(ym.prototype,"bowelLevel",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"bowelLevel"),ym.prototype),bm=Mm(ym.prototype,"currentPlayer",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),km=Mm(ym.prototype,"playerMetas",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),wm=Mm(ym.prototype,"storiesMap",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),xm=Mm(ym.prototype,"enemyTaskMap",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),_m=Mm(ym.prototype,"bank",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Sm=Mm(ym.prototype,"iapMap",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),Em=Mm(ym.prototype,"ticketMap",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),Am=Mm(ym.prototype,"medicineLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),Dm=Mm(ym.prototype,"cookingLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),Cm=Mm(ym.prototype,"medicineExp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pm=Mm(ym.prototype,"cookingExp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Rm=Mm(ym.prototype,"lastVersion",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Om=Mm(ym.prototype,"highestEndlessLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Mm(ym.prototype,"purchaseSlotPrice",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"purchaseSlotPrice"),ym.prototype),Mm(ym.prototype,"endlessTicketRate",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"endlessTicketRate"),ym.prototype),Mm(ym.prototype,"totalMedicineLevel",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"totalMedicineLevel"),ym.prototype),Mm(ym.prototype,"totalCookingLevel",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"totalCookingLevel"),ym.prototype),Mm(ym.prototype,"maxMedicineExp",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"maxMedicineExp"),ym.prototype),Mm(ym.prototype,"maxCookingExp",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"maxCookingExp"),ym.prototype),Mm(ym.prototype,"resetMedicineCost",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"resetMedicineCost"),ym.prototype),Mm(ym.prototype,"resetMedicineDiamondsCost",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"resetMedicineDiamondsCost"),ym.prototype),Mm(ym.prototype,"resetCookingCost",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"resetCookingCost"),ym.prototype),Mm(ym.prototype,"resetCookingDiamondsCost",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"resetCookingDiamondsCost"),ym.prototype),Mm(ym.prototype,"bowelEffect",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"bowelEffect"),ym.prototype),Mm(ym.prototype,"bowelUpgradePrice",[Fe],Object.getOwnPropertyDescriptor(ym.prototype,"bowelUpgradePrice"),ym.prototype),Mm(ym.prototype,"purchaseSlot",[Bt],Object.getOwnPropertyDescriptor(ym.prototype,"purchaseSlot"),ym.prototype),Mm(ym.prototype,"gotMedicineExp",[Bt],Object.getOwnPropertyDescriptor(ym.prototype,"gotMedicineExp"),ym.prototype),Mm(ym.prototype,"gotCookingExp",[Bt],Object.getOwnPropertyDescriptor(ym.prototype,"gotCookingExp"),ym.prototype),Mm(ym.prototype,"fromJS",[Bt],Object.getOwnPropertyDescriptor(ym.prototype,"fromJS"),ym.prototype),Mm(ym.prototype,"onEnemyKilled",[Bt],Object.getOwnPropertyDescriptor(ym.prototype,"onEnemyKilled"),ym.prototype),ym);const qm=new Lm;var zm=i(9998),Um={};Um.styleTagTransform=sa(),Um.setAttributes=ra(),Um.insert=ta().bind(null,"head"),Um.domAPI=Zo(),Um.insertStyleElement=oa(),Xo()(zm.A,Um);const Vm=zm.A&&zm.A.locals?zm.A.locals:void 0;class Km extends t.Component{async componentDidMount(){if(await qm.load(),qm.currentPlayer)try{return(await lh.load(qm.currentPlayer)).postLoad(),kc.resumeGame(),void rw.navigate("/home")}catch(e){kc.dispose(),qm.currentPlayer=null,rc("错误","加载游戏失败，请耐心等待更新，或者先选择其它角色进入游戏。"+e.message)}rw.navigate("/player/choose")}render(){return t.createElement(Sa,{className:Vm.container})}}var Ym=i(3107),$m={};$m.styleTagTransform=sa(),$m.setAttributes=ra(),$m.insert=ta().bind(null,"head"),$m.domAPI=Zo(),$m.insertStyleElement=oa(),Xo()(Ym.A,$m);const Wm=Ym.A&&Ym.A.locals?Ym.A.locals:void 0;function Gm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Jm extends t.Component{constructor(){super(...arguments),Gm(this,"getRef",(e=>{this.childrenRef=e})),Gm(this,"onLeftPressed",(()=>{this.props.onLeftPressed?this.props.onLeftPressed():rw.navigate(-1)})),Gm(this,"onRightPressed",(()=>{this.props.onRightPressed&&this.props.onRightPressed()}))}renderBack(){return t.createElement(Ea,{className:Wm.left,onPress:this.onLeftPressed},t.createElement(_a,{className:Wm.button},"返回"))}render(){const{children:e,back:n,leftNavTitle:r,rightNavTitle:i,title:o}=this.props;return t.createElement(Sa,{className:Wm.container},t.createElement(Sa,{className:Wm.navBar},t.createElement(_a,{className:Wm.title},o),!!n&&this.renderBack(),!!r&&t.createElement(Ea,{className:Wm.left,onPress:this.onLeftPressed},t.createElement(_a,{className:Wm.button},r)),!!i&&t.createElement(Ea,{className:Wm.right,onPress:this.onRightPressed},t.createElement(_a,{className:Wm.button},i))),e)}}var Xm=i(2598),Qm={};Qm.styleTagTransform=sa(),Qm.setAttributes=ra(),Qm.insert=ta().bind(null,"head"),Qm.domAPI=Zo(),Qm.insertStyleElement=oa(),Xo()(Xm.A,Qm);const Zm=Xm.A&&Xm.A.locals?Xm.A.locals:void 0;var eg;function tg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ng=ai((function(e,n){let{meta:r,id:i,editing:o,entering:a}=e;const s=async e=>{if(a.get())return;a.set(!0);const{navigator:t}=n;try{(await lh.load(i,e)).postLoad(),kc.resumeGame(),rw.navigate("/home")}catch(e){kc.dispose(),mgn.debug(e.message),mgn.debug(e.stack),rc("错误","加载游戏失败，请耐心等待更新，或者先选择其它角色进入游戏。"+e.message)}};return o.get()?t.createElement(Sa,{className:Zm.row},t.createElement(Sa,{className:[Zm.item,Zm.flex]},t.createElement(_a,null,r.roleData.name," ",r.currentCareerLevel,"级",r.careerName)),t.createElement(Ea,{className:Zm.button,onPress:function(){rc("提示","如果您无法正常进入游戏，可以尝试从错误中恢复，但您可能会失去相应的离线收益，是否继续？",[{text:"确认",onPress:()=>s(!0)},{text:"取消"}])}},t.createElement(_a,{className:Zm.buttonLabel},"修复异常")),t.createElement(Ea,{className:Zm.button,onPress:function(){rc("提示","您确定要删除该角色吗？",[{text:"确认",onPress:()=>qm.removePlayer(r.key)},{text:"取消"}])}},t.createElement(_a,{className:Zm.buttonLabel},"删除"))):t.createElement(Ea,{className:Zm.item,onPress:()=>s(!1)},t.createElement(_a,null,r.roleData.name," ",r.currentCareerLevel,"级",r.careerName))}));function rg(e){let{children:n,onPress:r}=e;return t.createElement(Ea,{className:Zm.footer,onPress:r},t.createElement(_a,{className:Zm.footerLabel},n))}let ig=ai(eg=class extends t.Component{constructor(){super(...arguments),tg(this,"refNavBar",(0,t.createRef)()),tg(this,"editing",Re.box(!1)),tg(this,"entering",Re.box(!1)),tg(this,"onRightPressed",Bt((()=>{this.editing.get()?this.editing.set(!1):this.editing.set(!0)}))),tg(this,"ds",new Ca.DataSource({rowHasChanged:(e,t)=>e[0]!==t[0]})),tg(this,"goCreate",(()=>{rw.navigate("/player/create")})),tg(this,"purchaseSlot",(()=>{qm.diamonds>=qm.purchaseSlotPrice?rc("提示",`您是否确认消耗${qm.purchaseSlotPrice}神力点数，开启一个新的角色栏位？`,[{text:"确认",onPress:()=>qm.purchaseSlot()},{text:"取消"}]):rc("提示",`您需要消耗${qm.purchaseSlotPrice}神力点数才能开启一个新的角色栏位，现有${qm.diamonds}神力，是否召唤创世神的幻影，获得大量神力？`,[{text:"确认",onPress:()=>{rw.navigate("/purchase")}},{text:"取消"}])})),tg(this,"renderRow",((e,n,r)=>{let[i,o]=e;return t.createElement(ng,{entering:this.entering,key:i,id:i,meta:o,editing:this.editing,rowId:r})})),tg(this,"renderFooter",(()=>t.createElement(rg,{onPress:this.goCreate},"新游戏"))),tg(this,"renderPurchase",(()=>t.createElement(rg,{onPress:this.purchaseSlot},"购买新的角色栏位(消耗",qm.purchaseSlotPrice,"神力，现有",qm.diamonds,"神力)")))}render(){return t.createElement(Jm,{title:"选择存档",rightNavTitle:this.editing.get()?"完成":"编辑",ref:this.refNavBar,onRightPressed:this.onRightPressed},t.createElement(Ca,{enableEmptySections:!0,className:Zm.container,dataSource:this.ds.cloneWithRows(qm.playerMetas.entries()),renderRow:this.renderRow,renderFooter:qm.playerMetas.size<qm.playerSlotCount?this.renderFooter:this.renderPurchase}))}})||eg;var og=i(6155),ag={};ag.styleTagTransform=sa(),ag.setAttributes=ra(),ag.insert=ta().bind(null,"head"),ag.domAPI=Zo(),ag.insertStyleElement=oa(),Xo()(og.A,ag);const sg=og.A&&og.A.locals?og.A.locals:void 0;function lg(){let{debug:e,map:t,role:n,career:r,level:i,atMostMaxLevel:o,atLeastMaxLevel:a,stories:s,beforeStories:l,$or:c,$and:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{player:h}=kc,{storiesMap:p}=qm;if(n&&(!h||h.role!==n))return!1;if(r&&(!h||h.currentCareer!==r))return!1;if(i&&(!h||h.level<i))return!1;if(o&&(!h||h.maxLevel>o))return!1;if(a&&(!h||h.maxLevel<a))return!1;if(t&&kc.map!==t)return!1;if(s)for(const e of s)if("done"!==p.get(e))return!1;if(l)for(const e of l)if("done"===p.get(e))return!1;return!(c&&!c.some(lg)||u&&!u.every(lg))}var cg,ug=i(1484),hg=i.n(ug);function pg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dg(e){let{title:n,children:r}=e;return t.createElement(Sa,{className:sg.group},t.createElement(_a,{className:sg.title},n),r)}function fg(e){let{title:n,children:r,target:i}=e;return t.createElement(dg,{title:n},t.createElement(Sa,{className:sg.options},t.Children.map(r,(e=>t.cloneElement(e,{target:i})))))}const mg=ai((function(e){let{children:n,value:r,target:i}=e;const o=$a((()=>i&&i.get()===r));return t.createElement(Ea,{activeOpacity:.8,className:[sg.option,o&&sg.optionActive],onPress:()=>i.set(r)},t.createElement(_a,{className:[sg.label,o&&sg.labelActive]},n))}));let gg=ai(cg=class extends t.PureComponent{constructor(){var e,t;super(...arguments),pg(this,"form",new sh),pg(this,"roleField",(e=this.form,t="role",Fe((()=>e[t]),{set(n){e[t]=n}}))),pg(this,"onRightPressed",(async()=>{try{Mt((()=>{const e=lh.create(this.form);kc.resetTimeline(),kc.addPlayer(e),kc.map="home",kc.resumeGame()})),rw.navigate("/home")}catch(e){403===e.code?rc("提示","您已无法创建更多角色，请回到首页查看"):rc("错误","创建失败")}}))}render(){return t.createElement(Jm,{key:"/player/create",title:"新游戏",onRightPressed:this.onRightPressed,rightNavTitle:"开始游戏",back:"/player/choose"},t.createElement(Sa,{className:sg.container},t.createElement(fg,{title:"角色",target:this.roleField,field:"role"},Object.keys(as.roles).filter((e=>!as.roles[e].requirement||lg(as.roles[e].requirement))).map((e=>t.createElement(mg,{key:e,value:e},as.roles[e].name)))),t.createElement(dg,{title:"角色介绍"},t.createElement(Aa,{className:sg.container2},t.createElement(_a,{className:sg.body},this.form.roleData.description)))))}})||cg;var yg=i(6181),vg={};vg.styleTagTransform=sa(),vg.setAttributes=ra(),vg.insert=ta().bind(null,"head"),vg.domAPI=Zo(),vg.insertStyleElement=oa(),Xo()(yg.A,vg);const bg=yg.A&&yg.A.locals?yg.A.locals:void 0;class kg extends t.Component{constructor(){super(...arguments),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"getRef",(e=>{this.childrenRef=e}))}goto(e){const{onChange:t}=this.props;t(e)}renderItem(e,n){const{active:r}=this.props,i=r==e;return t.createElement(Ea,{className:bg.button,onPress:()=>this.goto(e)},t.createElement(_a,{className:i&&bg.active},n))}onAppStateChange(e){}render(){const{children:e}=this.props;return t.createElement(Sa,{className:bg.container},t.createElement(Sa,{className:bg.content},e),t.createElement(Sa,{className:bg.tabBar},this.renderItem("battle","战斗"),this.renderItem("inventory","背包"),this.renderItem("skills","技能"),this.renderItem("produce","生产"),this.renderItem("stories","故事")))}}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wg.apply(this,arguments)}const xg=ai((function(e){let{className:n,unit:r,field:i,...o}=e;return t.createElement(_a,wg({className:n},o),r[i])})),_g=ai((function(e){let{className:n,unit:r,field:i,...o}=e;const a=$a((()=>{const e=r[i];return e>=1e11?(e/1e9|0)+"B":e>=1e8?(e/1e6|0)+"M":e>=1e5?(e/1e3|0)+"K":0|e}));return t.createElement(_a,wg({className:n},o),a)})),Sg=ai((function(e){let{className:n,unit:r,field:i,digits:o=1,mul:a=1,inc:s=0,...l}=e;return t.createElement(_a,wg({className:n},l),((r[i]+s)*a).toFixed(o))}));var Eg=i(8297),Ag={};Ag.styleTagTransform=sa(),Ag.setAttributes=ra(),Ag.insert=ta().bind(null,"head"),Ag.domAPI=Zo(),Ag.insertStyleElement=oa(),Xo()(Eg.A,Ag);const Dg=Eg.A&&Eg.A.locals?Eg.A.locals:void 0;function Cg(e){let{className:n,children:r}=e;const[i,o]=t.useState(0),a=t.Children.toArray(r);return t.createElement("div",{className:Wo(n,Dg.root)},t.createElement("div",{className:Dg.tabs},a.map((e=>e.props.tabLabel)).map(((e,n)=>t.createElement("div",{key:n,className:Wo(Dg.tab,i==n&&Dg.active),onClick:()=>o(n)},e)))),t.createElement("div",{className:Dg.container,style:{transform:`translateX(${-100*i}vw)`}},a.map(((e,n)=>t.createElement("div",{className:Dg.content,key:n},e)))))}var Pg=i(391),Rg={};Rg.styleTagTransform=sa(),Rg.setAttributes=ra(),Rg.insert=ta().bind(null,"head"),Rg.domAPI=Zo(),Rg.insertStyleElement=oa(),Xo()(Pg.A,Rg);const Og=Pg.A&&Pg.A.locals?Pg.A.locals:void 0,Tg=Re(!0),Bg=Bt((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{player:r}=kc;if(!t&&e.quality>=3&&!Tg.get())return void rc("提示",`该商品为${Ty[e.quality]}物品，是否确定拆解？`,[{text:"确认",onPress:()=>Bg(e,!0,n)},{text:"取消"}]);const i=Kl(e);if(i){for(const e of Object.keys(i)){const t=r.buildInventory.find((t=>t.key===e));t?t.count+=i[e]:r.buildInventory.push(new ah("build").fromJS({key:e,count:i[e]}))}e.clear(),n&&n()}else n()})),Fg=ai((function(){const{player:e}=kc;return t.createElement(Sa,{className:Og.container},t.createElement(Sa,{className:Og.row},t.createElement(_a,{className:Og.container},"不提示拆解高品质物品"),t.createElement(Pa,{onValueChange:Bt((e=>Tg.set(e))),value:Tg.get()})),t.createElement(Aa,{className:Og.container,contentContainerClassName:Og.content},e.inventory.filter((e=>e.isEquip&&e.quality>1&&!e.locked)).map(((e,n)=>t.createElement(By,{onPress:()=>Bg(e),key:n,slot:e})))))})),Mg=Fg;var Ng=i(6246),Ig={};Ig.styleTagTransform=sa(),Ig.setAttributes=ra(),Ig.insert=ta().bind(null,"head"),Ig.domAPI=Zo(),Ig.insertStyleElement=oa(),Xo()(Ng.A,Ig);const jg=Ng.A&&Ng.A.locals?Ng.A.locals:void 0;var Hg,Lg,qg,zg;function Ug(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Vg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kg(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Yg=ai((Lg=class extends t.Component{constructor(){super(),Vg(this,"selectedItem",Re(null)),Ug(this,"locks",qg,this),Ug(this,"newAffixes",zg,this),Vg(this,"renderRow",((e,n)=>t.createElement(By,{onPress:()=>this.selectItem(e),key:n,slot:e,selectedItem:this.selectedItem}))),Vg(this,"doEnchants",(()=>{const e=this.selectedItem.get(),{key:t,level:n}=e;xy(this.getCosts());const r={};e.enchantTimes++,e.affixes.forEach((e=>r[e.key]=!0)),this.newAffixes.replace(e.affixes.map(((e,t)=>this.locks[t]?e:function(e,t){let n=Math.max(e.affixData.generate(t),e.value);return(new oh).fromJS({key:e.key,value:n,rebuilded:e.rebuilded})}(e,n))))})),Vg(this,"saveEnchants",(()=>{this.newAffixes.length&&(this.selectedItem.get().affixes.replace(this.newAffixes),this.newAffixes.splice(0),kc.player.currentCareerequipments.weapon.fromJS(kc.player.equipments.weapon||{}),kc.player.currentCareerequipments.plastron.fromJS(kc.player.equipments.plastron||{}),kc.player.currentCareerequipments.gaiter.fromJS(kc.player.equipments.gaiter||{}),kc.player.currentCareerequipments.ornament.fromJS(kc.player.equipments.ornament||{}))})),Vg(this,"discardEnchants",(()=>{this.newAffixes.splice(0)})),bn(this)}renderEquip(e){return this.renderRow(kc.player.equipments[e],e)}selectItem(e){this.selectedItem.set(e),e?this.locks.splice(0,this.locks.length,...e.affixes.map((e=>!1))):this.locks.splice(0),this.newAffixes.splice(0)}getCosts(){const e=this.selectedItem.get(),{level:t,quality:n,enchantTimes:r}=e,i={};return this.locks.reduce(((e,t)=>t?e+1:e),0),i.gold=Math.ceil((.05*t*t+2*t)*2**n*(1+.2*r+r*r*.01)),t>=5&&(i[Vl[2][Ul(t)]]=1),i}renderCost(){const e=this.selectedItem.get();if(!e||0===e.quality)return null;const n=this.getCosts(),r=wy(n);return this.newAffixes.length?t.createElement(Sa,null,t.createElement(_a,null,"点击并保存附魔结果")):t.createElement(Sa,{className:jg.row},t.createElement(Aa,{className:jg.container,horizontal:!0},Object.keys(n).map(((e,r)=>t.createElement(_a,{className:jg.costItem,key:r},t.createElement(_a,{className:jg.materialName,numberOfLines:1},_y[e]||as.goods[e].name),t.createElement(_a,{className:jg.materialAmount,numberOfLines:1},"x",n[e]))))),t.createElement(Fy,{onPress:this.doEnchants,disabled:!r},e.count>1&&"全部","附魔"),t.createElement(Sa,{className:{width:5}}))}renderDetail(){const e=this.selectedItem.get();return e&&0!==e.quality?t.createElement(Sa,{className:jg.detailContainer},t.createElement(Ea,{className:[jg.detail,jg.detail2],onPress:()=>{}},e.affixes.map(((n,r)=>t.createElement(_a,{className:[jg.affix,n.isLegend&&jg.legend],key:r,numberOfLines:1},n.display,"(",n.rangeDisplay(e.level),")")))),t.createElement(Sa,{className:jg.locks},this.locks.map(((e,n)=>t.createElement(_a,{className:jg.lock,key:n,onPress:()=>{}},e?"×":"=>")))),t.createElement(Ea,{className:jg.detail,onPress:this.saveEnchants},this.newAffixes.map(((e,n)=>t.createElement(_a,{className:[jg.affix,e.isLegend&&jg.legend],key:n,numberOfLines:1},e.display))))):t.createElement(Sa,{className:jg.detailContainer})}render(){const{player:e}=kc;return t.createElement(Sa,{className:jg.container},t.createElement(Sa,{className:jg.row},t.createElement(_a,null,e.name,"的装备"),t.createElement(Aa,{contentContainerClassName:jg.rowCenter,horizontal:!0},this.renderEquip("weapon"),this.renderEquip("plastron"),this.renderEquip("gaiter"),this.renderEquip("ornament"))),t.createElement(Aa,{className:jg.container,contentContainerClassName:jg.content},e.inventory.filter((e=>e.isEquip&&e.quality>0)).map(this.renderRow)),this.renderCost(),this.renderDetail())}},qg=Kg(Lg.prototype,"locks",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zg=Kg(Lg.prototype,"newAffixes",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Kg(Lg.prototype,"selectItem",[Bt],Object.getOwnPropertyDescriptor(Lg.prototype,"selectItem"),Lg.prototype),Hg=Lg))||Hg;var $g=i(8865),Wg={};Wg.styleTagTransform=sa(),Wg.setAttributes=ra(),Wg.insert=ta().bind(null,"head"),Wg.domAPI=Zo(),Wg.insertStyleElement=oa(),Xo()($g.A,Wg);const Gg=$g.A&&$g.A.locals?$g.A.locals:void 0;var Jg,Xg;function Qg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zg(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let ey=ai((Xg=class extends t.Component{constructor(){super(...arguments),Qg(this,"selectedItem",Re(null)),Qg(this,"lastUsedAt",0),Qg(this,"renderRow",((e,n)=>t.createElement(By,{onPress:()=>this.selectItem(e),key:n,slot:e,selectedItem:this.selectedItem})))}renderEquip(e){return this.renderRow(kc.player.equipments[e],e)}selectItem(e){this.selectedItem.set(e)}getCosts(){const e=this.selectedItem.get();if(!e)return{};const{level:t,quality:n}=e,r={};return r.diamonds=1+Math.ceil(t/25*(1<<n)/4),r}renderCost(){const e=this.selectedItem.get();if(!e||0===e.quality)return null;const n=this.getCosts();return t.createElement(Sa,null,t.createElement(Sa,{className:Gg.row},Object.keys(n).map(((e,r)=>t.createElement(_a,{className:Gg.costItem,key:r},t.createElement(_a,{className:Gg.materialName,numberOfLines:1},"消耗",_y[e]||as.goods[e].name),t.createElement(_a,{className:Gg.materialAmount,numberOfLines:1},n[e],"/",qm.diamonds)))),t.createElement(Sa,{className:Gg.container}),t.createElement(_a,null,"点击属性重铸")))}rebuild(e){const t=Date.now();if(t-this.lastUsedAt<1e3)return;this.lastUsedAt=t;const n=this.selectedItem.get(),{key:r,level:i}=n;xy(this.getCosts());const o={},a=Object.keys(as.affixes).filter((e=>(as.affixes[e].minLevel||0)<=i)).filter((e=>jl(r,e,i)));n.affixes.forEach((e=>o[e.key]=!0)),n.affixes[e]=Il(a,i,o),n.affixes[e].rebuilded=!0,kc.player.currentCareerequipments.weapon.fromJS(kc.player.equipments.weapon||{}),kc.player.currentCareerequipments.plastron.fromJS(kc.player.equipments.plastron||{}),kc.player.currentCareerequipments.gaiter.fromJS(kc.player.equipments.gaiter||{}),kc.player.currentCareerequipments.ornament.fromJS(kc.player.equipments.ornament||{})}renderAffix(e,n,r){if(!e)return t.createElement(Sa,{className:[Gg.detailAffix,Gg.detailAffixEmpty]});const i=r&&!e.rebuilded||e.isLegend;return t.createElement(Ea,{className:[Gg.detailAffix,i&&Gg.detailAffixDisabled],onPress:()=>this.rebuild(n),disabled:i||!wy(this.getCosts())},t.createElement(_a,{className:[Gg.affix,e.isLegend&&Gg.legendAffix],key:n,numberOfLines:1},e.display," ",e.rebuilded?"[重铸]":""))}renderDetail(){const e=this.selectedItem.get();if(!e||0===e.quality)return t.createElement(Sa,{className:Gg.detailContainer});const n=e.affixes.some((e=>e.rebuilded));return t.createElement(Sa,{className:Gg.detailContainer},t.createElement(Sa,{className:[Gg.detail,Oy[e.quality]]},t.createElement(Sa,{className:Gg.detailRow},this.renderAffix(e.affixes.length>0&&e.affixes[0],0,n),this.renderAffix(e.affixes.length>1&&e.affixes[1],1,n)),t.createElement(Sa,{className:Gg.detailRow},this.renderAffix(e.affixes.length>2&&e.affixes[2],2,n),this.renderAffix(e.affixes.length>3&&e.affixes[3],3,n))))}render(){const{player:e}=kc;return t.createElement(Sa,{className:Gg.container},t.createElement(Sa,{className:Gg.row},t.createElement(_a,null,e.name,"的装备"),t.createElement(Aa,{contentContainerClassName:Gg.rowCenter,horizontal:!0},this.renderEquip("weapon"),this.renderEquip("plastron"),this.renderEquip("gaiter"),this.renderEquip("ornament"))),t.createElement(Aa,{className:Gg.container,contentContainerClassName:Gg.content},e.inventory.filter((e=>e.isEquip&&e.quality>0)).map(this.renderRow)),this.renderCost(),this.renderDetail())}},Zg(Xg.prototype,"selectItem",[Bt],Object.getOwnPropertyDescriptor(Xg.prototype,"selectItem"),Xg.prototype),Zg(Xg.prototype,"rebuild",[Bt],Object.getOwnPropertyDescriptor(Xg.prototype,"rebuild"),Xg.prototype),Jg=Xg))||Jg;var ty=i(684),ny={};ny.styleTagTransform=sa(),ny.setAttributes=ra(),ny.insert=ta().bind(null,"head"),ny.domAPI=Zo(),ny.insertStyleElement=oa(),Xo()(ty.A,ny);const ry=ty.A&&ty.A.locals?ty.A.locals:void 0;var iy,oy;function ay(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sy(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let ly=ai((oy=class extends t.Component{constructor(){super(...arguments),ay(this,"renderMedicine",(e=>{const n=as.medicines[e],r=qm.medicineLevel.get(e)||0,i=qm.totalMedicineLevel-r,o=n.Max_level||9999;return t.createElement(Sa,{className:ry.medicine,key:e},t.createElement(Sa,{className:ry.flex},t.createElement(Sa,{className:ry.medicineMain},t.createElement(_a,{className:ry.medicineName},n.name),t.createElement(_a,{className:ry.textMargin},"等级：",r)),t.createElement(_a,null,n.description(r)),t.createElement(_a,null,"下一级：",n.description(r+1))),t.createElement(Fy,{onPress:()=>this.upgradeMedicine(e),disabled:i<=0||r>=o},"升级"),t.createElement(Fy,{onPress:()=>this.downgradeMedicine(e),disabled:r<=0},"降级"))})),ay(this,"doUpgradeBowel",(()=>{const e=qm.bowelUpgradePrice;qm.diamonds<e?rc("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{this.context.navigator.push({location:"/purchase"})}},{text:"取消"}]):(qm.diamonds-=e,qm.bowelLevel++)})),ay(this,"upgradeBowel",(()=>{rc("提示",`使用${qm.bowelUpgradePrice}神力锻炼熔炉，永久提升${(50*qm.bowelEffect).toFixed()}%效果，是否继续？`,[{text:"确认",onPress:()=>this.doUpgradeBowel()},{text:"取消"}])}))}doUpgradeMedicine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=qm.resetMedicineCost,r=qm.resetMedicineDiamondsCost,{player:i}=kc;if(t){if(qm.diamonds<r)return void rc("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{this.context.navigator.push({location:"/purchase"})}},{text:"取消"}])}else if(i.gold<n)return void rc("提示","您的金币不足");const o=Object.keys(as.medicines).filter((t=>t!==e&&qm.medicineLevel.get(t)>0)),a=o[Math.random()*o.length|0]||o[0];a?(t?qm.diamonds-=r:i.gold-=n,qm.medicineLevel.set(e,qm.medicineLevel.get(e)+1),qm.medicineLevel.set(a,qm.medicineLevel.get(a)-1)):rc("提示","没有可选的药品")}doDowngradeMedicine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Math.floor(qm.resetMedicineCost/10),r=Math.floor(qm.resetMedicineDiamondsCost/10),{player:i}=kc;if(t){if(qm.diamonds<r)return void rc("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{this.context.navigator.push({location:"/purchase"})}},{text:"取消"}])}else if(i.gold<n)return void rc("提示","您的金币不足");let o=Object.keys(as.medicines).filter((t=>t!==e)),a=o[Math.random()*o.length|0]||o[0],s=qm.medicineLevel.get(a),l=as.medicines[a],c=l.Max_level||9999;for(;s>=c;)o=o.filter((function(e){return e!==a})),a=o[Math.random()*o.length|0]||o[0],s=qm.medicineLevel.get(a),l=as.medicines[a],c=l.Max_level||9999;a?(t?qm.diamonds-=r:i.gold-=n,qm.medicineLevel.set(e,qm.medicineLevel.get(e)-1),qm.medicineLevel.set(a,qm.medicineLevel.get(a)+1)):rc("提示","没有可选的药品")}upgradeMedicine(e){rc("提示",`使用${qm.resetMedicineCost}金币升级，并随机降级一项药品？`,[{text:"确认",onPress:()=>{this.doUpgradeMedicine(e)}},{text:`使用${qm.resetMedicineDiamondsCost}神力替代`,onPress:()=>{this.doUpgradeMedicine(e,!0)}},{text:"取消"}])}downgradeMedicine(e){rc("提示",`使用${Math.floor(qm.resetMedicineCost/10)}金币降级，并随机升级一项药品？`,[{text:"确认",onPress:()=>{this.doDowngradeMedicine(e)}},{text:`使用${Math.ceil(qm.resetMedicineDiamondsCost/10)}神力替代`,onPress:()=>{this.doDowngradeMedicine(e,!0)}},{text:"取消"}])}doThrow(e,t){const n=e.goodData.energy*qm.bowelEffect;e.count===t?e.clear():e.count-=t;const r=qm.gotMedicineExp(n*t);for(const e of r)rc("提示",`您的${as.medicines[e].name}等级提升了！`)}async throw(e){const t=e.goodData.energy*qm.bowelEffect,n=await oc("请输入要投入的数量",`每个[${e.name}]提升${t.toFixed()}点经验值`,`${e.count}`);if(!n)return;const{count:r}=e,i=0|n;if(i<=0)return rc("别逗我啦。"),!1;if(r===i)this.doThrow(e,i);else if(r>i)this.doThrow(e,i);else if(r<i)return rc("别逗我啦。"),!1}render(){const{player:e}=kc,n=e.inventory.filter((e=>e.isEnergyMaterial));return t.createElement(Sa,{className:ry.flex},t.createElement(Sa,{className:ry.info},t.createElement(Sa,{className:ry.flex},t.createElement(_a,null,"炼金等级：",qm.totalMedicineLevel,"级"),t.createElement(_a,null,"当前经验值：",qm.medicineExp.toFixed(),"/",qm.maxMedicineExp))),t.createElement(Aa,{className:ry.flex},Object.keys(as.medicines).map(this.renderMedicine)),t.createElement(Sa,{className:ry.itemGroup},n.map(((e,n)=>t.createElement(By,{slot:e,key:n,onPress:()=>this.throw(e)}))),0===n.length&&t.createElement(_a,{className:ry.noItemHint},"您的背包里现在没有任何材料")))}},sy(oy.prototype,"doUpgradeMedicine",[Bt],Object.getOwnPropertyDescriptor(oy.prototype,"doUpgradeMedicine"),oy.prototype),sy(oy.prototype,"doDowngradeMedicine",[Bt],Object.getOwnPropertyDescriptor(oy.prototype,"doDowngradeMedicine"),oy.prototype),iy=oy))||iy;var cy=i(5714),uy={};uy.styleTagTransform=sa(),uy.setAttributes=ra(),uy.insert=ta().bind(null,"head"),uy.domAPI=Zo(),uy.insertStyleElement=oa(),Xo()(cy.A,uy);const hy=cy.A&&cy.A.locals?cy.A.locals:void 0;var py,dy;function fy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function my(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let gy=ai((dy=class extends t.Component{constructor(){super(...arguments),fy(this,"renderCooking",(e=>{const n=as.cookings[e],r=qm.cookingLevel.get(e)||0,i=qm.totalCookingLevel-r,o=n.Max_level||9999;return t.createElement(Sa,{className:hy.cooking,key:e},t.createElement(Sa,{className:hy.flex},t.createElement(Sa,{className:hy.cookingMain},t.createElement(_a,{className:hy.cookingName},n.name),t.createElement(_a,{className:hy.textMargin},"等级：",r)),t.createElement(_a,null,n.description(r)),t.createElement(_a,null,"下一级：",n.description(r+1))),t.createElement(Fy,{onPress:()=>this.upgradeCooking(e),disabled:i<=0||r>=o},"升级"),t.createElement(Fy,{onPress:()=>this.downgradeCooking(e),disabled:r<=0},"降级"))})),fy(this,"doUpgradeBowel",(()=>{const e=qm.bowelUpgradePrice;qm.diamonds<e?rc("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{this.context.navigator.push({location:"/purchase"})}},{text:"取消"}]):(qm.diamonds-=e,qm.bowelLevel++)})),fy(this,"upgradeBowel",(()=>{rc("提示",`使用${qm.bowelUpgradePrice}神力锻炼熔炉，永久提升${(50*qm.bowelEffect).toFixed()}%效果，是否继续？`,[{text:"确认",onPress:()=>this.doUpgradeBowel()},{text:"取消"}])}))}doUpgradeCooking(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=qm.resetCookingCost,r=qm.resetCookingDiamondsCost,{player:i}=kc;if(t){if(qm.diamonds<r)return void rc("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{this.context.navigator.push({location:"/purchase"})}},{text:"取消"}])}else if(i.gold<n)return void rc("提示","您的金币不足");const o=Object.keys(as.cookings).filter((t=>t!==e&&qm.cookingLevel.get(t)>0)),a=o[Math.random()*o.length|0]||o[0];a?(t?qm.diamonds-=r:i.gold-=n,qm.cookingLevel.set(e,qm.cookingLevel.get(e)+1),qm.cookingLevel.set(a,qm.cookingLevel.get(a)-1)):rc("提示","没有可选的食品")}doDowngradeCooking(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Math.floor(qm.resetCookingCost/10),r=Math.floor(qm.resetCookingDiamondsCost/10),{player:i}=kc;if(t){if(qm.diamonds<r)return void rc("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{this.context.navigator.push({location:"/purchase"})}},{text:"取消"}])}else if(i.gold<n)return void rc("提示","您的金币不足");let o=Object.keys(as.cookings).filter((t=>t!==e)),a=o[Math.random()*o.length|0]||o[0],s=qm.cookingLevel.get(a),l=as.cookings[a],c=l.Max_level||9999;for(;s>=c;)o=o.filter((function(e){return e!==a})),a=o[Math.random()*o.length|0]||o[0],s=qm.cookingLevel.get(a),l=as.cookings[a],c=l.Max_level||9999;a?(t?qm.diamonds-=r:i.gold-=n,qm.cookingLevel.set(e,qm.cookingLevel.get(e)-1),qm.cookingLevel.set(a,qm.cookingLevel.get(a)+1)):rc("提示","没有可选的食品")}upgradeCooking(e){rc("提示",`使用${qm.resetCookingCost}金币升级，并随机降级一项食品？`,[{text:"确认",onPress:()=>{this.doUpgradeCooking(e)}},{text:`使用${qm.resetCookingDiamondsCost}神力替代`,onPress:()=>{this.doUpgradeCooking(e,!0)}},{text:"取消"}])}downgradeCooking(e){rc("提示",`使用${Math.floor(qm.resetCookingCost/10)}金币降级，并随机升级一项食品？`,[{text:"确认",onPress:()=>{this.doDowngradeCooking(e)}},{text:`使用${Math.ceil(qm.resetCookingDiamondsCost/10)}神力替代`,onPress:()=>{this.doDowngradeCooking(e,!0)}},{text:"取消"}])}doThrow(e,t){const n=e.goodData.energy*qm.bowelEffect;e.count===t?e.clear():e.count-=t;const r=qm.gotCookingExp(n*t);for(const e of r)rc("提示",`您的${as.cookings[e].name}等级提升了！`)}async throw(e){const t=e.goodData.energy*qm.bowelEffect,n=await oc("请输入要投入的数量",`每个[${e.name}]提升${t.toFixed()}点经验值`,`${e.count}`);if(!n)return;const{count:r}=e,i=0|n;if(i<=0)return rc("别逗我啦。"),!1;if(r===i)this.doThrow(e,i);else if(r>i)this.doThrow(e,i);else if(r<i)return rc("别逗我啦。"),!1}render(){const{player:e}=kc,n=e.inventory.filter((e=>e.isEnergyMaterial));return t.createElement(Sa,{className:hy.flex},t.createElement(Sa,{className:hy.info},t.createElement(Sa,{className:hy.flex},t.createElement(_a,null,"厨艺等级：",qm.totalCookingLevel,"级"),t.createElement(_a,null,"当前经验值：",qm.cookingExp.toFixed(),"/",qm.maxCookingExp))),t.createElement(Aa,{className:hy.flex},Object.keys(as.cookings).map(this.renderCooking)),t.createElement(Sa,{className:hy.itemGroup},n.map(((e,n)=>t.createElement(By,{slot:e,key:n,onPress:()=>this.throw(e)}))),0===n.length&&t.createElement(_a,{className:hy.noItemHint},"您的背包里现在没有任何材料")))}},my(dy.prototype,"doUpgradeCooking",[Bt],Object.getOwnPropertyDescriptor(dy.prototype,"doUpgradeCooking"),dy.prototype),my(dy.prototype,"doDowngradeCooking",[Bt],Object.getOwnPropertyDescriptor(dy.prototype,"doDowngradeCooking"),dy.prototype),py=dy))||py;var yy=i(5642),vy={};vy.styleTagTransform=sa(),vy.setAttributes=ra(),vy.insert=ta().bind(null,"head"),vy.domAPI=Zo(),vy.insertStyleElement=oa(),Xo()(yy.A,vy);const by=yy.A&&yy.A.locals?yy.A.locals:void 0;var ky;function wy(e){let{diamonds:t,gold:n,...r}=e;const{player:i}=kc;if(t&&qm.diamonds<t)return!1;if(n&&i.gold<n)return!1;for(const e of Object.keys(r))if(i.countGood(e)<r[e])return!1;return!0}function xy(e){let{diamonds:t,gold:n,...r}=e;const{player:i}=kc;t&&(qm.diamonds-=t),n&&(i.gold-=n);for(const e of Object.keys(r))i.costGood(e,r[e])}const _y={diamonds:"神力",gold:"金币"},Sy=ai((function(e){let{style:n,inventory:r,selected:i}=e;const{player:o}=kc,a=r.length,s=$a((()=>a>0&&r[0].isEquip)),l=$a((()=>i&&null!==i.get()));return t.createElement(Sa,{className:n},l&&t.createElement(jy,{selected:i}),t.createElement(Sa,{className:by.row},t.createElement(Aa,{horizontal:!0,className:by.inventory},r.map(((e,n)=>t.createElement(By,{slot:e,key:n,onPress:Bt((()=>i.set(e)))})))),s&&t.createElement(Ea,{className:by.inventoryButton,onPress:Bt((()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{player:n}=kc,r=e[0];Bg(r,t,(()=>{r.empty&&e.remove(r)}))}(r)))},t.createElement(_a,null,"拆1解")),a>0&&t.createElement(Ea,{className:by.inventoryButton,onPress:Bt((()=>{o.getInventory(r),i.set(null)}))},t.createElement(_a,null,"拾取"))))}));let Ey=ai(ky=class extends t.Component{constructor(){super(...arguments),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"selectedItem",Re(null))}render(){const{player:e}=kc;return t.createElement(Jm,{title:"技艺"},t.createElement(Sa,{className:by.container},t.createElement(Cg,{className:by.container},t.createElement(Yg,{tabLabel:"附魔"}),t.createElement(ey,{tabLabel:"重铸"}),t.createElement(gy,{tabLabel:"厨艺"}),t.createElement(ly,{tabLabel:"炼金"}),t.createElement(Mg,{tabLabel:"拆解"})),t.createElement(Sy,{selected:this.selectedItem,inventory:e.buildInventory})))}})||ky;var Ay=i(8434),Dy={};Dy.styleTagTransform=sa(),Dy.setAttributes=ra(),Dy.insert=ta().bind(null,"head"),Dy.domAPI=Zo(),Dy.insertStyleElement=oa(),Xo()(Ay.A,Dy);const Cy=Ay.A&&Ay.A.locals?Ay.A.locals:void 0;var Py;function Ry(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Oy=[Cy.btnNormal,Cy.btnGood,Cy.btnExcellent,Cy.btnEpic,Cy.btnLegend,Cy.btnAcient,Cy.btnArtifact],Ty=(Cy.fontNormal,Cy.fontGood,Cy.fontExcellent,Cy.fontEpic,Cy.fontLegend,Cy.fontAcient,Cy.fontArtifact,["普通","优秀","精良","史诗","传说","远古","神器"]),By=ai((function(e){let{slot:n,onPress:r,selectedItem:i}=e;const o=$a((()=>!(!i||n!==i.get())));return t.createElement(Ea,{className:Cy.slot,activeOpacity:.8,onPress:r},t.createElement(Sa,{className:[Cy.slotContent,Oy[n.displayQuality],o&&Cy.slotActive],style:n.backgroundColor&&{backgroundColor:n.backgroundColor}},t.createElement(_a,{style:n.nameColor&&{color:n.nameColor}},n.name||"空")),n.count>1&&t.createElement(_a,{className:Cy.count},n.count))}));function Fy(e){let{onPress:n,children:r,disabled:i}=e;return t.createElement(Ea,{onPress:n,disabled:i,className:[Cy.button,i&&Cy.buttonDisabled]},t.createElement(_a,{className:[Cy.buttonLabel,i&&Cy.buttonDisabledLabel]},r))}const My={atk_self:"攻击力",def:"物理防御",maxHp:"生命值",critRate:"暴击",atkMul:"攻击力",critBonus:"暴击伤害",dmgAdd:"破防",firedmgAdd:"破防",colddmgAdd:"破防",lightningdmgAdd:"破防",poisondmgAdd:"破防",lightdmgAdd:"破防",darkdmgAdd:"破防",sta:"耐力",str:"力量",dex:"敏捷",int:"智力",dmgLevel:"物理伤害",critR_level:"暴击",critB_level:"暴击伤害",miss_shanbizhi:"闪避值",allResist:"元素抗性"},Ny={atk_self:e=>""+(0|e),atkSpeed:e=>e.toFixed(1),mpRecovery:e=>Math.round(5*e),maxHp:e=>`${e}`,critRate:e=>Math.round(1e4*e)/100+"%",atkMul:e=>Math.round(1e4*e)/100+"%",dmgAdd:e=>Math.round(1e4*e)/100+"%",critBonus:e=>Math.round(1e4*e)/100+"%",sta:e=>`${e}`,str:e=>`${e}`,dex:e=>`${e}`,int:e=>`${e}`,dmgLevel:e=>`${e}`,critR_level:e=>""+(0|e),critB_level:e=>""+(0|e),miss_shanbizhi:e=>""+(0|e)},Iy={diamonds:"神力",gold:"金币"},jy=ai((function(e,n){let{slot:r,selected:i,type:o}=e,{navigator:a}=n;const s=r||i&&i.get();if(s&&"ticket"===s.key)return t.createElement(Sa,{className:Cy.detail},t.createElement(Sa,{className:Cy.row},t.createElement(_a,{className:Cy.detailName},s.name),t.createElement(_a,{className:Cy.detailCount}," x ",s.count)),t.createElement(Sa,{className:[Cy.row,Cy.spacer]},t.createElement(Sa,{className:Cy.spacer},t.createElement(Sa,{className:Cy.spacer}),t.createElement(_a,{numberOfLines:2},"钥石可以让你再次挑战已经挑战过的副本。")),t.createElement(Sa,{className:Cy.row},t.createElement(Fy,{onPress:()=>{rc("提示","确定要丢弃该钥石吗？",[{text:"确认",onPress:Bt((()=>{i.set(null),s.clear()}))},{text:"取消"}])}},"抛弃")),"bank"===o&&"inventory"===s.position&&t.createElement(Fy,{onPress:()=>{kc.player.loot(s,qm.bank),qm.save(),kc.player.save()}},"保存"),"bank"===o&&"bank"===s.position&&t.createElement(Fy,{onPress:()=>{kc.player.loot(s),qm.save(),kc.player.save()}},"取出")));if(!s||!s.goodData)return s&&_y[s.key]?t.createElement(Sa,{className:Cy.detail},t.createElement(Sa,{className:Cy.row},t.createElement(_a,{className:Cy.detailName},_y[s.key]),t.createElement(_a,{className:Cy.detailCount}," x ",s.count)),t.createElement(Sa,{className:Cy.spacer},t.createElement(Sa,{className:Cy.spacer}),t.createElement(_a,{numberOfLines:2},Iy[s.key]))):t.createElement(Sa,{className:Cy.detail});const{isEquip:l}=s,c=l&&kc.playerUnit.canEquip(s);let u;return u="bank"===o?t.createElement(Sa,{className:Cy.row},"inventory"===s.position&&t.createElement(Fy,{onPress:()=>{kc.player.loot(s,qm.bank),qm.save(),kc.player.save()}},"保存"),"bank"===s.position&&t.createElement(Fy,{onPress:()=>{kc.player.loot(s),qm.save(),kc.player.save()}},"取出"),s.price&&s.count>=1&&!s.locked&&t.createElement(Fy,{onPress:async()=>{if(s.count>1){const e=await oc("输入数量","",`${s.count}`);Mt((()=>{const{count:t}=i.get(),n=Math.max(0,0|e);if(t===n)i.set(null),kc.player.sellItem(s,n);else if(t>n)kc.player.sellItem(s,n);else if(t<n)return rc("别逗我啦。"),!1}))}else s.quality>=3?rc("提示",`该商品为${Ty[s.quality]}物品，是否确定出售？`,[{text:"确认",onPress:()=>{Mt((()=>{i.set(null),kc.player.sellItem(s,1)}))}},{text:"取消"}]):Mt((()=>{i.set(null),kc.player.sellItem(s,1)}))}},"出售"),s.isEquip&&t.createElement(Fy,{onPress:()=>{s.locked=!s.locked}},s.locked?"解锁":"锁定")):t.createElement(Sa,{className:Cy.row},s.isEquip&&"inventory"===s.position&&t.createElement(Fy,{disabled:!c,onPress:()=>{kc.player.equip(s)}},"装备"),"equip"===s.position&&t.createElement(Fy,{onPress:()=>{kc.player.unequip(s)}},"卸下"),s.goodData&&"package"===s.goodData.type&&t.createElement(Fy,{onPress:()=>kc.usePackage(s)},"打开所有"),s.price&&"equip"!==s.position&&s.count>=1&&!s.locked&&t.createElement(Fy,{onPress:async()=>{if(s.count>1){const e=await oc("输入数量","",`${s.count}`);Mt((()=>{const{count:t}=i.get(),n=Math.max(0,0|e);if(t===n)i.set(null),kc.player.sellItem(s,n);else if(t>n)kc.player.sellItem(s,n);else if(t<n)return rc("别逗我啦。"),!1}))}else s.quality>=3?rc("提示",`该商品为${Ty[s.quality]}物品，是否确定出售？`,[{text:"确认",onPress:()=>{Mt((()=>{i.set(null),kc.player.sellItem(s,1)}))}},{text:"取消"}]):Mt((()=>{i.set(null),kc.player.sellItem(s,1)}))}},"出售"),s.isEquip&&t.createElement(Fy,{onPress:()=>{s.locked=!s.locked}},s.locked?"解锁":"锁定")),t.createElement(Sa,{className:Cy.detail},t.createElement(Sa,{className:Cy.row},t.createElement(_a,{className:Cy.detailName},s.name,s.originName&&t.createElement(_a,{className:Cy.originName})),1!==s.count&&t.createElement(_a,{className:Cy.detailCount}," x ",s.count),t.createElement(Sa,{className:Cy.spacer}),!!s.price&&t.createElement(_a,{className:Cy.detailPrice},"出售单价:",s.price," ",s.count>1&&t.createElement(_a,null,"全部出售:",s.totalPrice))),t.createElement(Sa,{className:[Cy.row2,Cy.spacer]},t.createElement(Sa,{className:Cy.spacer},t.createElement(Sa,{className:Cy.row},l&&t.createElement(_a,null,s.equipPositionName),l&&t.createElement(_a,{className:Cy.marginLeft},"需要等级",s.requireLevel)),t.createElement(Sa,{className:Cy.row},l&&t.createElement(_a,{className:Cy.marginLeft2},"品质等级",s.level)),t.createElement(Sa,{className:Cy.row4},t.createElement(_a,null,l&&Object.keys(My).map(((e,n)=>!!s[e]&&t.createElement(_a,{key:n},"  ",My[e],"+","  ",Ny[e]?Ny[e](s[e]):Math.round(s[e]),"\n                          "))))),t.createElement(Sa,{className:Cy.row5},t.createElement(_a,null,s.affixes.map(((e,n)=>t.createElement(_a,{className:[Cy.affix,e.isLegend&&Cy.legend],key:n},e.display,"\n                  ")))))),t.createElement(Sa,{className:Cy.spacer},t.createElement(Sa,{className:Cy.row6},l&&t.createElement(_a,{className:Cy.marginLeft2},s.description)),t.createElement(Sa,{className:Cy.row7},l&&u),t.createElement(Sa,{className:Cy.row8},!l&&u))))})),Hy=Bt((function(){const{player:e}=kc,t=as.upgrades.inventoryByDiamonds[e.inventoryDiamondLevel];qm.diamonds<t?rc("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{rw.navigate("/purchase")}},{text:"取消"}]):(qm.diamonds-=t,e.inventory.push(new ah("inventory")),e.inventoryDiamondLevel++)})),Ly=Bt((function(){const{player:e}=kc,t=as.upgrades.inventory[e.inventory.length-e.inventoryDiamondLevel],{gold:n,...r}=t;if(wy(t)){n&&(e.gold-=n);for(const t of Object.keys(r))e.costGood(t,r[t]);e.inventory.push(new ah("inventory"))}else rc("提示","物品扣除失败。请重试。")}));function qy(){const{player:e}=kc,t=as.upgrades.inventory[e.inventory.length-e.inventoryDiamondLevel],n=as.upgrades.inventoryByDiamonds[e.inventoryDiamondLevel];if(!t)return void rc("提示",`你的背包已经超越极限，只有创世神的力量才能改变空间，继续扩张背包消耗${n}神力，是否继续？`,[{text:"确认",onPress:()=>Hy(navigator)},{text:"取消"}]);const r=Object.keys(t).map((e=>`${_y[e]||as.goods[e].name} x${t[e]}`)).join("\n");wy(t)?rc("提示",`背包升级需要消耗：\n${r}\n是否继续？`,[{text:"确认",onPress:()=>Ly(t)},{text:"取消"}]):rc("提示",`背包升级需要消耗：\n${r}\n您的物品不足，是否消耗${n}神力改变空间，扩张背包？`,[{text:"确认",onPress:()=>Hy()},{text:"取消"}])}function zy(e){let{onPress:n,children:r}=e;return t.createElement(Ea,{className:Cy.slot,activeOpacity:.8,onPress:n},t.createElement(Sa,{className:Cy.slotContent},t.createElement(_a,null,r)))}function Uy(e){let{onPress:n,children:r}=e;return t.createElement(Ea,{className:Cy.bigBtn,activeOpacity:.8,onPress:n},t.createElement(Sa,{className:Cy.bigBtnContent},t.createElement(_a,null,r)))}function Vy(e){let{onPress:n,children:r}=e;return t.createElement(Ea,{className:Cy.bigBtn2,activeOpacity:.8,onPress:n},t.createElement(Sa,{className:Cy.bigBtnContent},t.createElement(_a,null,r)))}let Ky=ai(Py=class extends t.Component{constructor(){super(...arguments),Ry(this,"selectedItem",Re(null)),Ry(this,"onLeftPressed",(()=>{rw.navigate("/purchase")})),Ry(this,"onRightPressed",(()=>{rw.navigate("/inventory/bank")})),Ry(this,"setLootRule",(()=>{rw.navigate("/inventory/loot-rule")})),Ry(this,"renderRow",((e,n)=>t.createElement(By,{onPress:Bt((()=>this.selectedItem.set(e))),key:n,slot:e,selectedItem:this.selectedItem})))}renderEquip(e){return this.renderRow(kc.player.equipments[e],e)}render(){const{player:e}=kc;return t.createElement(Jm,{title:"背包",leftNavTitle:"创世神商店",rightNavTitle:"仓库",onLeftPressed:this.onLeftPressed,onRightPressed:this.onRightPressed},t.createElement(Sa,{className:Cy.container},t.createElement(Sa,{className:Cy.row},t.createElement(_a,null,"金币: ",t.createElement(_g,{unit:e,field:"gold"})," 神力:"," ",t.createElement(_g,{unit:qm,field:"diamonds"}))),t.createElement(Sa,{className:Cy.row},t.createElement(_a,null,e.name,"的装备"),t.createElement(Aa,{contentContainerClassName:Cy.rowCenter,horizontal:!0},this.renderEquip("weapon"),this.renderEquip("plastron"),this.renderEquip("gaiter"),this.renderEquip("ornament"))),t.createElement(jy,{selected:this.selectedItem}),t.createElement(Aa,{className:Cy.container,contentContainerClassName:Cy.content},t.createElement(Uy,{onPress:()=>e.sortInventory(e.inventory)},"整理背包"),t.createElement(Uy,{onPress:this.setLootRule},"拾取规则"),e.inventory.map(this.renderRow),e.inventoryDiamondLevel<as.upgrades.inventoryByDiamonds.length&&t.createElement(zy,{onPress:qy},"+"))))}})||Py;var Yy=i(5975),$y={};$y.styleTagTransform=sa(),$y.setAttributes=ra(),$y.insert=ta().bind(null,"head"),$y.domAPI=Zo(),$y.insertStyleElement=oa(),Xo()(Yy.A,$y);const Wy=Yy.A&&Yy.A.locals?Yy.A.locals:void 0;var Gy,Jy;function Xy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qy(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const Zy={melee:"物理",magic:"魔法",fire:"火焰",cold:"寒冷",real:"真实",dark:"暗属性",lightning:"闪电",light:"光属性",poison:"毒素"},ev={diamonds:"神力",gold:"金币"};let tv=(Gy=class{constructor(){var e;Xy(this,"keyGenerator",0),(e=Jy)&&Object.defineProperty(this,"rendered",{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(this):void 0}),Xy(this,"onMessage",Bt((e=>{const n=this[Ts("render-"+e.type)];if(!n)return void console.warn(`No renderer for message ${e.type}: ${Ts("render-"+e.type)}`);const r=n.call(this,e);if(!r)return;const i=this.keyGenerator+=1;this.keyGenerator>1e5&&(this.keyGenerator=0),this.rendered.push({type:e.type,jsx:t.cloneElement(r,{key:i})}),this.rendered.length>1e3&&this.rendered.shift()}))),Fs.addListener("message",this.onMessage),bn(this)}dispose(){this.rendered.clear()}renderGeneral(e){let{message:n}=e;return t.createElement(_a,null,n)}renderMapEnter(e){let{map:n}=e;const r=as.maps[n];return t.createElement(_a,null,"来到了",r.name)}renderBattleDodge(e){let{from:n,to:r,skill:i}=e;return i?t.createElement(_a,null,n.displayName,"的",i.name,"偏离了，没有命中",r.displayName,"。"):t.createElement(_a,null,n.displayName,"的技能偏离了，没有命中",r.displayName,"。")}renderBattleDamage(e){let{damageType:n,from:r,to:i,skill:o,value:a,isCrit:s,absorbed:l}=e,c=o.name||o;if(a>0||l>0)return r?t.createElement(_a,null,!!s&&t.createElement(_a,{className:Wy.crit},"暴击",s>1&&`x${s}`,"！"),r.displayName,'的"',c,'"对',i.displayName,"造成了",t.createElement(_a,{className:"player"===r.camp?Wy.campPlayer:Wy.campOther},Math.round(a)),"点",Zy[n],"伤害。",l?`(${0|l}点被吸收了)`:""):t.createElement(_a,null,!!s&&t.createElement(_a,{className:Wy.crit},"暴击",s>1&&`x${s}`,"！"),'触发了"',o,'"效果,',i.displayName,"受到",t.createElement(_a,null,Math.round(a)),"点",Zy[n],"伤害。",l?`(${0|l}点被吸收了)`:"")}renderBattleHeal(e){let{from:n,to:r,skill:i,value:o}=e;if(o>0)return n?t.createElement(_a,null,n.displayName,"的",i.name,"为",r.displayName,"恢复了",t.createElement(_a,{className:Wy.recovery},Math.round(o)),"点气血值。"):t.createElement(_a,null,r.displayName,"恢复了",t.createElement(_a,{className:Wy.recovery},Math.round(o)),"点气血值。")}renderBattleSkill(e){let{from:n,targets:r,skill:i}=e;return r?t.createElement(_a,null,n.displayName,"对",r.map((e=>e.displayName)).join(","),"释放了",i.name,"。"):t.createElement(_a,null,n.displayName,"释放了",i.name,"。")}renderPlayerDeath(e){let{who:n,rebornIn:r}=e;return t.createElement(_a,null,n.displayName,"陷入了昏迷，将在",t.createElement(_a,{className:Wy.rebornIn},Math.round(r)),"秒后恢复。")}renderBattleDeath(e){let{who:t}=e}renderMapEnter(e){let{map:n}=e;return t.createElement(_a,null,"来到了",as.maps[n].name,"。")}renderEnemyAppear(e){let{enemy:t,summoner:n}=e}renderPlayerGotExp(e){let{who:n,value:r}=e;return t.createElement(_a,null,n.displayName,"获得了",Math.round(r),"点经验。")}renderPlayerLoot(e){let{who:n,what:r,showToast:i}=e;const{count:o,key:a,dungeonKey:s}=r,l=as.goods[a]&&as.goods[a].quality;let c=ev[a],u=c;return"ticket"===a?(c=t.createElement(_a,{className:Oy[5]},"钥石：",nh(s)||as.maps[s].name),u=`钥石：${nh(s)||as.maps[s].name}`):c||(c=t.createElement(_a,{className:Oy[l]},as.goods[a].name),u=as.goods[a].name),o&&o>1?(i&&us(`获得了${o}个${u}。`),t.createElement(_a,null,n.name,"拾取了",o,"个",c,"。")):(i&&us(`获得了${u}。`),t.createElement(_a,null,n.name,"拾取了",c,"。"))}renderBattleBuff(e){let{who:n,what:r}=e;return as.buffs[r].hidden?null:t.createElement(_a,null,n.displayName,"受到了",as.buffs[r].name,"效果的影响。")}renderBattleBuffOff(e){let{who:n,what:r}=e;return as.buffs[r].hidden?null:t.createElement(_a,null,n.displayName,"的",as.buffs[r].name,"效果消失了。")}renderBattleBreakCasting(e){let{who:n,what:r}=e;return t.createElement(_a,null,n.displayName,"的",r.name,"被打断了。")}},Jy=Qy(Gy.prototype,"rendered",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qy(Gy.prototype,"dispose",[Bt],Object.getOwnPropertyDescriptor(Gy.prototype,"dispose"),Gy.prototype),Gy);const nv=new tv;var rv=i(549),iv={};iv.styleTagTransform=sa(),iv.setAttributes=ra(),iv.insert=ta().bind(null,"head"),iv.domAPI=Zo(),iv.insertStyleElement=oa(),Xo()(rv.A,iv);const ov=rv.A&&rv.A.locals?rv.A.locals:void 0;var av=i(8451),sv={};sv.styleTagTransform=sa(),sv.setAttributes=ra(),sv.insert=ta().bind(null,"head"),sv.domAPI=Zo(),sv.insertStyleElement=oa(),Xo()(av.A,sv);const lv=av.A&&av.A.locals?av.A.locals:void 0,cv=[];let uv=0;function hv(n){++uv;const r=document.createElement("div");r.className=lv.root,document.body.appendChild(r);const i=n.props.onDismiss;(0,e.render)(t.cloneElement(n,{onDismiss:()=>{if(i&&i(),(0,e.unmountComponentAtNode)(r),document.body.removeChild(r),0==--uv)for(const e of cv.splice(0))e()}}),r)}var pv=i(8777),dv={};dv.styleTagTransform=sa(),dv.setAttributes=ra(),dv.insert=ta().bind(null,"head"),dv.domAPI=Zo(),dv.insertStyleElement=oa(),Xo()(pv.A,dv);const fv=pv.A&&pv.A.locals?pv.A.locals:void 0;var mv,gv,yv,vv;function bv(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function kv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wv(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let xv=ai((gv=class extends t.Component{constructor(){super(),bv(this,"scenePanel",yv,this),bv(this,"content",vv,this),kv(this,"eventKey",0),kv(this,"onScrollViewRef",(e=>{this.scrollView=e})),kv(this,"onPressResolve",null),kv(this,"onPress",(()=>{const{onPressResolve:e}=this;e&&(this.onPressResolve=null,e())})),kv(this,"back",(()=>{var e,t;null===(e=(t=this.props).onDismiss)||void 0===e||e.call(t)})),bn(this)}componentDidMount(){this.play()}async play(){var e,t;const n=function(e){const{script:t}=as.stories[e],n=t.split("\n"),r=[];let i=0;for(;i<n.length;i++){const e=n[i].trim().split(" ");if(!(e.length<=0)&&e[0]){if("{"===e[e.length-1]){const t=[];for(;i<n.length-1;){const e=n[++i];if("}"===e)break;t.push(e)}e[e.length-1]=t.join("\n")}r.push({type:e[0].toLowerCase(),args:e.slice(1)})}}return r}(this.props.story);for(const e of n)await this[e.type](...e.args);null===(e=(t=this.props).onDismiss)||void 0===e||e.call(t)}aside(e){return this.say(null,e)}async say(e,n){this.contentTop=0,Mt((()=>{this.content=t.createElement(Sa,{className:fv.content,key:++this.eventKey},e&&t.createElement(_a,{className:fv.name},"[",e,"]"),t.createElement(Sa,{className:fv.textContainer,ref:this.onScrollViewRef},t.createElement(_a,{className:fv.text},n)))}));let r=0;for(;;){await this.waitPress();const t=this.scrollView;if(!t)break;const n=t.scrollHeight;if(!(r+t.offsetHeight<n))break;r+=e?50:75,this.scrollView.scrollTop=r}Mt((()=>{this.content=null}))}async scene(e){this.scenePanel&&(this.scenePanel=t.createElement(Sa,{className:Wo(fv.scene,fv.hidden),key:++this.eventKey},t.createElement(_a,{className:fv.sceneLabel},e)),await this.wait(500)),e&&(this.scenePanel=t.createElement(Sa,{className:fv.scene,key:++this.eventKey},t.createElement(_a,{className:fv.sceneLabel},e))),await this.wait(500)}async wait(e){return new Promise((t=>{this.onPressResolve=t,setTimeout(t,+e)})).then((()=>{this.onPressResolve=null}))}waitPress(){return new Promise((e=>{this.onPressResolve=e}))}render(){return t.createElement(Sa,{className:fv.container,onClick:this.onPress},this.scenePanel,this.content,t.createElement(Ea,{className:fv.back,onPress:this.back},t.createElement(_a,{className:fv.backLabel},"跳过>>")))}},yv=wv(gv.prototype,"scenePanel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vv=wv(gv.prototype,"content",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mv=gv))||mv;var _v,Sv;function Ev(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Av=ai((function(e){let{map:n,endlessLevel:r=0,onChangeMap:i,children:o,noActive:a,getMaxCount:s}=e,{name:l}=n;r&&(l=l.replace("噩梦","噩梦"+(th[r]||r)));const c=!a&&$a((()=>(!r||r==kc._endlessLevel)&&kc.map===n.key)),u=$a((()=>kc.pendingMaps.findIndex((e=>e[0]==n.key&&e[1]==r))>=0));return t.createElement(Ea,{activeOpacity:.8,className:[ov.option,u&&ov.optionPending,c&&ov.optionActive],onPress:()=>i&&i(n),onLongPress:async()=>{const e=s();if(console.log(e),e<=1)return void(i&&i(n));const t=await oc(`输入数量(1-${e})`,"",`${e}`),r=Math.min(e,Math.max(0,0|t));for(let e=0;e<r;e++)i&&i(n)}},t.createElement(_a,{className:[ov.label,u&&ov.labelPending,c&&ov.labelActive]},l,o))}));function Dv(e){const{key:t,requirement:n}=e,{storiesMap:r}=qm;return"done"!==r.get(t)&&lg(n)}function Cv(e){const{player:t}=kc,{storiesMap:n}=qm;if("done"!==n.get(e.key)){n.set(e.key,"done");for(const n of Object.keys(e.awards||{}))if("purchaseRate"===n)qm.purchaseRate+=e.awards[n];else if("number"==typeof e.awards[n]){const r=t.awardInventory.find((e=>e.key===n));r?r.count+=e.awards[n]:t.awardInventory.push(new ah("award").fromJS({key:n,count:e.awards[n]}))}else{const{quality:r,affixes:i}=e.awards[n];t.awardInventory.push(new ah("award").fromJS({key:n,count:1,quality:r,affixes:i}))}qm.save(),t&&t.save()}}const Pv=Bt((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"full";if(uv>0)return;const n=Object.keys(as.stories).map((e=>as.stories[e])),{storiesMap:r}=qm;let i=!1;function o(){for(const e of qm.enemyTaskMap.keys()){const n=qm.enemyTaskMap.get(e);for(const r of n.keys())if(n.get(r)<=0){const o=as.stories[r];if(o.script)return void hv(t.createElement(xv,{story:o.key,onDismiss:()=>{n.delete(r),0===n.size&&qm.enemyTaskMap.delete(e),Cv(o),Rv()}}));n.delete(r),Cv(o),i=!0}0===n.size&&qm.enemyTaskMap.delete(e)}}for("kill"===e?o():i=!0;i;){i=!1,o();const e=n.filter(Dv);for(const n of e)if(n)if(n.taskType){if(!r.has(n.key))switch(r.set(n.key,"task"),n.taskType){case"kill":qm.addKillTask(n.key,n.enemy,n.killCount);break;case"purchase":break;default:console.warn(`Unknown task type ${n.taskType}`)}}else{if(n.script)return void hv(t.createElement(xv,{story:n.key,onDismiss:()=>{Cv(n),Rv()}}));Cv(n),i=!0}}}));function Rv(){var e;e=()=>{Pv()},0!=uv?cv.push(e):e()}function Ov(e){return!as.maps[e].requirement||lg(as.maps[e].requirement)}const Tv=ai((function(e){let{map:n,onChangeMap:r,showNoTicket:i}=e;const o=kc.player.countTicket(n.key);return(i?o>0:o<=0)?null:t.createElement(Av,{isDungeon:!0,map:n,onChangeMap:r,getMaxCount:()=>{const e=kc.pendingMaps.filter((e=>(as.maps[e[0]].group||e[0])===n.key)).length+((as.maps[kc.map].group||kc.map)===n.key?1:0);return o-e}},!i&&t.createElement(_a,{className:ov.cooldownCount},"x",`${o}`))})),Bv=[Object.keys(as.maps).filter((e=>"nightmare.1"===as.maps[e].group)),Object.keys(as.maps).filter((e=>"nightmare.2"===as.maps[e].group))],Fv=ai((function(e){let{level:n}=e;const r=kc.player.countTicket("nightmare."+n);if(!r)return null;const i=Bv[(n-1)%2];return t.createElement(Sa,{className:ov.endlessGroup},i.map((e=>t.createElement(Av,{key:e,isDungeon:!0,map:as.maps[e],endlessLevel:n,onChangeMap:()=>{!function(e,t){const n=kc.pendingMaps.filter((e=>e[1]===t)).length+(kc._endlessLevel===t?1:0),{player:r}=kc;if(r.countTicket("nightmare."+t)<=n)rc("提示","现在没有任何该等级的无尽噩梦钥石");else{if(kc.pendingMaps.length>0)return void kc.pendingMaps.splice(kc.pendingMaps.length-1,0,[e,t]);Mt((()=>{kc.pendingMaps.push([kc.map,0]),kc._map=e,kc._endlessLevel=t,kc.onMapChanged()}))}}(e,n)},getMaxCount:()=>r-0},t.createElement(_a,{className:ov.cooldownCount},"x",`${r}`)))))})),Mv=ai((function(){const e=qm.highestEndlessLevel,n=[];for(let r=1;r<=e;r++)n.push(t.createElement(Fv,{level:r,key:r}));return t.createElement(t.Fragment,null,n)}));let Nv=ai((Sv=class extends t.Component{constructor(){super(...arguments),Ev(this,"renderMap",(e=>{const n=as.maps[e];return t.createElement(Av,{map:n,key:e,onChangeMap:this.onChangeMap})})),Ev(this,"renderMapName",((e,n)=>{const r=as.maps[e[0]];return t.createElement(Av,{map:r,endlessLevel:e[1],key:"pending-"+n,onChangeMap:e=>this.cancelPendingMap(e,n),noActive:!0})})),Ev(this,"renderDungeon",(e=>t.createElement(Tv,{map:as.maps[e],key:e,onChangeMap:this.onEnterDungeonCheck}))),Ev(this,"renderDungeonNoTicket",(e=>t.createElement(Tv,{map:as.maps[e],key:e,onChangeMap:this.onEnterDungeonCheck,showNoTicket:!0}))),Ev(this,"cancelPendingMap",Bt(((e,t)=>{as.maps[e.key].isDungeon&&kc.pendingMaps.splice(t,1)}))),Ev(this,"onChangeMap",Bt(((e,t)=>{!t&&kc.pendingMaps.length>=1?rc("提示","是否确认离开进行中的地城？",[{text:"确认",onPress:()=>{this.onChangeMap(e,!0)}},{text:"取消"}]):kc.map!==e.key&&(kc.map=e.key,kc.pendingMaps.splice(0),Pv())}))),Ev(this,"onEnterDungeon",Bt((e=>{kc.pendingMaps.length>0?kc.pendingMaps.splice(kc.pendingMaps.length-1,0,[e.key,0]):(kc.pendingMaps.push([kc.map,0]),kc.map=e.key,Pv())}))),Ev(this,"onEnterDungeonCheck",(e=>{const t=e.group||e.key,n=kc.pendingMaps.filter((e=>(as.maps[e[0]].group||e[0])===t)).length+((as.maps[kc.map].group||kc.map)===t?1:0),{player:r}=kc;r.countTicket(t)<=n?e.resetPrice>0?rc("提示",`现在没有任何该副本的钥石，是否花费${e.resetPrice}神力兑换钥石？\n（在普通地图击杀怪物有几率获得钥石）`,[{text:"确认",onPress:()=>{this.buyTicket(e)}},{text:"取消"}]):rc("提示","您无法再次进入该副本。"):this.onEnterDungeon(e)}))}buyTicket(e){const{player:t}=kc;t.dungeonTickets.get(e.key)>=9999?rc("提示","该副本钥石数量已达上限，不能购买。"):qm.diamonds<e.resetPrice?rc("提示","神力不够？那这是有点不太好吧啊",[{text:"确认"},{text:"还是确认"}]):(qm.diamonds-=e.resetPrice,t.dungeonTickets.set(e.group||e.key,t.dungeonTickets.get(e.group||e.key)+1))}renderDungeonPhase(){const{enemyBorn:e,mapData:n}=kc;if(!e||null==e.currentPhase)return null;const{currentPhase:r}=e;return[t.createElement(Sa,{className:ov.section,key:"title"},t.createElement(_a,{className:ov.sectionTitle},"副本进度:",n.name)),...n.phases.map(((e,i)=>t.createElement(Sa,{key:`phase_${i}`,className:ov.phase},t.createElement(_a,{className:ov.phaseState},r===i&&">"),t.createElement(_a,{className:ov.phaseLabel},r>=i?n.phases[i].description:"???"))))]}render(){return t.createElement(Aa,{className:ov.panel,contentContainerClassName:ov.panelContent,bounces:!1},t.createElement(Sa,{className:ov.section},t.createElement(_a,{className:ov.sectionTitle},"地图")),Object.keys(as.maps).filter((e=>!as.maps[e].isDungeon)).filter((e=>Ov(e))).map(this.renderMap),qm.highestEndlessLevel>0&&t.createElement(Sa,{className:ov.section},t.createElement(_a,{className:ov.sectionTitle},"无尽副本")),t.createElement(Mv,null),t.createElement(Sa,{className:ov.section},t.createElement(_a,{className:ov.sectionTitle},"副本")),Object.keys(as.maps).filter((e=>as.maps[e].isDungeon&&!as.maps[e].isEndless)).filter((e=>Ov(e))).map(this.renderDungeon),this.renderDungeonPhase(),kc.pendingMaps.length>0&&t.createElement(Sa,{className:ov.section},t.createElement(_a,{className:ov.sectionTitle},"副本队列")),kc.pendingMaps.map(this.renderMapName),t.createElement(Sa,{className:ov.section},t.createElement(_a,{className:ov.sectionTitle},"副本（无钥石）")),Object.keys(as.maps).filter((e=>as.maps[e].isDungeon&&!as.maps[e].isEndless)).filter((e=>Ov(e))).map(this.renderDungeonNoTicket))}},Iv=Sv.prototype,jv="buyTicket",Hv=[Bt],Lv=Object.getOwnPropertyDescriptor(Sv.prototype,"buyTicket"),qv=Sv.prototype,zv={},Object.keys(Lv).forEach((function(e){zv[e]=Lv[e]})),zv.enumerable=!!zv.enumerable,zv.configurable=!!zv.configurable,("value"in zv||zv.initializer)&&(zv.writable=!0),zv=Hv.slice().reverse().reduce((function(e,t){return t(Iv,jv,e)||e}),zv),qv&&void 0!==zv.initializer&&(zv.value=zv.initializer?zv.initializer.call(qv):void 0,zv.initializer=void 0),void 0===zv.initializer&&(Object.defineProperty(Iv,jv,zv),zv=null),_v=Sv))||_v;var Iv,jv,Hv,Lv,qv,zv,Uv=i(1062),Vv={};Vv.styleTagTransform=sa(),Vv.setAttributes=ra(),Vv.insert=ta().bind(null,"head"),Vv.domAPI=Zo(),Vv.insertStyleElement=oa(),Xo()(Uv.A,Vv);const Kv=Uv.A&&Uv.A.locals?Uv.A.locals:void 0;function Yv(e){let{value:n,maxValue:r,bgColor:i,barColor:o,className:a}=e;const s=r>0?n/r:1;return t.createElement(Sa,{className:[Kv.container,a],style:{backgroundColor:i}},t.createElement(Sa,{className:Kv.round,style:{flex:s,backgroundColor:o}}),t.createElement(Sa,{className:{flex:1-s}}))}var $v=i(9982),Wv={};Wv.styleTagTransform=sa(),Wv.setAttributes=ra(),Wv.insert=ta().bind(null,"head"),Wv.domAPI=Zo(),Wv.insertStyleElement=oa(),Xo()($v.A,Wv);const Gv=$v.A&&$v.A.locals?$v.A.locals:void 0;function Jv(e){let{value:n,maxValue:r,bgColor:i,activeColor:o}=e;const a=[];for(let e=0;e<r;e++)a.push(e);return t.createElement(Sa,{className:Gv.container},a.map(((e,r)=>t.createElement(Sa,{className:Gv.content,key:r},t.createElement(Sa,{className:Gv.point,style:{backgroundColor:n-1<r?i:o}})))))}const Xv=ai((function(e){let{unit:n,className:r}=e;return t.createElement(Yv,{className:r,value:n.hp,maxValue:n.maxHp,bgColor:"#ddd",barColor:"red"})})),Qv=ai((function(e){let{unit:n,className:r}=e;return t.createElement(Yv,{className:r,value:n.mp,maxValue:n.maxMp,bgColor:"#ddd",barColor:"blue"})})),Zv=ai((function(e){let{unit:n,className:r}=e;return t.createElement(Yv,{className:r,value:n.rp,maxValue:n.maxRp,bgColor:"#ddd",barColor:"#DC143C"})})),eb=ai((function(e){let{unit:n,className:r}=e;return t.createElement(Yv,{className:r,value:n.ep,maxValue:n.maxEp,bgColor:"#ddd",barColor:"#10A78F"})})),tb=ai((function(e){let{unit:n,className:r}=e;return t.createElement(Yv,{className:r,value:n.fp,maxValue:n.maxFp,bgColor:"#ddd",barColor:"red"})})),nb=ai((function(e){let{unit:n,className:r}=e;return t.createElement(Yv,{className:r,value:n.cp,maxValue:n.maxCp,bgColor:"#ddd",barColor:"blue"})})),rb=ai((function(e){let{unit:n,className:r}=e;return t.createElement(Yv,{className:r,value:n.exp,maxValue:n.maxExp,bgColor:"#ddd",barColor:"yellow"})})),ib=ai((function(e){let{unit:n,className:r}=e;return n.casting||n.reading?t.createElement(Yv,{className:r,value:n.castingRest,maxValue:n.castingTime,bgColor:"#ddd",barColor:"#999"}):null})),ob=ai((function(e){let{unit:n}=e;const r=n.runAttrHooks(3,"maxComboPoint");return t.createElement(Jv,{value:n.comboPoint,maxValue:r,bgColor:"#ccc",activeColor:"#f37800"})}));var ab=i(7373),sb={};sb.styleTagTransform=sa(),sb.setAttributes=ra(),sb.insert=ta().bind(null,"head"),sb.domAPI=Zo(),sb.insertStyleElement=oa(),Xo()(ab.A,sb);const lb=ab.A&&ab.A.locals?ab.A.locals:void 0;var cb,ub;function hb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const pb=ai((function(e){let{unit:n}=e;return t.createElement(Ea,{className:[lb.unit,lb[Ts("unit-"+n.camp)]],onPress:()=>kc.focusEnemy(n),activeOpacity:.8},t.createElement(xg,{className:lb.name,unit:n,field:"displayName",numberOfLines:1}),t.createElement(Xv,{unit:n,className:lb.bar}),n.maxMp>0&&t.createElement(Qv,{unit:n,className:lb.bar}),n.maxRp>0&&t.createElement(Zv,{unit:n,className:lb.bar}),n.maxEp>0&&t.createElement(eb,{unit:n,className:lb.bar}),(n.player&&"knight"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(ob,{unit:n}),(n.player&&"lv80.sorceress5"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(ob,{unit:n}),(n.player&&"tielaolv"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(ob,{unit:n}),(n.player&&"yijinjing"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(ob,{unit:n}),(n.player&&"xisuijing"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(ob,{unit:n}),(n.player&&"zixiagong"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(ob,{unit:n}),(n.player&&"taixujianyi"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(ob,{unit:n}),(n.player&&"qixiu"===n.player.role||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(ob,{unit:n}),t.createElement(_a,{numberOfLines:1,className:lb.target},"目标：",t.createElement(xg,{unit:n,field:"targetDisplayName"})),t.createElement(Sa,{className:lb.spacer}),t.createElement(xg,{className:lb.casting,unit:n,field:"castingName"}),t.createElement(ib,{unit:n,className:lb.bar}))}));let db=ai(cb=class extends t.PureComponent{constructor(){super(...arguments),hb(this,"scrollRef",t.createRef())}componentDidMount(){const e=this.scrollRef.current;e&&(e.scrollTop=e.scrollHeight-e.offsetHeight)}componentDidUpdate(){const e=this.scrollRef.current;e&&(e.scrollTop=e.scrollHeight-e.offsetHeight)}render(){return t.createElement(Aa,{className:lb.messageList,contentContainerClassName:lb.content,ref:this.scrollRef},nv.rendered.slice(-200).map((e=>e.jsx)))}})||cb,fb=ai(ub=class extends t.Component{constructor(){super(...arguments),hb(this,"renderUnit",(e=>t.createElement(pb,{unit:e,key:e.key})))}render(){return t.createElement(Sa,{className:lb.container},t.createElement(Aa,{className:lb.panel,contentContainerClassName:lb.panelContent,bounces:!1},kc.units.map(this.renderUnit)),t.createElement(db,null))}})||ub;var mb=i(1180),gb={};gb.styleTagTransform=sa(),gb.setAttributes=ra(),gb.insert=ta().bind(null,"head"),gb.domAPI=Zo(),gb.insertStyleElement=oa(),Xo()(mb.A,gb);const yb=mb.A&&mb.A.locals?mb.A.locals:void 0;var vb;function bb(){return t.createElement(Sa,{className:yb.seperator})}let kb=ai(vb=class extends t.Component{render(){const{unit:e}=this.props,n=($a((()=>e.player.level>=1)),$a((()=>e.player.level>=1))),r=e.runAttrHooks(3,"maxComboPoint");return t.createElement(Aa,{className:yb.panel},t.createElement(_a,null,t.createElement(xg,{className:yb.name,unit:e,field:"displayName"}),t.createElement(_g,{unit:e.player,field:"level"}),"级",t.createElement(xg,{unit:e.player,field:"careerName"}),n&&t.createElement(_a,{className:yb.blue},"( 巅峰等级：",t.createElement(_g,{unit:e.player,field:"peakLevel"})," )")),t.createElement(Sa,{className:yb.row},t.createElement(Sa,{className:yb.column},t.createElement(_a,null,"生命值: ",t.createElement(_g,{unit:e,field:"hp"})," /"," ",t.createElement(_g,{unit:e,field:"maxHp"})),t.createElement(Xv,{unit:e}),e.maxMp>0&&t.createElement(_a,null,"法力值: ",t.createElement(_g,{unit:e,field:"mp"})," /"," ",t.createElement(_g,{unit:e,field:"maxMp"})),e.maxMp>0&&t.createElement(Qv,{unit:e}),e.maxRp>0&&t.createElement(_a,null,"怒气: ",t.createElement(_g,{unit:e,field:"rp"})," /"," ",t.createElement(_g,{unit:e,field:"maxRp"})),e.maxRp>0&&t.createElement(Zv,{unit:e}),e.player&&"wanhua"===e.player.role&&t.createElement(_a,null,"墨意: ",t.createElement(_g,{unit:e,field:"rp"})," /"," ",t.createElement(_g,{unit:e,field:"maxRp"})),e.player&&"wanhua"===e.player.role&&t.createElement(Zv,{unit:e}),e.maxEp>0&&t.createElement(_a,null,"能量: ",t.createElement(_g,{unit:e,field:"ep"})," /"," ",t.createElement(_g,{unit:e,field:"maxEp"})),e.maxEp>0&&t.createElement(eb,{unit:e}),e.maxFp>0&&t.createElement(_a,null,"火能: ",t.createElement(_g,{unit:e,field:"fp"})," /"," ",t.createElement(_g,{unit:e,field:"maxFp"})),e.maxFp>0&&t.createElement(tb,{unit:e}),e.maxCp>0&&t.createElement(_a,null,"冰能: ",t.createElement(_g,{unit:e,field:"cp"})," /"," ",t.createElement(_g,{unit:e,field:"maxCp"})),e.maxCp>0&&t.createElement(nb,{unit:e}),e.player&&"knight"===e.player.currentCareer&&t.createElement(_a,null,"圣能: ",t.createElement(_g,{unit:e,field:"comboPoint"})," / ",r),e.player&&"knight"===e.player.currentCareer&&t.createElement(ob,{unit:e}),e.player&&"qixiu"===e.player.role&&t.createElement(_a,null,"剑舞: ",t.createElement(_g,{unit:e,field:"comboPoint"})," / ",r),e.player&&"qixiu"===e.player.role&&t.createElement(ob,{unit:e}),e.player&&"lv80.sorceress5"===e.player.currentCareer&&t.createElement(_a,null,"电能: ",t.createElement(_g,{unit:e,field:"comboPoint"})," / ",r),e.player&&"lv80.sorceress5"===e.player.currentCareer&&t.createElement(ob,{unit:e}),e.player&&"yijinjing"===e.player.currentCareer&&t.createElement(_a,null,"禅那: ",t.createElement(_g,{unit:e,field:"comboPoint"})," / ",r),e.player&&"yijinjing"===e.player.currentCareer&&t.createElement(ob,{unit:e}),e.player&&"zixiagong"===e.player.currentCareer&&t.createElement(_a,null,"气: ",t.createElement(_g,{unit:e,field:"comboPoint"})," / ",r),e.player&&"zixiagong"===e.player.currentCareer&&t.createElement(ob,{unit:e}),t.createElement(_a,null,"经验: ",t.createElement(_g,{unit:e,field:"exp"})," /"," ",t.createElement(_g,{unit:e,field:"maxExp"})),t.createElement(rb,{unit:e})),t.createElement(Sa,{className:yb.column},t.createElement(_a,null,"力量: ",t.createElement(_g,{unit:e,field:"str"})," "),t.createElement(_a,null,"敏捷: ",t.createElement(_g,{unit:e,field:"dex"})," "),t.createElement(_a,null,"智力: ",t.createElement(_g,{unit:e,field:"int"})," "),t.createElement(_a,null,"耐力: ",t.createElement(_g,{unit:e,field:"sta"})," "))),t.createElement(Sa,{className:yb.row},t.createElement(Sa,{className:yb.column},t.createElement(_a,null,"攻击力: ",t.createElement(Sg,{unit:e,field:"atk"})," "),t.createElement(_a,null,"暴击等级: ",t.createElement(Sg,{unit:e,field:"critR_level"})," "),t.createElement(_a,null,"暴击伤害等级: ",t.createElement(Sg,{unit:e,field:"critB_level"})," "," "),t.createElement(bb,null),t.createElement(_a,null,"物理伤害: ",t.createElement(Sg,{unit:e,field:"dmgLevel"})," "),t.createElement(_a,null,"火焰伤害: ",t.createElement(Sg,{unit:e,field:"firedmgLevel"})," "),t.createElement(_a,null,"寒冷伤害: ",t.createElement(Sg,{unit:e,field:"colddmgLevel"})," "),t.createElement(_a,null,"闪电伤害: ",t.createElement(Sg,{unit:e,field:"lightningdmgLevel"})," "),t.createElement(_a,null,"毒素伤害: ",t.createElement(Sg,{unit:e,field:"poisondmgLevel"})," "),t.createElement(_a,null,"光伤害: ",t.createElement(Sg,{unit:e,field:"lightdmgLevel"})," "),t.createElement(_a,null,"暗伤害: ",t.createElement(Sg,{unit:e,field:"darkdmgLevel"})," "),t.createElement(bb,null),t.createElement(_a,null,"闪避值: ",t.createElement(Sg,{unit:e,field:"miss_shanbizhi"})," "),t.createElement(_a,null,"物理防御: ",t.createElement(Sg,{unit:e,field:"def"})," "),t.createElement(_a,null,"火焰抗性: ",t.createElement(Sg,{unit:e,field:"fireResist"})," "," "),t.createElement(_a,null,"寒冷抗性: ",t.createElement(Sg,{unit:e,field:"coldResist"})," "," "),t.createElement(_a,null,"闪电抗性: ",t.createElement(Sg,{unit:e,field:"lightningResist"})," "," "),t.createElement(_a,null,"毒素抗性: ",t.createElement(Sg,{unit:e,field:"poisonResist"})," "," "),t.createElement(_a,null,"光抗性: ",t.createElement(Sg,{unit:e,field:"lightResist"})," "," "),t.createElement(_a,null,"暗抗性: ",t.createElement(Sg,{unit:e,field:"darkResist"})," "," "),t.createElement(bb,null),t.createElement(_a,null,"生命值恢复: ",t.createElement(Sg,{unit:e,field:"hpRecovery"}),"/s"," "),t.createElement(_a,null,"法力值恢复: ",t.createElement(Sg,{unit:e,field:"mpRecovery"}),"/s"," "),t.createElement(_a,null,"生命汲取: ",t.createElement(Sg,{unit:e,field:"leech"})," "),t.createElement(_a,null,"法力汲取: ",t.createElement(Sg,{unit:e,field:"leech2"})," "),t.createElement(_a,null,"经验加成:"," ","+",t.createElement(Sg,{unit:e,field:"expInc",mul:100,inc:-1}),"%"," "),t.createElement(_a,null,"熟练度加成:"," ","+",t.createElement(Sg,{unit:e,field:"skillExpInc",mul:100,inc:-1}),"%"," "),t.createElement(_a,null,"运气:"," ",t.createElement(Sg,{unit:e,field:"mf",mul:100,inc:-1}),"%"," "),t.createElement(bb,null)),t.createElement(Sa,{className:yb.column},t.createElement(_a,null,"急速:"," ",t.createElement(Sg,{unit:e,field:"speedRate",mul:100,inc:-1}),"%"," "),t.createElement(_a,null,"有 ",t.createElement(Sg,{unit:e,field:"critRate",mul:100}),"%几率伤害暴击 "," "),t.createElement(_a,null,"暴击时造成 ",t.createElement(Sg,{unit:e,field:"critBonus",mul:100}),"% 伤害"," "),t.createElement(bb,null),t.createElement(_a,null,"提高 ",t.createElement(Sg,{unit:e,field:"dmgAdd",mul:100,inc:-1}),"% 物理伤害"," "),t.createElement(_a,null,"提高 ",t.createElement(Sg,{unit:e,field:"firedmgAdd",mul:100,inc:-1}),"% 火焰伤害"," "),t.createElement(_a,null,"提高 ",t.createElement(Sg,{unit:e,field:"colddmgAdd",mul:100,inc:-1}),"% 寒冷伤害"," "),t.createElement(_a,null,"提高 ",t.createElement(Sg,{unit:e,field:"lightningdmgAdd",mul:100,inc:-1}),"% 闪电伤害"," "),t.createElement(_a,null,"提高 ",t.createElement(Sg,{unit:e,field:"poisondmgAdd",mul:100,inc:-1}),"% 毒素伤害"," "),t.createElement(_a,null,"提高 ",t.createElement(Sg,{unit:e,field:"lightdmgAdd",mul:100,inc:-1}),"% 光伤害"," "),t.createElement(_a,null,"提高 ",t.createElement(Sg,{unit:e,field:"darkdmgAdd",mul:100,inc:-1}),"% 暗伤害"," "),t.createElement(bb,null),t.createElement(_a,null,"有 ",t.createElement(Sg,{unit:e,field:"dodgeRate",mul:100}),"% 几率闪避"," "),t.createElement(_a,null,"减少 ",t.createElement(Sg,{unit:e,field:"defRate",mul:100}),"% 物理伤害"," "),t.createElement(_a,null,"减少 ",t.createElement(Sg,{unit:e,field:"fireResRate",mul:100}),"% 火焰伤害"," "),t.createElement(_a,null,"减少 ",t.createElement(Sg,{unit:e,field:"coldResRate",mul:100}),"% 寒冷伤害"," "),t.createElement(_a,null,"减少 ",t.createElement(Sg,{unit:e,field:"lightningResRate",mul:100}),"% 闪电伤害"," "),t.createElement(_a,null,"减少 ",t.createElement(Sg,{unit:e,field:"poisonResRate",mul:100}),"% 毒素伤害"," "),t.createElement(_a,null,"减少 ",t.createElement(Sg,{unit:e,field:"lightResRate",mul:100}),"% 光伤害"," "),t.createElement(_a,null,"减少 ",t.createElement(Sg,{unit:e,field:"darkResRate",mul:100}),"% 暗伤害"," "),t.createElement(bb,null),t.createElement(_a,null,"物理吸收: ",t.createElement(Sg,{unit:e,field:"meleeAbsorb",mul:100}),"%"," "),t.createElement(_a,null,"火焰吸收: ",t.createElement(Sg,{unit:e,field:"fireAbsorb",mul:100}),"%"," "),t.createElement(_a,null,"寒冷吸收: ",t.createElement(Sg,{unit:e,field:"coldAbsorb",mul:100}),"%"," "),t.createElement(_a,null,"闪电吸收: ",t.createElement(Sg,{unit:e,field:"lightningAbsorb",mul:100}),"%"," "),t.createElement(_a,null,"毒素吸收: ",t.createElement(Sg,{unit:e,field:"poisonAbsorb",mul:100}),"%"," "),t.createElement(_a,null,"光吸收: ",t.createElement(Sg,{unit:e,field:"lightAbsorb",mul:100}),"%"," "),t.createElement(_a,null,"暗吸收: ",t.createElement(Sg,{unit:e,field:"darkAbsorb",mul:100}),"%"," "))))}})||vb;var wb=i(6360),xb={};xb.styleTagTransform=sa(),xb.setAttributes=ra(),xb.insert=ta().bind(null,"head"),xb.domAPI=Zo(),xb.insertStyleElement=oa(),Xo()(wb.A,xb);const _b=wb.A&&wb.A.locals?wb.A.locals:void 0;var Sb,Eb;function Ab(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Db=i(1484);let Cb=ai((function(e,t,n,r,i){var o={};Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((Eb=class extends t.Component{constructor(){super(...arguments),Ab(this,"selectedItem",Re(null)),Ab(this,"dispose",void 0),Ab(this,"onLeftPressed",Bt((()=>{kc.player&&kc.player.save(),kc.dispose(),qm.save(),nv.dispose(),qm.currentPlayer=null,rw.navigate("/player/choose")}))),Ab(this,"onMessage",(e=>{let{type:t}=e;"battle.death"===t&&Pv()})),Ab(this,"skipForward",(()=>{rc("提示","跳过挂机的时间不能被恢复，你也不能获取到这段时间的金币、经验和装备，是否确认？",[{text:"取消"},{text:"确认",onPress:()=>kc.skipForward()}])}))}componentDidMount(){if(qm.lastVersion!==Db.version)return qm.lastVersion=Db.version,void setTimeout((()=>{rw.navigate("/story/annoucement")}),1e3);Rv(),this.dispose=Fs.addListener("message",this.onMessage)}componentWillUnmount(){this.dispose&&this.dispose.remove()}get pendingTimeLabel(){return kc.pendingTime>=36e5?(kc.pendingTime/3600/1e3).toFixed(1)+"小时":(kc.pendingTime/60/1e3).toFixed(1)+"分钟"}render(){const{player:e}=kc;return kc.paused||!e?t.createElement(Jm,{title:"战斗",leftNavTitle:"切换人物",onLeftPressed:this.onLeftPressed},t.createElement(Sa,{className:[_b.container,_b.centerContainer]},t.createElement(_a,null,"当你不在的时候，时光依然飞逝。剩余",this.pendingTimeLabel),t.createElement(_a,{className:_b.skipFoward,onPress:this.skipForward},"我只是想杀杀怪物。。（跳过）"))):t.createElement(Jm,{title:"战斗",leftNavTitle:"切换人物",onLeftPressed:this.onLeftPressed},t.createElement(Sa,{className:_b.container},t.createElement(Cg,{className:_b.container},t.createElement(fb,{tabLabel:"单位"}),kc.units.filter((e=>e.player)).map(((e,n)=>t.createElement(kb,{key:n,unit:e,tabLabel:e.name}))),t.createElement(Nv,{tabLabel:"地图"})),t.createElement(Sy,{selected:this.selectedItem,inventory:e.awardInventory})))}}).prototype,"pendingTimeLabel",[Fe],Object.getOwnPropertyDescriptor(Eb.prototype,"pendingTimeLabel"),Eb.prototype),Sb=Eb))||Sb;var Pb=i(8945),Rb={};Rb.styleTagTransform=sa(),Rb.setAttributes=ra(),Rb.insert=ta().bind(null,"head"),Rb.domAPI=Zo(),Rb.insertStyleElement=oa(),Xo()(Pb.A,Rb);const Ob=Pb.A&&Pb.A.locals?Pb.A.locals:void 0;var Tb;function Bb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Fb=ai((function(){const{player:e}=kc;return 0===e.careerInfo.selectedSkills.length?t.createElement(Sa,{className:Ob.selectedList},t.createElement(_a,null,"未选择任何主动技能，该角色将不会行动。")):t.createElement(Sa,{className:Ob.selectedList},e.careerInfo.selectedSkills.map(((n,r)=>{const i=as.skills[n],o=e.skillExp.get(i.expGroup||n);return t.createElement(Sa,{key:r,className:Ob.selectedSkill},t.createElement(_a,{className:Ob.order},r+1),t.createElement(Sa,null,t.createElement(_a,null,i.name),t.createElement(_a,null,o.level,"级")))})))})),Mb=ai((function(e){let{level:n,skill:r}=e;const{player:i,playerUnit:o}=kc,a=as.skills[r],s=i.skillExp.get(a.expGroup||r),l=$a((()=>i.careerInfo.selectedSkills.length)),c=$a((()=>i.careerInfo.selectedSkills.indexOf(r))),u=c>=0||l<i.maxSkillCount&&n<=i.level,h=$a((()=>as.skills[r].group&&-1===c&&i.careerInfo.selectedSkills.find((e=>as.skills[e].group===as.skills[r].group)))),p=(!u||!!h)&&c<0;let{coolDown:d,description:f,cost:m,halo:g}=a,y=null;return"function"==typeof d&&(d=d(s.level,o)),"function"==typeof f&&(f(s.level+1,kc.playerUnit),f=f(s.level,kc.playerUnit)),t.createElement(Ea,{className:[Ob.skillItem,p&&Ob.skillItemDisabled],activeOpacity:.8,disabled:p,onPress:()=>{c>=0?kc.unselectSkill(r):l<i.maxSkillCount&&kc.selectSkill(r)}},t.createElement(Sa,{className:Ob.skillItemMain},t.createElement(_a,{className:Ob.skillName},a.name),c>=0&&t.createElement(_a,null,"顺序：",c+1),n<=i.level&&h&&t.createElement(_a,null,"冲突: ",as.skills[h].name),t.createElement(Sa,{className:Ob.spacer}),s.level>=50&&t.createElement(_a,null,"满级"),s.level<50&&t.createElement(_a,null,"熟练度: ",0|s.exp,"/",a.maxExp(s.level))),t.createElement(Sa,{className:Ob.row},n>i.level&&t.createElement(_a,{className:Ob.textMargin},"需达到",n,"级"),n<=i.level&&t.createElement(_a,{className:Ob.textMargin},"等级：",s.level),g&&t.createElement(_a,{className:Ob.textMargin},"光环技能"),d&&!g&&t.createElement(_a,{className:Ob.textMargin},"冷却时间：",(d/1e3).toFixed(1),"秒"),m&&m.mp&&t.createElement(_a,{className:Ob.textMargin},"消耗法力 ",function(e){return"function"==typeof e?0|e(kc.player):0|e}(m.mp))),t.createElement(_a,{className:Ob.textMargin},f))}));let Nb=ai(Tb=class extends t.Component{constructor(){super(...arguments),Bb(this,"onLeftPressed",(()=>{kc.player&&kc.player.save(),qm.save(),rw.navigate("/career/choose")})),Bb(this,"onRightPressed",(()=>{rw.navigate("/career/enhances")}))}render(){const{player:e}=kc,{maxSkillCount:n,nextSkillUnlockLevel:r}=e;return t.createElement(Jm,{title:"主动技能",leftNavTitle:"职业",rightNavTitle:"被动技能",onLeftPressed:this.onLeftPressed,onRightPressed:this.onRightPressed},t.createElement(Sa,{className:Ob.container},t.createElement(Fb,null),t.createElement(Sa,null,t.createElement(_a,null,"最多携带",n,"个主动技能，",r&&t.createElement(_a,null,"下一个主动技能位置将在",e.nextSkillUnlockLevel,"级解锁。"))),t.createElement(Aa,null,Object.keys(e.careerData.skills).map((n=>t.createElement(Mb,{level:e.careerData.skills[n],skill:n,key:n}))))))}})||Tb;var Ib=i(5678),jb={};jb.styleTagTransform=sa(),jb.setAttributes=ra(),jb.insert=ta().bind(null,"head"),jb.domAPI=Zo(),jb.insertStyleElement=oa(),Xo()(Ib.A,jb);const Hb=Ib.A&&Ib.A.locals?Ib.A.locals:void 0;var Lb;function qb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let zb=ai(Lb=class extends t.Component{constructor(){super(...arguments),qb(this,"dataSource",new Ca.DataSource({rowHasChanged:(e,t)=>e!==t})),qb(this,"onRightPressed",(()=>{rw.navigate("/story/purchase")})),qb(this,"renderRow",(e=>t.createElement(Ea,{className:Hb.item,onPress:()=>this.playStory(e)},t.createElement(_a,{className:Hb.itemLabel},e.name))))}playStory(e){hv(t.createElement(xv,{story:e.key}))}render(){return t.createElement(Jm,{title:"故事",rightNavTitle:"日志",onRightPressed:this.onRightPressed},t.createElement(Ca,{className:Hb.container,dataSource:this.dataSource.cloneWithRows([...qm.storiesMap.keys()].filter((e=>"done"===qm.storiesMap.get(e))).map((e=>as.stories[e])).filter((e=>e&&e.script))),renderRow:this.renderRow}))}})||Lb;var Ub;function Vb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Kb={battle:t.createElement(Cb,null),inventory:t.createElement(Ky,null),skills:t.createElement(Nb,null),produce:t.createElement(Ey,null),stories:t.createElement(zb,null)},Yb=Re.box("battle");let $b=ai(Ub=class extends t.Component{constructor(){super(...arguments),Vb(this,"onVisibilityChange",(()=>{"hidden"===document.visibilityState?(console.log("pause"),kc.pause()):(console.log("resume"),kc.resumeGame())})),Vb(this,"handleTabChange",Bt((e=>{Yb.set(e)})))}componentDidMount(){document.addEventListener("visibilitychange",this.onVisibilityChange)}componentWillUnmount(){document.removeEventListener("visibilitychange",this.onVisibilityChange)}render(){const e=Yb.get();return t.createElement(kg,{active:e,onChange:this.handleTabChange},Kb[e])}})||Ub;var Wb=i(8060),Gb={};Gb.styleTagTransform=sa(),Gb.setAttributes=ra(),Gb.insert=ta().bind(null,"head"),Gb.domAPI=Zo(),Gb.insertStyleElement=oa(),Xo()(Wb.A,Gb);const Jb=Wb.A&&Wb.A.locals?Wb.A.locals:void 0;var Xb,Qb;let Zb=ai((ek=Qb=class extends t.Component{render(){return t.createElement(Jm,{title:"更新日志",back:!0},t.createElement(Aa,null,t.createElement(_a,{className:Jb.content},hg().description)))}},nk="更新日志",tk=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(tk="title"),tk in ek?Object.defineProperty(ek,tk,{value:nk,enumerable:!0,configurable:!0,writable:!0}):ek[tk]=nk,Xb=Qb))||Xb;var ek,tk,nk,rk=i(8874),ik={};ik.styleTagTransform=sa(),ik.setAttributes=ra(),ik.insert=ta().bind(null,"head"),ik.domAPI=Zo(),ik.insertStyleElement=oa(),Xo()(rk.A,ik);const ok=rk.A&&rk.A.locals?rk.A.locals:void 0;var ak,sk,lk,ck;function uk(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function hk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pk(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let dk=ai((sk=class extends t.Component{constructor(){super(...arguments),uk(this,"loading",lk,this),uk(this,"products",ck,this),hk(this,"renderProductTitle",(e=>{const n=qm.getProductName(e.identifier);return n===e.title?t.createElement(_a,{className:ok.title},n):t.createElement(_a,{className:ok.title},t.createElement(_a,{className:ok.deleteLine},e.title),"\n",n)})),hk(this,"renderProduct",(e=>t.createElement(Ea,{key:e.identifier,style:ok.item,onPress:()=>this.purchase(e)},this.renderProductTitle(e),t.createElement(Sa,{className:ok.column},t.createElement(_a,{className:ok.price},e.priceString),t.createElement(_a,{className:ok.desc},e.description)))))}async componentDidMount(){}purchase(e){let{identifier:t}=e;alert("此路不通")}render(){return t.createElement(Jm,{title:"创世神商店",back:!0},t.createElement(Sa,{className:[ok.container,ok.center]},t.createElement(_a,null,"此路暂时不通")))}},lk=pk(sk.prototype,"loading",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ck=pk(sk.prototype,"products",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ak=sk))||ak;var fk=i(3087),mk={};mk.styleTagTransform=sa(),mk.setAttributes=ra(),mk.insert=ta().bind(null,"head"),mk.domAPI=Zo(),mk.insertStyleElement=oa(),Xo()(fk.A,mk);const gk=fk.A&&fk.A.locals?fk.A.locals:void 0;function yk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class vk extends t.Component{constructor(){super(...arguments),yk(this,"state",{active:this.props.selectedIndex}),yk(this,"onPress",(e=>{this.setState({active:e}),this.props.onChange(e)}))}item(e,n){return t.createElement(Ea,{className:[gk.item,this.state.active==n&&gk.active],onPress:()=>this.onPress(n),key:n},t.createElement(_a,{className:[gk.label,this.state.active==n&&gk.active]},e))}render(){return t.createElement(Sa,{className:gk.contain},this.props.values.map(((e,t)=>this.item(e,t))))}}var bk=i(3912),kk={};kk.styleTagTransform=sa(),kk.setAttributes=ra(),kk.insert=ta().bind(null,"head"),kk.domAPI=Zo(),kk.insertStyleElement=oa(),Xo()(bk.A,kk);const wk=bk.A&&bk.A.locals?bk.A.locals:void 0;var xk,_k;function Sk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ek={};for(const e in as.goods){const t=as.goods[e];t.class&&(Ek[t.class]=Ek[t.class]||[1,1,2,2,0])}const Ak={sword:"长剑",swordshield:"剑盾",spear:"长枪",spearshield:"枪盾",machete:"双刀",macheteshield:"刀盾",wand:"法杖",cloth:"布甲",lightArmor:"轻甲",armor:"重甲",ornament:"首饰",longsword:"太刀"},Dk=ai((function(e){let{clazz:n,quality:r}=e;const{player:i}=kc;let o=i.lootRule.get(n);o||(i.lootRule.set(n,[1,1,2,2,0]),o=i.lootRule.get(n));const a=o?o[r]:1;return t.createElement(vk,{values:r>1?["拾取","出售","拆解"]:["拾取","出售"],selectedIndex:a,onChange:Bt((e=>{let t=i.lootRule.get(n);t||(i.lootRule.set(n,[1,1,2,2,0]),t=i.lootRule.get(n)),console.log(1,i.lootRule),t[r]=e}))})})),Ck=ai((function(){const{player:e}=kc;return t.createElement(Sa,null,t.createElement(Sa,{className:wk.header},t.createElement(_a,{className:wk.headerFont},"装备品级筛选")),t.createElement(Sa,{className:[wk.row,wk.titleView]},t.createElement(_a,{className:wk.sliderTitle},"自动拆解低于",e.minLootLevel,"品的装备："),t.createElement(wa,{className:wk.flex1,value:e.minLootLevel,onValueChange:t=>e.minLootLevel=t,min:1})))}));let Pk=ai((_k=class extends t.Component{constructor(){super(...arguments),Sk(this,"renderSectionHeader",(e=>t.createElement(Sa,{className:wk.header},t.createElement(_a,{className:wk.headerFont},Ak[e]||e," ")))),Sk(this,"renderRow",((e,n)=>t.createElement(Sa,{className:[wk.row,wk.titleView],key:n},t.createElement(_a,{className:[wk.title,Oy[n]]},Ty[n]),t.createElement(Dk,{clazz:e,quality:0|n})))),Sk(this,"renderHeader",(()=>t.createElement(Ck,null)))}qualityColor(e){return"普通"===e?"black":"优秀"===e?"#aaf":"精良"===e?"#ffa":"史诗"===e?"#fda":"传说"===e?"#afd":void 0}render(){return t.createElement(Jm,{title:"拾取规则",back:!0},t.createElement(Sa,{className:wk.container},t.createElement(Aa,{className:wk.flex1},this.renderHeader(),Object.entries(Ek).map((e=>{let[n,r]=e;return t.createElement(Sa,{key:n},this.renderSectionHeader(n),r.map(((e,t)=>this.renderRow(n,t))))})))))}},Sk(_k,"title","拾取规则"),xk=_k))||xk;var Rk=i(762),Ok={};Ok.styleTagTransform=sa(),Ok.setAttributes=ra(),Ok.insert=ta().bind(null,"head"),Ok.domAPI=Zo(),Ok.insertStyleElement=oa(),Xo()(Rk.A,Ok);const Tk=Rk.A&&Rk.A.locals?Rk.A.locals:void 0;var Bk;function Fk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Mk=Bt((function(){const e=as.upgrades.bankByDiamonds[qm.bank.length];qm.diamonds<e?rc("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{rw.navigate("/purchase")}},{text:"取消"}]):(qm.diamonds-=e,qm.bank.push(new ah("bank")))}));let Nk=ai(Bk=class extends t.Component{constructor(){super(...arguments),Fk(this,"selectedItem",Re(null)),Fk(this,"renderRow",((e,n)=>t.createElement(By,{onPress:()=>this.selectedItem.set(e),key:n,slot:e})))}renderEquip(e){return this.renderRow(kc.player.equipments[e],e)}render(){const{player:e}=kc;return t.createElement(Jm,{title:"仓库",back:!0},t.createElement(Sa,{className:Tk.container},t.createElement(Aa,{className:Tk.flex1,contentContainerClassName:Tk.content},t.createElement(Vy,{onPress:()=>e.sortInventory(qm.bank)},"整理仓库"),qm.bank.map(this.renderRow),qm.bank.length<as.upgrades.bankByDiamonds.length&&t.createElement(zy,{onPress:()=>(navigator,void rc("提示",`是否使用创世神的力量扩张物品空间，继续扩张背包消耗${as.upgrades.bankByDiamonds[qm.bank.length]}神力，是否继续？`,[{text:"确认",onPress:()=>Mk()},{text:"取消"}]))},"+")),t.createElement(jy,{selected:this.selectedItem,type:"bank"}),t.createElement(Aa,{className:Tk.flex2,contentContainerClassName:Tk.content},t.createElement(Vy,{onPress:()=>e.sortInventory(e.inventory)},"整理背包"),e.inventory.map(this.renderRow),e.inventoryDiamondLevel<as.upgrades.inventoryByDiamonds.length&&t.createElement(zy,{onPress:qy},"+"))))}})||Bk;var Ik=i(4077),jk={};jk.styleTagTransform=sa(),jk.setAttributes=ra(),jk.insert=ta().bind(null,"head"),jk.domAPI=Zo(),jk.insertStyleElement=oa(),Xo()(Ik.A,jk);const Hk=Ik.A&&Ik.A.locals?Ik.A.locals:void 0;var Lk;const qk=ai((function(){const{player:e}=kc;return 0===e.careerInfo.selectedEnhances.length?t.createElement(Sa,{className:Hk.selectedList},t.createElement(_a,null,"没有激活任何被动技能。")):t.createElement(Sa,{className:Hk.selectedList},e.careerInfo.selectedEnhances.map(((e,n)=>{const r=as.enhances[e];return t.createElement(Sa,{key:n,className:Hk.selectedEnhance},t.createElement(Sa,null,t.createElement(_a,null,r.name)))})))})),zk=ai((function(e){let{level:n,enhance:r}=e;const{player:i}=kc,o=as.enhances[r],a=$a((()=>kc.player.careerInfo.selectedEnhances.length)),s=$a((()=>kc.player.careerInfo.selectedEnhances.indexOf(r))),l=!(s>=0||a<i.maxEnhanceCount&&n<=i.level)&&s<0;return t.createElement(Ea,{className:[Hk.enhanceItem,l&&Hk.enhanceItemDisabled],activeOpacity:.8,disabled:l,onPress:()=>{s>=0?kc.unselectEnhance(r):a<i.maxEnhanceCount&&kc.selectEnhance(r)}},t.createElement(Sa,{className:Hk.enhanceItemMain},t.createElement(_a,{className:Hk.enhanceName},o.name),n>i.level&&t.createElement(_a,null,n,"级后开启"),s>=0&&t.createElement(_a,null,"已激活"),t.createElement(Sa,{className:Hk.spacer})),t.createElement(_a,null,o.description))}));let Uk=ai(Lk=class extends t.Component{render(){const{player:e}=kc,{maxEnhanceCount:n,nextEnhanceUnlockLevel:r}=e;return t.createElement(Jm,{title:"被动技能",back:!0},t.createElement(Sa,{className:Hk.container},t.createElement(qk,null),t.createElement(Sa,null,t.createElement(_a,null,"最多携带",n,"个被动技能，",r&&t.createElement(_a,null,"下一个被动技能位置将在",e.nextEnhanceUnlockLevel,"级解锁。"))),t.createElement(Aa,null,Object.keys(e.careerData.enhances).map((n=>t.createElement(zk,{level:e.careerData.enhances[n],enhance:n,key:n}))))))}})||Lk;var Vk=i(1723),Kk={};Kk.styleTagTransform=sa(),Kk.setAttributes=ra(),Kk.insert=ta().bind(null,"head"),Kk.domAPI=Zo(),Kk.insertStyleElement=oa(),Xo()(Vk.A,Kk);const Yk=Vk.A&&Vk.A.locals?Vk.A.locals:void 0;var $k;const Wk=ai((function(e){let{type:n,onPress:r}=e;const i=as.careers[n],{player:o,playerUnit:a}=kc,s=o.getCareerLevel(n);return t.createElement(Ea,{className:Yk.careerItem,activeOpacity:.8,onPress:()=>{rc("提示","因为创世神艾尔设定的某种不可抗力\n虽然现在转职后将保留角色的等级（包括巅峰等级）、经验值以及穿戴的装备\n但已经学会的主动、被动技能都需要重新配置\n确定要马上转职吗\n",[{text:"马上转职",onPress:()=>{a.selectCareer(n),r&&r()}},{text:"再玩一会"}])}},t.createElement(Sa,{className:Yk.main},t.createElement(_a,{className:Yk.name},i.name),o.currentCareer===n&&t.createElement(_a,null,"当前职业"),t.createElement(Sa,{className:Yk.spacer}),s?t.createElement(_a,null,"等级：",s):t.createElement(_a,null,"等级：1")))}));let Gk=ai($k=class extends t.Component{constructor(){super(...arguments),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"onPress",(()=>{rw.navigate(-1)}))}render(){const e=Object.keys(as.careers).filter((e=>!as.careers[e].requirement||lg(as.careers[e].requirement)));return t.createElement(Jm,{title:"职业",back:!0},t.createElement(Aa,{className:Yk.container},e.map((e=>t.createElement(Wk,{key:e,type:e,onPress:this.onPress})))))}})||$k;var Jk=i(1916),Xk={};Xk.styleTagTransform=sa(),Xk.setAttributes=ra(),Xk.insert=ta().bind(null,"head"),Xk.domAPI=Zo(),Xk.insertStyleElement=oa(),Xo()(Jk.A,Xk);const Qk=Jk.A&&Jk.A.locals?Jk.A.locals:void 0;var Zk,ew;function tw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let nw=ai((ew=class extends t.Component{constructor(){super(...arguments),tw(this,"dataSource",new Ca.DataSource({rowHasChanged:(e,t)=>e!==t})),tw(this,"enterCode",(()=>{rc("帝国金库","卫兵拦住了你，不论你说什么口令都不管用。")})),tw(this,"renderRow",(e=>t.createElement(Ea,{className:Qk.item,onPress:()=>this.purchaseStory(e)},t.createElement(_a,{className:Qk.itemLabel},e.name," "),t.createElement(_a,null,"消耗神力",e.price,"点")))),tw(this,"annoucement",(()=>{rw.navigate("/story/annoucement")})),tw(this,"renderFooter",(()=>t.createElement(Sa,{className:Qk.footer},t.createElement(Ea,{className:Qk.item,onPress:this.annoucement},t.createElement(_a,{className:Qk.itemLabel},"更新日志"),t.createElement(_a,null,"当前版本：",hg().version)))))}async componentDidMount(){}purchaseStory(e){qm.diamonds<e.price?rc("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{rw.navigate("/purchase")}},{text:"取消"}]):(qm.diamonds-=e.price,qm.storiesMap.set(e.key,"done"),e.script&&navigator.push({location:"/story/play",passProps:{story:e.key}}))}render(){return t.createElement(Jm,{title:"日志",back:!0},t.createElement(Ca,{className:Qk.container,dataSource:this.dataSource.cloneWithRows([...qm.storiesMap.keys()].filter((e=>"task"===qm.storiesMap.get(e))).map((e=>as.stories[e])).filter((e=>e)).filter((e=>!e.requirement||lg(e.requirement))).filter((e=>"purchase"===e.taskType))),renderRow:this.renderRow,renderFooter:this.renderFooter}))}},tw(ew,"title","日志"),Zk=ew))||Zk;const rw=(iw=[{path:"/splash",element:t.createElement(Km,null)},{path:"/player/choose",element:t.createElement(ig,null)},{path:"/player/create",element:t.createElement(gg,null)},{path:"/home",element:t.createElement($b,null)},{path:"/inventory/loot-rule",element:t.createElement(Pk,null)},{path:"/inventory/bank",element:t.createElement(Nk,null)},{path:"/career/enhances",element:t.createElement(Uk,null)},{path:"/career/choose",element:t.createElement(Gk,null)},{path:"/purchase",element:t.createElement(dk,null)},{path:"/story/annoucement",element:t.createElement(Zb,null)},{path:"/story/purchase",element:t.createElement(nw,null)}],function(e){li(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=di(e.routes),n=null,r=new Set,i=null,o=null,a=null,s=null!=e.hydrationData,l=fi(t,e.history.location,e.basename),c=null;if(null==l){let n=so(404,{pathname:e.history.location.pathname}),{matches:r,route:i}=ao(t);l=r,c={[i.id]:n}}let u,h,p=!l.some((e=>e.route.loader))||null!=e.hydrationData,d={historyAction:e.history.action,location:e.history.location,matches:l,initialized:p,navigation:$i,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||c,fetchers:new Map},f=Wr.Pop,m=!1,g=!1,y=!1,v=[],b=[],k=new Map,w=0,x=-1,_=new Map,S=new Set,E=new Map,A=new Map;function D(e){d=si({},d,e),r.forEach((e=>e(d)))}function C(t,n){var r;let i,o=null!=d.actionData&&null!=d.navigation.formMethod&&fo(d.navigation.formMethod)&&"loading"===d.navigation.state&&!0!==(null==(r=t.state)?void 0:r._isRedirect);i=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:o?d.actionData:null,D(si({},n,{actionData:i,loaderData:n.loaderData?io(d.loaderData,n.loaderData,n.matches||[],n.errors):d.loaderData,historyAction:f,location:t,initialized:!0,navigation:$i,revalidation:"idle",restoreScrollPosition:!d.navigation.formData&&L(t,n.matches||d.matches),preventScrollReset:m})),g||f===Wr.Pop||(f===Wr.Push?e.history.push(t,t.state):f===Wr.Replace&&e.history.replace(t,t.state)),f=Wr.Pop,m=!1,g=!1,y=!1,v=[],b=[]}async function P(n,r,s){h&&h.abort(),h=null,f=n,g=!0===(s&&s.startUninterruptedRevalidation),function(e,t){if(i&&o&&a){let n=t.map((e=>vo(e,d.loaderData))),r=o(e,n)||e.key;i[r]=a()}}(d.location,d.matches),m=!0===(s&&s.preventScrollReset);let l=s&&s.overrideNavigation,c=fi(t,r,e.basename);if(!c){let e=so(404,{pathname:r.pathname}),{matches:n,route:i}=ao(t);return H(),void C(r,{matches:n,loaderData:{},errors:{[i.id]:e}})}if(_=r,(p=d.location).pathname===_.pathname&&p.search===_.search&&p.hash!==_.hash)return void C(r,{matches:c});var p,_;h=new AbortController;let P,R,F=to(r,h.signal,s&&s.submission);if(s&&s.pendingError)R={[oo(c).route.id]:s.pendingError};else if(s&&s.submission&&fo(s.submission.formMethod)){let e=await async function(e,t,n,r,i){let o;B(),D({navigation:si({state:"submitting",location:t},n)});let a=bo(r,t);if(a.route.action){if(o=await eo("action",e,a,r,u.basename),e.signal.aborted)return{shortCircuited:!0}}else o={type:Gr.error,error:so(405,{method:e.method,pathname:t.pathname,routeId:a.route.id})};if(po(o)){let e;return e=i&&null!=i.replace?i.replace:o.location===d.location.pathname+d.location.search,await O(d,o,{submission:n,replace:e}),{shortCircuited:!0}}if(ho(o)){let e=oo(r,a.route.id);return!0!==(i&&i.replace)&&(f=Wr.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:o.error}}}if(uo(o))throw new Error("defer() is not supported in actions");return{pendingActionData:{[a.route.id]:o.data}}}(F,r,s.submission,c,{replace:s.replace});if(e.shortCircuited)return;P=e.pendingActionData,R=e.pendingActionError,l=si({state:"loading",location:r},s.submission),F=new Request(F.url,{signal:F.signal})}let{shortCircuited:M,loaderData:N,errors:L}=await async function(e,t,n,r,i,o,a,s){let l=r;l||(l=si({state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},i));let c=i||(l.formMethod&&l.formAction&&l.formData&&l.formEncType?{formMethod:l.formMethod,formAction:l.formAction,formData:l.formData,formEncType:l.formEncType}:void 0),[u,p]=Xi(d,n,c,t,y,v,b,a,s,E);if(H((e=>!(n&&n.some((t=>t.route.id===e)))||u&&u.some((t=>t.route.id===e)))),0===u.length&&0===p.length)return C(t,si({matches:n,loaderData:{},errors:s||null},a?{actionData:a}:{})),{shortCircuited:!0};if(!g){p.forEach((e=>{let[t]=e,n=d.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(t,r)}));let e=a||d.actionData;D(si({navigation:l},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},p.length>0?{fetchers:new Map(d.fetchers)}:{}))}x=++w,p.forEach((e=>{let[t]=e;return k.set(t,h)}));let{results:f,loaderResults:m,fetcherResults:_}=await T(d.matches,n,u,p,e);if(e.signal.aborted)return{shortCircuited:!0};p.forEach((e=>{let[t]=e;return k.delete(t)}));let P=lo(f);if(P)return await O(d,P,{replace:o}),{shortCircuited:!0};let{loaderData:R,errors:B}=ro(d,n,u,m,s,p,_,A);return A.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&A.delete(t)}))})),function(){let e=[];for(let t of S){let n=d.fetchers.get(t);li(n,"Expected fetcher: "+t),"loading"===n.state&&(S.delete(t),e.push(t))}I(e)}(),si({loaderData:R,errors:B},j(x)||p.length>0?{fetchers:new Map(d.fetchers)}:{})}(F,r,c,l,s&&s.submission,s&&s.replace,P,R);M||(h=null,C(r,si({matches:c},P?{actionData:P}:{},{loaderData:N,errors:L})))}function R(e){return d.fetchers.get(e)||Wi}async function O(e,t,n){var r;let{submission:i,replace:o,isFetchActionRedirect:a}=void 0===n?{}:n;t.revalidate&&(y=!0);let s=ci(e.location,t.location,si({_isRedirect:!0},a?{_isFetchActionRedirect:!0}:{}));if(li(s,"Expected a location on the redirect navigation"),void 0!==(null==(r=window)?void 0:r.location)){let e=pi(t.location).origin;if(window.location.origin!==e)return void(o?window.location.replace(t.location):window.location.assign(t.location))}h=null;let l=!0===o?Wr.Replace:Wr.Push,{formMethod:c,formAction:u,formEncType:p,formData:d}=e.navigation;!i&&c&&u&&d&&p&&(i={formMethod:c,formAction:u,formEncType:p,formData:d}),Yi.has(t.status)&&i&&fo(i.formMethod)?await P(l,s,{submission:si({},i,{formAction:t.location})}):await P(l,s,{overrideNavigation:{state:"loading",location:s,formMethod:i?i.formMethod:void 0,formAction:i?i.formAction:void 0,formEncType:i?i.formEncType:void 0,formData:i?i.formData:void 0}})}async function T(e,t,n,r,i){let o=await Promise.all([...n.map((e=>eo("loader",i,e,t,u.basename))),...r.map((e=>{let[,t,n,r]=e;return eo("loader",to(t,i.signal),n,r,u.basename)}))]),a=o.slice(0,n.length),s=o.slice(n.length);return await Promise.all([mo(e,n,a,i.signal,!1,d.loaderData),mo(e,r.map((e=>{let[,,t]=e;return t})),s,i.signal,!0)]),{results:o,loaderResults:a,fetcherResults:s}}function B(){y=!0,v.push(...H()),E.forEach(((e,t)=>{k.has(t)&&(b.push(t),N(t))}))}function F(e,t,n){let r=oo(d.matches,t);M(e),D({errors:{[r.route.id]:n},fetchers:new Map(d.fetchers)})}function M(e){k.has(e)&&N(e),E.delete(e),_.delete(e),S.delete(e),d.fetchers.delete(e)}function N(e){let t=k.get(e);li(t,"Expected fetch controller: "+e),t.abort(),k.delete(e)}function I(e){for(let t of e){let e={state:"idle",data:R(t).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(t,e)}}function j(e){let t=[];for(let[n,r]of _)if(r<e){let e=d.fetchers.get(n);li(e,"Expected fetcher: "+n),"loading"===e.state&&(N(n),_.delete(n),t.push(n))}return I(t),t.length>0}function H(e){let t=[];return A.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),A.delete(r))})),t}function L(e,t){if(i&&o&&a){let n=t.map((e=>vo(e,d.loaderData))),r=o(e,n)||e.key,a=i[r];if("number"==typeof a)return a}return null}return u={get basename(){return e.basename},get state(){return d},get routes(){return t},initialize:function(){return n=e.history.listen((e=>{let{action:t,location:n}=e;return P(t,n)})),d.initialized||P(Wr.Pop,d.location),u},subscribe:function(e){return r.add(e),()=>r.delete(e)},enableScrollRestoration:function(e,t,n){if(i=e,a=t,o=n||(e=>e.key),!s&&d.navigation===$i){s=!0;let e=L(d.location,d.matches);null!=e&&D({restoreScrollPosition:e})}return()=>{i=null,a=null,o=null}},navigate:async function(t,n){if("number"==typeof t)return void e.history.go(t);let{path:r,submission:i,error:o}=Ji(t,n),a=ci(d.location,r,n&&n.state);a=si({},a,e.history.encodeLocation(a));let s=n&&null!=n.replace?n.replace:void 0,l=Wr.Push;!0===s?l=Wr.Replace:!1===s||null!=i&&fo(i.formMethod)&&i.formAction===d.location.pathname+d.location.search&&(l=Wr.Replace);let c=n&&"preventScrollReset"in n?!0===n.preventScrollReset:void 0;return await P(l,a,{submission:i,pendingError:o,preventScrollReset:c,replace:n&&n.replace})},fetch:function(n,r,i,o){if(Gi)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");k.has(n)&&N(n);let a=fi(t,i,e.basename);if(!a)return void F(n,r,so(404,{pathname:i}));let{path:s,submission:l}=Ji(i,o,!0),c=bo(a,s);l&&fo(l.formMethod)?async function(n,r,i,o,a,s){if(B(),E.delete(n),!o.route.action){let e=so(405,{method:s.formMethod,pathname:i,routeId:r});return void F(n,r,e)}let l=d.fetchers.get(n),c=si({state:"submitting"},s,{data:l&&l.data," _hasFetcherDoneAnything ":!0});d.fetchers.set(n,c),D({fetchers:new Map(d.fetchers)});let p=new AbortController,m=to(i,p.signal,s);k.set(n,p);let g=await eo("action",m,o,a,u.basename);if(m.signal.aborted)return void(k.get(n)===p&&k.delete(n));if(po(g)){k.delete(n),S.add(n);let e=si({state:"loading"},s,{data:void 0," _hasFetcherDoneAnything ":!0});return d.fetchers.set(n,e),D({fetchers:new Map(d.fetchers)}),O(d,g,{isFetchActionRedirect:!0})}if(ho(g))return void F(n,r,g.error);uo(g)&&li(!1,"defer() is not supported in actions");let P=d.navigation.location||d.location,R=to(P,p.signal),M="idle"!==d.navigation.state?fi(t,d.navigation.location,e.basename):d.matches;li(M,"Didn't find any matches after fetcher action");let N=++w;_.set(n,N);let I=si({state:"loading",data:g.data},s,{" _hasFetcherDoneAnything ":!0});d.fetchers.set(n,I);let[H,L]=Xi(d,M,s,P,y,v,b,{[o.route.id]:g.data},void 0,E);L.filter((e=>{let[t]=e;return t!==n})).forEach((e=>{let[t]=e,n=d.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(t,r),k.set(t,p)})),D({fetchers:new Map(d.fetchers)});let{results:q,loaderResults:z,fetcherResults:U}=await T(d.matches,M,H,L,R);if(p.signal.aborted)return;_.delete(n),k.delete(n),L.forEach((e=>{let[t]=e;return k.delete(t)}));let V=lo(q);if(V)return O(d,V);let{loaderData:K,errors:Y}=ro(d,d.matches,H,z,void 0,L,U,A),$={state:"idle",data:g.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(n,$);let W=j(N);"loading"===d.navigation.state&&N>x?(li(f,"Expected pending action"),h&&h.abort(),C(d.navigation.location,{matches:M,loaderData:K,errors:Y,fetchers:new Map(d.fetchers)})):(D(si({errors:Y,loaderData:io(d.loaderData,K,M,Y)},W?{fetchers:new Map(d.fetchers)}:{})),y=!1)}(n,r,s,c,a,l):(E.set(n,[s,c,a]),async function(e,t,n,r,i,o){let a=d.fetchers.get(e),s=si({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},o,{data:a&&a.data," _hasFetcherDoneAnything ":!0});d.fetchers.set(e,s),D({fetchers:new Map(d.fetchers)});let l=new AbortController,c=to(n,l.signal);k.set(e,l);let h=await eo("loader",c,r,i,u.basename);if(uo(h)&&(h=await go(h,c.signal,!0)||h),k.get(e)===l&&k.delete(e),c.signal.aborted)return;if(po(h))return void await O(d,h);if(ho(h)){let n=oo(d.matches,t);return d.fetchers.delete(e),void D({fetchers:new Map(d.fetchers),errors:{[n.route.id]:h.error}})}li(!uo(h),"Unhandled fetcher deferred data");let p={state:"idle",data:h.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(e,p),D({fetchers:new Map(d.fetchers)})}(n,r,s,c,a,l))},revalidate:function(){B(),D({revalidation:"loading"}),"submitting"!==d.navigation.state&&("idle"!==d.navigation.state?P(f||d.historyAction,d.navigation.location,{overrideNavigation:d.navigation}):P(d.historyAction,d.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:R,deleteFetcher:M,dispose:function(){n&&n(),r.clear(),h&&h.abort(),d.fetchers.forEach(((e,t)=>M(t)))},_internalFetchControllers:k,_internalActiveDeferreds:A},u}({basename:null==(ow={initialEntries:["/splash"]})?void 0:ow.basename,history:function(e){void 0===e&&(e={});let t,{initialEntries:n=["/"],initialIndex:r,v5Compat:i=!1}=e;t=n.map(((e,t)=>u(e,"string"==typeof e?null:e.state,0===t?"default":void 0)));let o=l(null==r?t.length-1:r),a=Wr.Pop,s=null;function l(e){return Math.min(Math.max(e,0),t.length-1)}function c(){return t[o]}function u(e,n,r){void 0===n&&(n=null);let i=ci(t?c().pathname:"/",e,n,r);return function(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),i}return{get index(){return o},get action(){return a},get location(){return c()},createHref:e=>"string"==typeof e?e:ui(e),encodeLocation(e){let t="string"==typeof e?hi(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push(e,n){a=Wr.Push;let r=u(e,n);o+=1,t.splice(o,t.length,r),i&&s&&s({action:a,location:r})},replace(e,n){a=Wr.Replace;let r=u(e,n);t[o]=r,i&&s&&s({action:a,location:r})},go(e){a=Wr.Pop,o=l(o+e),s&&s({action:a,location:c()})},listen:e=>(s=e,()=>{s=null})}}({initialEntries:null==ow?void 0:ow.initialEntries,initialIndex:null==ow?void 0:ow.initialIndex}),hydrationData:null==ow?void 0:ow.hydrationData,routes:function e(t){return t.map((t=>{let n=ko({},t);return null==n.hasErrorBoundary&&(n.hasErrorBoundary=null!=n.errorElement),n.children&&(n.children=e(n.children)),n}))}(iw)}).initialize());var iw,ow,aw;let sw=ai(aw=class extends t.Component{render(){return t.createElement(Uo,{router:rw})}})||aw;var lw=i(6626),cw={};cw.styleTagTransform=sa(),cw.setAttributes=ra(),cw.insert=ta().bind(null,"head"),cw.domAPI=Zo(),cw.insertStyleElement=oa(),Xo()(lw.A,cw);const uw=lw.A&&lw.A.locals?lw.A.locals:void 0,hw=document.createElement("div");hw.className=uw.root,document.body.appendChild(hw),(0,e.render)(t.createElement(sw,null),hw)})()})();